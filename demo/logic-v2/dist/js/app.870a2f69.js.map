{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/datasearch.png","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/utils/canvas.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/utils/constance.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/utils/functions.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/instance.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/node.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/ghostNode.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/nodeWeakMap.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/stack.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/stackMixin.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/layoutMixin.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/messageMixin.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/events/index.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/events/adapter.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/groupFactory.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/point.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/rectangle.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/capsule.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/capsule-vertical.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/rhombus.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/diamond.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shapes/diamond-vertical.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/events/commonAdapter.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/base-link.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/text.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/image.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/shadowDom.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/link.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/poly-link.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/instance/bezier-link.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/layout/linear-layout.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/layout/low-code-types/baseNode.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/layout/low-code-layout.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/layout/er-layout/er-node.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/layout/er-layout/er-layout.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/core/flow/index.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/components/StackMixin.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/components/JFlow.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/components/JFlowInstance.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/components/JFlowLink.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/components/JFlowGroup.js","webpack:////Users/wangtao/Documents/My Workspace/JFlow/src/vue-plugin/JFlowPlugin.js","webpack:///./src/App.vue?1b9f","webpack:///./layout/base-node.js","webpack:///./layout/logic-layout.js","webpack:///./src/logic-node.vue?f44d","webpack:///./src/configs.js","webpack:///src/logic-node.vue","webpack:///./src/logic-node.vue?0113","webpack:///./src/logic-node.vue","webpack:///./src/start-node.vue?a1fe","webpack:///src/start-node.vue","webpack:///./src/start-node.vue?e113","webpack:///./src/start-node.vue","webpack:///./src/endpoint-node.vue?ddc0","webpack:///src/endpoint-node.vue","webpack:///./src/endpoint-node.vue?b3f0","webpack:///./src/endpoint-node.vue","webpack:///./src/end-node.vue?ef84","webpack:///src/end-node.vue","webpack:///./src/end-node.vue?3223","webpack:///./src/end-node.vue","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/While.png","webpack:///./src/App.vue?fd8d","webpack:///./src/assets/if.png","webpack:///./src/assets/end.png","webpack:///./src/App.vue?8544","webpack:///./src/assets/callLogic.png","webpack:///./src/assets/Switch.png","webpack:///./src/assets/ForEach.png","webpack:///./src/assets/Assignment.png","webpack:///./src/assets/callInterface.png","webpack:///./src/assets/start.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","createCanvas","wrapper","canvas","document","createElement","ctx","getContext","getBoundingClientRect","width","height","left","top","style","userSelect","scale","devicePixelRatio","Math","floor","position","overflow","append","raw_width","raw_height","resizeCanvas","caheCanvas","caheCanvasctx","requestCacheCanvas","render","clearRect","save","restore","DIRECTION","RIGHT","BOTTOM","LEFT","TOP","SELF","APPROXIMATE","JFLOW_MODE","DEFAULT","LINKING","bounding_box","points","min_x","Infinity","min_y","max_x","max_y","idx","item","max","x","y","sqr","dist2","v","w","distToSegmentSquared","l2","min","minIntersectionBetweenNodes","dmsfrom","dmsto","meta","fromDir","fromP","toDir","toP","distMin","keys","forEach","df","pf","dt","pt","dist","assign","_resolveControlPoint","dir","spanx","spany","bezierPoints","p1","p2","start_dir","end_dir","minSpanX","minSpanY","abs","cp1","cp2","arrowspan","includes","isVerticalEnd","endX","endY","bezierPoint","P","q","u","angle","atan2","distToBezierSegmentSquared","b","Bezier","point","project","getBezierAngle","sx","sy","cp1x","cp1y","cp2x","cp2y","ex","ey","dx","pow","dy","PI","polylinePoints","isSelf","dirSpan","isVerticalStart","yp","xp","pmiddle","unshift","minusVec","absVec","vec","sqrt","scaleVec","makeRadiusFromVector","pbefore","pnext","radius","vec1","vec2","absVec1","absVec2","r1","r2","doOverlap","rec1","rec2","isPolyLineIntersectionRectange","polyline","rect","l0","l1","r0","cp","ishitKey","isInViewBox","Instance","configs","visible","_belongs","undefined","borderWidth","borderColor","backgroundColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","this","_jflow","_target","instance","link","_getMovingTarget","ishit","dispatchEvent","CustomEvent","detail","uniqueName","val","oldval","onEnterViewbox","onLeaveViewbox","k","anchor","getBoundingRect","customEvent","bubbles","bubbleEvent","calculateToRealWorld","belongs","recalculateUp","EventTarget","Node","_rawConfigs","absolutePosition","C","constructor","GhostNode","x2","y2","getMapObject","layoutNode","jflowNode","NodeWeakMap","_map","WeakMap","source","obj","set","has","delete","clear","NodeWeakMapMixin","initNodeWeakMap","source_Layout_Render_NodeMap","getRenderNodeBySource","mapping","getLayoutNodeBySource","_getMap","map","setLayoutNodeBySource","setRenderNodeBySource","InstanceStack","_currentHit","condition","movingTarget","_isMoving","currentConstraint","ignoreHit","isHit","_isHit","Array","StackMixin","instances","links","_stack","_linkStack","initStack","addToStack","replaceFromStack","target","index","findIndex","addToLinkStack","removeFromStack","removeFromLinkStack","emptyLink","resetChildrenPosition","addInstanceToLink","targetLink","from","to","_constuctor","__proto__","interateNodeStack","callback","LayoutMixin","_layout","initLayout","layout","dirty","getBoundingDimension","wold","hold","_getBoundingGroupRect","reflow","wnow","hnow","recalculate","staticCheck","MessageMixin","_message","sendMessage","msg","consumeMessage","readMessage","JFlowEvent","event","originEvent","jflow","getDefaultPlugin","wheel","preventDefault","offsetX","offsetY","deltaX","deltaY","ctrlKey","zoomHandler","panHandler","pointerdown","button","pressStartHandler","pointermove","pressMoveHandler","pointerup","stopPropagation","pressUpHanlder","contextmenu","contextMenuHanlder","EventAdapter","plugin","use","canvasHandlers","documentHandlers","ca","docObj","eventName","handler","handlerWrapperd","e","addEventListener","removeEventListener","GroupMixin","_setPadding","padding","paddingTop","right","paddingRight","bottom","paddingBottom","paddingLeft","_setMargin","margin","marginTop","marginRight","marginBottom","marginLeft","_getCenter","mx","my","centerX","centerY","_shape","setAnchorX","setAnchorY","setAnchor","_calculatePointBack","gx","gy","cx","cy","calculateToCoordination","clone","h","ltx","lty","rbx","rby","getIntersectionsInFourDimension","calculateIntersection","x1","y1","vecx","vecy","theta1","theta2","dirx","diry","destroy","defaultShift","GroupFactory","jflowNodeConstructor","options","shapeShift","definedWidth","minWidth","definedHeight","lock","display","setConfig","getBoundingRectPoints","bbox","paddingWidth","paddingHeight","_paddingWidth","_paddingHeight","shapeWidth","shapeHeight","globalAlpha","translate","_currentp","checkHit","Point","type","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","ratio","end","allIntersections","interDir","Rectangle","borderRadius","_setBorder","border","color","enable","xt","yt","moveTo","lineTo","quadraticCurveTo","closePath","clip","Capsule","hw","hh","leftCenter","rightCenter","ww","rr","CapsuleVertical","topCenter","bottomCenter","yy","Rhombus","diagonalsV","diagonalsH","center","Diamond","side","_doCache","sinSIDE","sin","cosSIDE","cos","xx","_cachePoints","polygon","odd","DiamondVertical","topmiddle","bottommiddle","xleft","xright","BaseLink","viewbox","createInputElement","input","setAttribute","TEXT_ALIGN","CENTER","Text","content","fontFamily","fontSize","textColor","textAlign","textBaseline","lineHeight","indent","editable","acceptPatten","renderShadowText","_makeEditable","exec","inputElement","DOMwrapper","oldVal","transform","calculateToRealWorldWithScalar","textIndent","_render","outline","blurHandler","removeChild","keyUpHandler","keyCode","focus","font","measureText","actualBoundingBoxLeft","actualBoundingBoxRight","fontBoundingBoxAscent","fontBoundingBoxDescent","_textWidth","fillText","Icon","image","onload","requestAnimationFrame","imageBounding","imageWidth","imageHeight","complete","drawImage","ShadowDom","domFactory","createDocument","_dom","container","pos","getRealWorldPosition","appendChild","Link","controlPoints","start","getCenter","startX","startY","_calculateAnchorPoints","len","a","PIINRATIO","PolyLink","approximate","lineDash","doubleLink","noArrow","_cacheAngle","br","pEnd","angleEnd","beginAngle","rotate","pLast","pNext","setLineDash","lastP","remainPoints","currentP","BezierLink","bezierCurveTo","hasFlip","parseInt","LinearLayout","direction","gap","alignment","justify","group","stack","filter","absoluteStack","groupWidth","reduceHeight","lastInstanceHeight","maxWidth","allHeight","concat","reduceWidth","lastInstanceWidth","maxHeight","allWidth","withdraw","gapAverage","WIDTH","HEIGHT","_resolveAbsoluteAnchor","config","BaseNode","id","level","sequence","isFree","parent","parentIterateType","hasEndPoint","spanX","spanY","nodes","traverse","renderNode","Root","isroot","body","mapFunc","playgrounditerator","playground","reflowPreCalculate","preCallback","node","last","part","makeLink","IfStatement","consequent","alternate","isLocked","c_spanX","c_spanY","a_spanX","a_spanY","nextSequeence","Endpoint","lastc","lasta","console","log","linkMeta","SwitchStatement","cases","lastCase","cc","s_spanX","s_spanY","ForEachStatement","WhileStatement","anticlock","SwitchCase","TYPE_MAPPING","other","makeAST","__endpoint__","Constructor","LowcodeLayout","linkLength","treeItemDraggable","reOrder","ast","static","flowStack","flowLinkStack","root","isDraggable","currentTopNodeId","layoutMapping","vertical","horizontal","playgroundLayoutMapping","reflowBodyPreCalculate","reflowPlaygroundPreCalculate","topNode","_layoutNode","finded","find","nowAnchor","currentAnchor","verticalMapping","horizontalMapping","columnNumber","column","rowWidth","rows","rowNumber","row","rowHeight","columns","layoutMeta","reflowByMapping","values","ERProperty","isNavigation","ref","association","_selfLink","parentPropertyRef","getJflowInstance","doubleRef","ERNode","propertyList","navigationPropertyList","idProperty","nodeMap","idRef","isParentRef","parentRef","objectRef","targetProperty","toProperty","isObjectRef","makeER","_traverseProperty","ERLayout","erNodes","entityRelationship","er","idMap","id1","id2","fromMeta","lineMapping","size","computeNodeAnchor","recorded","relativeAnchor","diagramWeight","nx","ny","Group","CapsuleGroup","RhombusGroup","DiamondGroup","DiamondVerticalGroup","CapsuleVerticalGroup","PointGroup","ceil","JFlow","eventAdapter","dpr","initialZoom","initialPosition","setInitialPosition","maxZoom","minZoom","NodeRenderTop","offeset","_lastState","dragging","processing","_lastDragState","moving","isInstanceDirty","isLinkDirty","cache","initialX","initialY","status","dragovering","_focus","_dragOverTarget","allowDrop","_tempNode","_tempLink","targets","dom","c_width","c_height","canvasMeta","actual_width","actual_height","_createEventHandler","scaleRatio","p_width","p_height","contentBox","w_ratio","h_ratio","align","realboxX","realboxY","realboxW","realboxH","_readyToRender","linkGen","offset","_recalculatePosition","nowx","nowy","destroyListener","destroyPlainEventListener","unload","dragoverHandler","_onDragover","dropHandler","_onDrop","offsetPoint","topLayerPoint","_getViewBox","linkStack","movingtarget","setMovingTargets","_dragCurrentData","oldIns","_targetLockOn","_processDragOver","Promise","resolve","then","payload","clientX","clientY","_zooming","newScale","amount","deltaScale","currentWidth","currentHeight","deltaWidth","deltaHeight","tX","tY","pX","pY","_panning","cursor","isDocument","_clearTarget","checkresult","removeTempDraggingInstance","setTransform","_resetTransform","_viewBox","_isInViewBox","provide","methods","_jflowInstance","onStackChangeHandler","mixins","renderJFlow","getJFlow","getInstance","props","default","loading","Boolean","genVueComponentKey","Function","renderNodes","renderLinks","vnodes","$scopedSlots","__vnode__","vnode","vlinks","k1","k2","k3","$slots","created","genNodeLinkMeta","loadingNodes","beforeDestroy","$emit","tl","linkPart","mountJFlow","tn","$mount","$el","$listeners","func","syncNodeLink","$nextTick","__renderInSchedule__","nameNode","builder","JFlowInstance","inject","watch","diffed","diff","news","deletes","vnew","vold","hnew","bindListeners","destroyed","isLink","fromInstance","toInstance","mounted","$watch","refreshConfig","addToBelongStack","removeFromBelongStack","JSON","stringify","updated","JFLOW_NODES","JFLOW_LINKS","JFLOW_GROUPS","components","component","JFlowComponent","JFlowGroup","JFlowLink","componentPrefix","customElements","define","attachShadow","HTMLElement","install","Vue","prefixToUse","prefix","customInstance","customGroups","_vm","_h","$createElement","_c","_self","staticStyle","class","$style","attrs","jflowloading","on","$event","scopedSlots","_u","fn","removelink","staticRenderFns","getType","concept","Logic","rootNode","firstConsquent","nextColumn","IFstatement","LogicLayout","rowGap","columnGap","columnMap","columnAnchor","sort","iconGroup","imageConfig","textGroup","makeImage","icon","Image","src","ConceptIconMap","AssignmentIcon","ForEachIcon","SwitchIcon","WhileIcon","callInterfaceIcon","callLogicIcon","datasearchIcon","ifIcon","ConceptColorMap","ConceptSubColorMap","startNode","endNode","logicNode","EndPointNode","sourceData","onLink","onLinking","linkConfigs","sourceNext","injectStyles","context","locals","productionTip","JFlowVuePlugin","App"],"mappings":"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","file":"js/app.870a2f69.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"data:image/png;base64,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\"","\n/**\n * @typedef {Object} CanvasMeta\n * @property {Element} canvas - canvas \n * @property {number} width - \n * @property {number} height - \n * @property {number} raw_width - \n * @property {number} raw_height - \n * @property {number} left - \n * @property {number} top - \n * @property {Context2d} ctx - Context2d\n * @property {number} scale - \n */\n/**\n *  canvas \n * @param  {Element} wrapper - dom\n * @return {CanvasMeta}\n */\nexport function createCanvas(wrapper) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const { width, height, left, top } = wrapper.getBoundingClientRect();\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    canvas.style.userSelect = 'none';\n    const scale = window.devicePixelRatio;\n    canvas.width = Math.floor(width * scale);\n    canvas.height = Math.floor(height * scale);\n\n    if(wrapper) {\n        wrapper.style.position = 'relative';\n        wrapper.style.overflow = 'hidden';\n        wrapper.append(canvas);\n    }\n    return {\n        canvas,\n        width,\n        height,\n        raw_width: canvas.width,\n        raw_height: canvas.height,\n        left,\n        top,\n        ctx,\n        scale,\n    }\n}\n\nexport function resizeCanvas(canvas, wrapper) {\n    const { width, height, left, top } = wrapper.getBoundingClientRect();\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    const scale = window.devicePixelRatio;\n    canvas.width = Math.floor(width * scale);\n    canvas.height = Math.floor(height * scale);\n    return {\n        width,\n        height,\n        raw_width: canvas.width,\n        raw_height: canvas.height,\n    }\n}\n\nconst caheCanvas = document.createElement('canvas');\ncaheCanvas.width = 1;\ncaheCanvas.height = 1;\nconst caheCanvasctx = caheCanvas.getContext('2d');\nconst scale = window.devicePixelRatio;\ncaheCanvasctx.scale(scale, scale);\n\n/**\n * canvas\n * @param  {render} render - \n */\nexport function requestCacheCanvas(render) {\n    caheCanvasctx.clearRect(0,0,5,5);\n    caheCanvasctx.save();\n    render(caheCanvasctx);\n    caheCanvasctx.restore();\n    caheCanvasctx.clearRect(0,0,5,5);\n}","/**\n * \n * @readonly\n * @enum {number}\n */\nexport const DIRECTION = {\n    /** RIGHT */\n    RIGHT: 0,\n    /** BOTTOM */\n    BOTTOM: 1,\n    /** LEFT */\n    LEFT: 2,\n    /** TOP */\n    TOP: 3,\n    /** SELF */\n    SELF: 100,\n}\n\nexport function nextDirection(direction, clockwise) {\n    const nextDir = (direction + (clockwise ? 1 : -1)) % 4;\n    return nextDir;\n}\n\nexport function oppositeDirection(direction) {\n    return (direction + 2) % 4\n}\n\nexport const APPROXIMATE = 6;\n\nexport const JFLOW_MODE = {\n    DEFAULT: 'DEFAULT',\n    LINKING: 'LINKING',\n}\n\nexport const LINE_DIR = {\n    FROM: 'from',\n    TO: 'to',\n}","import {\n    Bezier,\n} from 'bezier-js';\nimport { DIRECTION } from './constance';\n\n/**\n * \n * @param {number[][]} points - \n * @return {Object} demension \n */\nexport function bounding_box(points) {\n    let min_x = Infinity; \n    let min_y = Infinity; \n    let max_x = -Infinity; \n    let max_y = -Infinity; \n    for(let idx in points) {\n        const item = points[idx];\n        if(item[0] < min_x){\n            min_x = item[0]\n        }\n\n        if (item[0] > max_x) {\n            max_x = item[0]\n        } \n\n        if (item[1] < min_y) {\n            min_y = item[1]\n        }\n\n        if (item[1] > max_y) {\n            max_y = item[1]\n        }\n    }\n    return {\n        // points: [(min_x,min_y),(max_x,min_y),(max_x,max_y),(min_x,max_y)],\n        width: Math.max(max_x - min_x, 10),\n        height: Math.max(max_y - min_y, 10),\n        x: min_x,\n        y: min_y,\n    }\n}\n\nfunction sqr(x) {\n    return x * x;\n}\nexport function dist2(v, w) {\n    return sqr(v[0] - w[0]) + sqr(v[1] - w[1]);\n}\n\n// p - point\n// v - start point of segment\n// w - end point of segment\nexport function distToSegmentSquared(p, v, w) {\n    const l2 = dist2(v, w);\n    if (l2 === 0) return dist2(p, v);\n    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;\n    t = Math.max(0, Math.min(1, t));\n    return dist2(p, [ v[0] + t * (w[0] - v[0]), v[1] + t * (w[1] - v[1]) ]);\n}\n\nexport function minIntersectionBetweenNodes(dmsfrom, dmsto) {\n    const meta = {\n        fromDir: null,\n        fromP: null,\n        toDir: null,\n        toP: null,\n        distMin: Infinity\n    }\n    Object.keys(dmsfrom).forEach(df => {\n        if((+df) === DIRECTION.SELF) {\n            return;\n        }\n        let pf = dmsfrom[df];\n        Object.keys(dmsto).forEach(dt => {\n            if((+dt) === DIRECTION.SELF) {\n                return;\n            }\n            let pt = dmsto[dt];\n            const dist = dist2(pf, pt);\n            if(dist < meta.distMin) {\n                Object.assign(meta, {\n                    distMin: dist,\n                    fromDir: +df,\n                    fromP: pf,\n                    toDir: +dt,\n                    toP: pt,\n                })\n            }\n        })\n    });\n    return meta;\n}\n\n// export function bezierPoints(p1, p2, start_dir = DIRECTION.TOP, end_dir = DIRECTION.TOP, anticlock = false) {\n//     const isSameDirection = start_dir === end_dir;\n//     const isVerticalStart = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(start_dir);   \n//     const isVerticalEnd = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(end_dir);\n//     const arrowspan = [DIRECTION.TOP, DIRECTION.LEFT].includes(end_dir) ? -5 : 5;\n//     const endX = isVerticalEnd ? p2[0] : p2[0] + arrowspan;\n//     const endY = isVerticalEnd ? p2[1] + arrowspan : p2[1];\n//     if(isSameDirection) {\n//         let span = Math.abs(isVerticalStart ? (endY - p1[1]) : (endX - p1[0]))\n//         span = Math.min(span, 50);\n//         const symb = [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(end_dir)\n//         span = symb ? span : - span;\n//         const cp1 = isVerticalStart ? [p1[0], p1[1] + span] : [p1[0] + span, p1[1]];\n//         const cp2 = isVerticalEnd ? [endX, endY + span] : [endX + span, endY];\n//         return [ \n//             ...cp1,\n//             ...cp2,\n//             endX, endY ];\n//     }\n//     let spanStart = (anticlock ? -5 : 1) * (isVerticalStart ? (endY - p1[1]) / 2 : (endX - p1[0]) / 2)\n//     let spanEnd = (anticlock ? -4 : 1) * (isVerticalEnd ? (p1[1] - endY) / 2 : (p1[0] - endX) / 2)\n//     let u1 = spanStart / Math.abs(spanStart);\n//     spanStart = u1 * Math.min(Math.abs(spanStart), 50);\n//     let u2 = spanEnd / Math.abs(spanEnd);\n//     spanEnd = u2 * Math.min(Math.abs(spanEnd), 50);\n//     const cp1 = isVerticalStart ? [p1[0], p1[1] + spanStart] : [p1[0] + spanStart, p1[1]];\n//     const cp2 = isVerticalEnd ? [endX, endY + spanEnd] : [endX + spanEnd, endY];\n//     return [ \n//         ...cp1,\n//         ...cp2,\n//         endX, endY ];\n// }\nfunction _resolveControlPoint(p, dir, spanx, spany){\n    if(dir === DIRECTION.TOP){\n        return [p[0], p[1]-spany]\n    }\n    if(dir === DIRECTION.BOTTOM){\n        return [p[0], p[1]+spany]\n    }\n    if(dir === DIRECTION.LEFT){\n        return [p[0]-spanx, p[1]]\n    }\n    if(dir === DIRECTION.RIGHT){\n        return [p[0]+spanx, p[1]]\n    }\n}\n\nexport function bezierPoints(p1, p2, start_dir = DIRECTION.TOP, end_dir = DIRECTION.TOP, minSpanX = 0, minSpanY = 0) {\n    const spanx = Math.max(Math.abs((p1[0] - p2[0])/2), minSpanX);\n    const spany = Math.max(Math.abs((p1[1] - p2[1])/2), minSpanY);\n    const cp1 = _resolveControlPoint(p1, start_dir, spanx, spany);\n    const cp2 = _resolveControlPoint(p2, end_dir, spanx, spany);\n    const arrowspan = [DIRECTION.TOP, DIRECTION.LEFT].includes(end_dir) ? -5 : 5;\n    const isVerticalEnd = [DIRECTION.TOP, DIRECTION.BOTTOM].includes(end_dir);\n    const endX = isVerticalEnd ? p2[0] : p2[0] + arrowspan;\n    const endY = isVerticalEnd ? p2[1] + arrowspan : p2[1];\n    return [ \n        ...cp1,\n        ...cp2,\n        endX, endY];\n}\n\nexport function bezierPoint(t, P) {\n    const q = 1-t;\n    const x = q*q*q*P[0] + 3*q*q*t*P[2] + 3*q*t*t*P[4] + t*t*t*P[6];\n    const y = q*q*q*P[1] + 3*q*q*t*P[3] + 3*q*t*t*P[5] + t*t*t*P[7];\n    const u = q*q*(P[2]-P[0]) + 2*t*q*(P[4]-P[2]) + t*t*(P[6]-P[4]);\n    const v = q*q*(P[3]-P[1]) + 2*t*q*(P[5]-P[3]) + t*t*(P[7]-P[5]);\n    let angle = Math.atan2(v, u);\n    // console.log(angle * 180)\n    // if(angle < 0) {\n    //     angle = Math.PI + angle;\n    // }\n    return [x, y, angle];\n}\n\n// export function bezierPoints(p1, p2, start_vec, end_vec) {\n\n// }\n\nexport function distToBezierSegmentSquared(p, points) {\n    const b = new Bezier(...points);\n\n    const point = b.project({ x: p[0], y: p[1] });\n    const d = dist2(p, [ point.x, point.y ]);\n    return d;\n}\n\nexport function getBezierAngle(t, sx, sy, cp1x, cp1y, cp2x, cp2y, ex, ey) {\n  var dx = Math.pow(1-t, 2)*(cp1x-sx) + 2*t*(1-t)*(cp2x-cp1x) + t * t * (ex - cp2x);\n  var dy = Math.pow(1-t, 2)*(cp1y-sy) + 2*t*(1-t)*(cp2y-cp1y) + t * t * (ey - cp2y);\n  return -Math.atan2(dx, dy) + 0.5*Math.PI;\n}\n\n\nexport function getInstanceHeight(instance) {\n    const rect = instance.getBoundingRect();\n    // let min_y = Infinity;\n    // let max_y = -Infinity;\n    // let min_x = Infinity;\n    // let max_x = -Infinity;\n    // rect.forEach(point => {\n    //     max_y = Math.max(max_y, point[1]);\n    //     min_y = Math.min(min_y, point[1]);\n    //     max_x = Math.max(max_x, point[0]);\n    //     min_x = Math.min(min_x, point[0]);\n    // });\n    return {\n        height: rect[3] - rect[1],\n        width: rect[2] - rect[0],\n    }\n}\n\nexport function polylinePoints(p1, p2, start_dir = DIRECTION.TOP, end_dir = DIRECTION.TOP, minSpanX = 10, minSpanY = 10, isSelf) {\n    const dirSpan = Math.abs(start_dir - end_dir);\n    // const spanx = Math.max(Math.abs((p1[0] - p2[0])/2), minSpanX);\n    // const spany = Math.max(Math.abs((p1[1] - p2[1])/2), minSpanY);\n    const isVerticalStart = (start_dir === DIRECTION.TOP || start_dir === DIRECTION.BOTTOM);\n    let points = [];\n    switch (dirSpan) {\n        case 0:\n            // \n            if(start_dir === DIRECTION.TOP) {\n                const y = Math.min(p1[1], p2[1]);\n                const yp = y - minSpanY;\n                points.push([p1[0], yp]);\n                points.push([p2[0], yp]);\n            }\n            if(start_dir === DIRECTION.BOTTOM) {\n                const y = Math.max(p1[1], p2[1]);\n                const yp = y + minSpanY;\n                points.push([p1[0], yp]);\n                points.push([p2[0], yp]);\n            }\n            if(start_dir === DIRECTION.LEFT) {\n                const x = Math.min(p1[0], p2[0]);\n                const xp = x - minSpanX;\n                points.push([xp, p1[1]]);\n                points.push([xp, p2[1]]);\n            }\n            if(start_dir === DIRECTION.RIGHT) {\n                const x = Math.max(p1[0], p2[0]);\n                const xp = x + minSpanX;\n                points.push([xp, p1[1]]);\n                points.push([xp, p2[1]]);\n            }\n            break;\n        case 1:\n        case 3:  \n            if(isSelf) {\n                if(!isVerticalStart) {\n                    points.push([p1[0] + minSpanX, p1[1]]);\n                    points.push([p1[0] + minSpanX, p2[1] + minSpanY]);\n                    points.push([p2[0], p2[1] + minSpanY]);\n                } else {\n                    points.push([p1[0], p1[1] + minSpanY]);\n                    points.push([p2[0] + minSpanX, p1[1] + minSpanY]);\n                    points.push([p2[0] + minSpanX, p2[1]]);\n                }\n            } else {\n                const point = isVerticalStart ? [p1[0], p2[1]]: [p2[0], p1[1]]\n                points.push(point);\n            }\n            break;\n        case 2:\n            const pmiddle = [\n                (p1[0] - p2[0])/2 + p2[0],\n                (p1[1] - p2[1])/2 + p2[1]\n            ]; \n            if(isVerticalStart) {\n                points.push([p1[0], pmiddle[1]])\n                points.push([p2[0], pmiddle[1]])\n            } else {\n                points.push([pmiddle[0], p1[1]])\n                points.push([pmiddle[0], p2[1]])\n            }\n            break;\n        default:\n            break;\n    }\n    points.unshift(p1);\n    points.push(p2);\n    return points;\n}\n\nfunction minusVec(p1, p2) {\n    return [p1[0] - p2[0], p1[1] - p2[1]]\n}\n\nfunction absVec(vec) {\n    return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\n\nfunction scaleVec(vec, scale) {\n    return [vec[0] * scale, vec[1] * scale];\n}\n\nexport function makeRadiusFromVector(pbefore, p, pnext, radius) {\n    const vec1 = minusVec(p, pbefore);\n    const vec2 = minusVec(p, pnext);\n    const absVec1 = absVec(vec1);\n    const absVec2 = absVec(vec2);\n    if(!absVec1 || !absVec2) {\n        return {\n            p1: null,\n            p2: null,\n        }\n    }\n    const r1 = scaleVec(vec1, radius/absVec1);\n    const r2 = scaleVec(vec2, radius/absVec2);\n    return {\n        p1: minusVec(p, r1),\n        p2: minusVec(p, r2),\n    }\n}\n// \nexport function doOverlap(rec1, rec2) {\n    if (rec1[0] == rec1[2] || rec1[1] == rec1[3] ||\n        rec2[0] == rec2[2] || rec2[1] == rec2[3]) {\n        // the line cannot have positive overlap\n        return false;\n    }\n\n    return !(rec1[2] <= rec2[0] ||   // left\n                rec1[3] <= rec2[1] ||   // bottom\n                rec1[0] >= rec2[2] ||   // right\n                rec1[1] >= rec2[3]);    // top\n}\n\nexport function isPolyLineIntersectionRectange(polyline, rect) {\n    let p = polyline[0];\n    let l = polyline.length;\n    let i = 1;\n    const [l0, l1, r0, r1] = rect;\n    while (i < l) {\n        const cp = polyline[i];\n        if(p[0] === cp[0]) {\n            // vertical\n            if(p[0] < r0 && p[0] > l0 \n                && !((p[1] > r1 && cp[1] > r1) || (p[1] < l1 && cp[1] < l1))){\n                    return true;\n                } \n        } else {\n            // horizontal\n            if(p[1] < r1 && p[1] > l1\n                && !((p[0] > r0 && cp[0] > r0) || (p[0] < l0 && cp[0] < l0))){\n                    return true;\n                } \n        }\n        p = cp;\n        i++;\n    }\n    return false;\n}","import { setUniqueId, getUniqueId } from '../utils/functions';\nimport { nextDirection } from '../utils/constance';\nconst margin = 5;\nconst ishitKey = Symbol('ishit');\nconst isInViewBox = Symbol('isInViewBox');\n/**\n * @typedef Instance~Configs\n * @type {object}\n * @property {number} borderWidth      -   2\n * @property {string} borderColor      -   black\n * @property {string} color            -   white\n * @property {string} shadowColor      - \n * @property {string} shadowBlur       - \n * @property {string} shadowOffsetX    -  X\n * @property {string} shadowOffsetX    -  Y\n */\n\n/** \n * \n * @constructor Instance\n * @extends EventTarget\n * @param {Instance~Configs} configs - \n */\nclass Instance extends EventTarget{\n    constructor(configs = {}) {\n        super();\n        Object.assign(this, configs);\n        // this.anchor = configs.anchor || [0, 0];\n        // this.belongs = undefined;\n        /** @member {boolean}      -   true */\n        this.visible = true;\n        // this._jflow = undefined;\n        this._belongs = undefined;\n        this[ishitKey] = false; \n\n        /** @member {number}      -   0 */\n        this.borderWidth =      configs.borderWidth || 0;\n        /** @member {string}     -   transparent */\n        this.borderColor =      configs.borderColor || 'transparent';\n        /** @member {string}     -   transparent */\n        this.backgroundColor =  configs.backgroundColor || 'transparent';\n        /** @member {string}     -   */\n        this.shadowColor =      configs.shadowColor;\n        /** @member {string}     -   5 */\n        this.shadowBlur  =      configs.shadowBlur || 5;\n        /** @member {string}     -  X */\n        this.shadowOffsetX =    configs.shadowOffsetX || 0;\n        /** @member {string}     -  Y */\n        this.shadowOffsetY =    configs.shadowOffsetY || 0;\n\n    }\n    /**\n     * @member {boolean} - \n     */\n    get _isTargeting() {\n        return this === (this._jflow._target.instance || this._jflow._target.link);\n    }\n    /**\n     * @member {boolean} - \n     */\n    get _isMoving() {\n        return this === this._jflow._getMovingTarget();\n    }\n    /**\n     * @member {boolean}  - \n     */\n    get _isHit() {\n        return this[ishitKey];\n    }\n    /**\n     * @member {JFlow}  - canvas jflow \n     */\n    get _jflow() {\n        return this._belongs.uniqueName === 'jflow' ? this._belongs : this._belongs._jflow;\n    }\n\n    set _isHit(ishit) {\n        if(this[ishitKey] !== ishit) {\n            /**\n             * \n             *\n             * @event Instance#mouseenter\n             * @type {object}\n             * @property {Instance} instance      -  \n             */\n            /**\n             * \n             *\n             * @event Instance#mouseleave\n             * @type {object}\n             * @property {Instance} instance      -  \n             */\n            this.dispatchEvent(new CustomEvent(ishit ? 'mouseenter': 'mouseleave' , {\n                detail: {\n                    instance: this,\n                }\n            }));\n        }\n        this[ishitKey] = ishit; // validation could be checked here such as only allowing non numerical values\n    }\n\n    set _isInViewBox(val) {\n        const oldval = this[isInViewBox];\n        if(val !== oldval) {\n            if(val) {\n                this.onEnterViewbox();\n            } else {\n                this.onLeaveViewbox();\n            } \n        }    \n        this[isInViewBox] = val;\n    }\n\n    /**\n     * \n     */\n    onEnterViewbox() {\n        return;\n    }\n\n    /**\n     * \n     */\n    onLeaveViewbox() {\n        return;\n    }\n\n    /**\n     * \n     * @param {Configs} configs - The string containing two comma-separated numbers.\n     */\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k]\n            }\n        })\n    }\n    /**\n     * \n     * @param {Context2d} ctx \n     */\n    render(ctx) {\n        throw 'require render implement'\n    }\n    /**\n     * \n     * @param {number[]} point \n     * @return {Boolean}\n     */\n    isHit(point) {\n        throw 'require isHit implement'\n    }\n    /**\n     * \n     * @return {number[]} [leftx, lefty, rightx, righty]\n     */\n    getBoundingRect() {\n        throw 'require getBoundingRect implement'\n    }\n    calculateIntersection() {\n        throw 'require calculateIntersection implement'\n    }\n    /**\n     * \n     * @return {Object} intersection \n     * @return {number} intersection[DIRECTION.TOP] \n     * @return {number} intersection[DIRECTION.BOTTOM] \n     * @return {number} intersection[DIRECTION.LEFT] \n     * @return {number} intersection[DIRECTION.RIGHT] \n     */\n    getIntersectionsInFourDimension() {\n        throw 'require getIntersectionsInFourDimension implement'\n    }\n\n\n    /**\n     * \n     * @return {Number[]} \n     */\n    getCenter() {\n        return this.anchor;\n    }\n    /**\n     * \n     * @return {Object} demension \n     * @return {number} demension.width \n     * @return {number} demension.height \n     */\n    getBoundingDimension() {\n        const rect = instance.getBoundingRect();\n        let min_y = Infinity;\n        let max_y = -Infinity;\n        let min_x = Infinity;\n        let max_x = -Infinity;\n        rect.forEach(point => {\n            max_y = Math.max(max_y, point[1]);\n            min_y = Math.min(min_y, point[1]);\n            max_x = Math.max(max_x, point[0]);\n            min_x = Math.min(min_x, point[0]);\n        });\n        return {\n            height: max_y - min_y,\n            width: max_x - min_x,\n        }\n    }\n    /**\n     * \n     * @param {JFlowEvent} customEvent \n     */\n    bubbleEvent(customEvent){\n        this.dispatchEvent(customEvent);\n        if(customEvent.detail.bubbles){\n            if(this._belongs.bubbleEvent) {\n                this._belongs.bubbleEvent(customEvent);\n            } else {\n                this._belongs.dispatchEvent(customEvent); \n            }\n            \n        }\n    }\n    /**\n     * \n     * @param {Number[]} point\n     * @return {Number[]} \n     */\n    calculateToRealWorld(point) {\n        if(this._belongs && this._belongs.calculateToRealWorld) {\n            return this._belongs.calculateToRealWorld(point);\n        } else {\n            return point;\n        }\n    }\n\n    calculateToRealWorldWithScalar(length){\n        return this._jflow.scale * length;\n    }\n\n    /**\n     * \n     */\n    // removeFromLayoutSource() {\n    //     if(this._layoutNode) {\n    //         this._layoutNode.remove();\n    //     }\n    // }\n\n    recalculateUp() {\n        if(this.belongs) {\n            this.belongs.recalculateUp();\n        }\n    }\n\n    destroy() {\n        this._belongs = undefined;\n        // this.removeEventListener();\n    }\n}\n\nexport default Instance;","import Instance from './instance';\nimport { nextDirection } from '../utils/constance';\n\n/**\n *   \n * @typedef {object} Node~AbsolutePosition \n * @property {number} top       - \n * @property {number} bottom    - \n * @property {number} right     - \n * @property {number} left      - \n */\n/**\n * Node \n * @typedef {Instance~Configs} Node~Configs \n * @property {number[]} anchor - \n * @property {Node~AbsolutePosition} absolutePosition - \n */\n/**\n * \n * @constructor Node\n * @extends Instance\n * @param {Node~Configs} configs - \n */\nclass Node extends Instance {\n    constructor(configs = {}) {\n        super(configs);\n        this._rawConfigs = configs;\n        // for layout\n        /** @member {number[]} */\n        this.anchor =           configs.anchor || [0, 0];\n        /** @member {Node~AbsolutePosition} */\n        this.absolutePosition = configs.absolutePosition;\n    }\n\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k]\n                this._rawConfigs[k] = configs[k];\n            }\n        });\n    }\n    setAnchorX(x) {\n        this.anchor[0] = x;\n    }\n    setAnchorY(y) {\n        this.anchor[1] = y;\n    }\n    setAnchor(x, y) {\n        this.anchor[0] = x;\n        this.anchor[1] = y;\n    }\n    /**\n     * .\n     * @return {Node} \n     */\n    clone() {\n        const C = this.constructor;\n        const t = new C(this._rawConfigs);\n        return t;\n    }\n    // end: from | to\n    // from , to \n    // checkLinked(interDir, end) {\n    //     if(this._intersections.find(i => i === interDir)) {\n    //         interDir = nextDirection(interDir, end === 'to');\n    //     } else {\n    //         this._intersections.push(interDir)\n    //     }\n    //     return interDir;\n    // }\n\n    /* renderFocus(ctx) {\n        const points = this.getBoundingRect();\n        if(points.length !== 4) return;\n        const margin = this.margin;\n        const [p0, p1, p2, p3] = points;\n        const width = p1[0] - p0[0];\n        const height = p3[1] - p0[1];\n        const w = width * 0.2;\n        const h = height * 0.2;\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(p0[0] - margin, p0[1] - margin + h);\n        ctx.lineTo(p0[0] - margin, p0[1] - margin);\n        ctx.lineTo(p0[0] - margin + w, p0[1] - margin);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(p1[0] + margin - w, p1[1] - margin);\n        ctx.lineTo(p1[0] + margin, p1[1] - margin);\n        ctx.lineTo(p1[0] + margin, p1[1] - margin + h);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(p2[0] + margin, p2[1] + margin - h);\n        ctx.lineTo(p2[0] + margin, p2[1] + margin);\n        ctx.lineTo(p2[0] + margin - w, p2[1] + margin);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(p3[0] - margin + w, p3[1] + margin);\n        ctx.lineTo(p3[0] - margin, p3[1] + margin);\n        ctx.lineTo(p3[0] - margin, p3[1] + margin - h);\n        ctx.stroke();\n        ctx.restore();\n    } */\n}\n\nexport default Node;","import Node from './node';\nimport { DIRECTION } from '../utils/constance';\n\nclass GhostNode extends Node {\n    constructor(configs) {\n        super(configs);\n    }\n\n    render(ctx) {}\n\n    isHit(point) {\n        return false;\n    }\n\n    getIntersectionsInFourDimension() {\n        const [x2, y2] = this.anchor;\n        return {\n            [DIRECTION.RIGHT]:  [x2, y2],\n            [DIRECTION.LEFT]:   [x2, y2],\n            [DIRECTION.BOTTOM]: [x2, y2],\n            [DIRECTION.TOP]:    [x2, y2],\n        }\n    }\n}\n\nexport default GhostNode;","function getMapObject() {\n    return {\n        layoutNode: undefined,\n        jflowNode: undefined,\n    }\n}\nclass NodeWeakMap {\n    constructor() {\n        this._map = new WeakMap();\n    }\n\n    get(source) {\n        return this._map.get(source);\n    }\n\n    set(source) {\n        const obj = getMapObject();\n        this._map.set(source, obj);\n        return obj;\n    }\n\n    has(source) {\n        return this._map.has(source);\n    }\n\n    delete(source) {\n        this._map.delete(source);\n    }\n\n    clear() {\n        this._map.clear();\n    }\n}\n\nexport const NodeWeakMapMixin = {\n    initNodeWeakMap() {\n        this.source_Layout_Render_NodeMap = new NodeWeakMap();\n    },\n    getRenderNodeBySource(source) {\n        const mapping = this.source_Layout_Render_NodeMap.get(source);\n        if(mapping) {\n            return mapping.jflowNode;\n        }\n        return undefined;\n    },  \n    getLayoutNodeBySource(source) {\n        const mapping = this.source_Layout_Render_NodeMap.get(source);\n        if(mapping) {\n            return mapping.layoutNode;\n        }\n        return undefined;\n    },\n    _getMap(source) {\n        const map = this.source_Layout_Render_NodeMap;\n        let obj;\n        if(map.has(source)) {\n            obj = map.get(source);\n        } else {\n            obj = map.set(source);\n        }\n        return obj\n    },\n    setLayoutNodeBySource(source, layoutNode) {\n        let obj = this._getMap(source);\n        obj.layoutNode = layoutNode;\n    },\n    setRenderNodeBySource(source, instance) {\n        let obj = this._getMap(source);\n        obj.jflowNode = instance;\n    },\n}\n\nexport default NodeWeakMap;\n\n","/**\n * \n * @extends Array\n */\nclass InstanceStack extends Array {\n    constructor() {\n        super();\n        this._currentHit = null;\n    }\n    /**\n     * \n     * @param {Context2d} ctx - canvas context2d\n     */\n    render(ctx, condition) {\n        let movingTarget;\n        this.forEach(instance => {\n            if(instance._isMoving) {\n                movingTarget = instance;\n                return;\n            }\n            if(instance.visible && (!condition || condition(instance))) {\n                ctx.save();\n                // if(instance.reflow && !instance._reflowed) {\n                //     instance.reflow();\n                //     instance._reflowed = true;\n                // }\n                instance.render(ctx);\n                ctx.restore();\n            }\n        });\n        if(movingTarget) {\n            ctx.save();\n            // if(movingTarget.reflow && !movingTarget._reflowed) {\n            //     movingTarget.reflow();\n            //     movingTarget._reflowed = true;\n            // }\n            movingTarget.render(ctx);\n            ctx.restore();\n        }\n    }\n\n    /**\n     * \n     * @name InstanceStack~InstanceFilter\n     * @function\n     * @param {Instance} instance - \n    */\n    /**\n     * \n     * @param {number[]} point - \n     * @param {InstanceStack~InstanceFilter} condition - \n     * @return {Instance}\n     */\n    checkHit(point, condition, currentConstraint){\n        let i = this.length - 1;\n        while(i >= 0) {\n            const instance = this[i];\n            \n            if(instance.visible && !instance.ignoreHit) {\n                if(condition && condition(instance)) {\n                    i--\n                    continue;\n                }\n                if(currentConstraint && !currentConstraint(instance)) {\n                    i--\n                    continue\n                }\n                const ishit = instance.isHit(point, condition);\n                instance._isHit = !!ishit;\n                if(ishit) {\n                    if(this._currentHit !== instance) {\n                        if(this._currentHit) {\n                            this._currentHit._isHit = false;\n                        }\n                        this._currentHit = instance;\n                    }\n                    if(typeof ishit !== 'boolean') {\n                        return ishit;\n                    }\n                    return instance;\n                }\n                \n            }\n            i--\n        }\n        this._currentHit = null;\n        return null;\n    }\n    /**\n     * \n     * @return {number[][]} - \n     */\n    getBoundingRectPoints() {\n        const points = [];\n        this.forEach(instance => {\n            if(instance.visible && !instance.absolutePosition) {\n                const rect = instance.getBoundingRect()\n                points.push([rect[0], rect[1]]);\n                points.push([rect[2], rect[3]]);\n            }\n        });\n        return points;\n    }\n\n    /**\n     * \n     * @return {number[][]} - \n     */\n    getAnchorRectPoints() {\n        const points = [];\n        this.forEach(instance => {\n            if(instance.visible && !instance.absolutePosition) {\n                points.push(instance.anchor);\n            }\n        });\n        return points;\n    }\n}\n\nexport default InstanceStack;\n","import InstanceStack from './stack';\nimport { setUniqueId, getUniqueId } from '../utils/functions';\n/**\n *  mixin \n *\n * @mixin\n */\nconst StackMixin = {\n    /** @property {Node[]}          -  */\n    instances: [],\n    /** @property {BaseLink[]}      -  */\n    links: [],\n    /** @property {InstanceStack}       -  */\n    _stack: null,\n    /** @property {InstanceStack}       -  */\n    _linkStack: null,\n    /**\n     * \n     * @param {JflowConfigs} configs - \n     */\n    initStack({ data }) {\n        this._stack = new InstanceStack();\n        this._linkStack = new InstanceStack();\n        if(!data) return;\n        this.instances = data.instances;\n        this.links = data.links;\n        this.instances.forEach(i => { \n            this._stack.push(i);\n            i._belongs = this;\n        })\n        this.links.forEach((link) => {\n            this._linkStack.push(link);\n            link._belongs = this;\n        });\n    },\n    /**\n     * \n     * @param {Node} instance - \n     */\n    addToStack(instance) {\n        instance._belongs = this;\n        this._stack.push(instance);\n        // this.recalculate()\n    },\n    /**\n     * \n     * @param {Instance} target - \n     * @param {Instance} instance - \n     */\n    replaceFromStack(target, instance) {\n        const index = this._stack.findIndex(i => i === target);\n        this._stack.splice(index, 1, instance);\n        target._belongs = null;\n        instance._belongs = this;\n        // this.recalculate()\n    },\n    /**\n     * \n     * @param {BaseLink} instance - \n     */\n    addToLinkStack(link) {\n        link._belongs = this;\n        this._linkStack.push(link);\n    },\n    /**\n     * \n     * @param {Node} target - \n     */\n    removeFromStack(target) {\n        // this.removeLinkOnInstance(target);\n        const index = this._stack.findIndex(i => i === target);\n        this._stack.splice(index, 1);\n        // this.recalculate()\n    },\n    /**\n     * \n     * @param {Node} target - \n     */\n    removeFromLinkStack(target) {\n        const index = this._linkStack.findIndex(i => i === target);\n        this._linkStack.splice(index, 1);\n    },\n   \n    emptyLink() {\n        this._linkStack = new InstanceStack();\n    },\n    /**\n     * \n     */\n    resetChildrenPosition() {\n        this._stack.forEach(i => {\n            i.anchor = [0,0]\n        });\n    },\n    /* \n        \n    removeLinkOnInstance(target) {\n        const fromInstances = [];\n        const toInstances = [];\n        const removelinks = [];\n        let _constuctor;\n        this._linkStack.forEach(l => {\n            if(l.from === target){\n                toInstances.push(l.to);\n                _constuctor = l.__proto__.constructor;\n                removelinks.push(l);\n            }\n            if(l.to === target){\n                fromInstances.push(l.from);\n                _constuctor = l.__proto__.constructor;\n                removelinks.push(l);\n            }  \n        })\n        \n        removelinks.forEach(l => {\n            this.removeFromLinkStack(l);\n        });\n        // \n        fromInstances.forEach(f => {\n            toInstances.forEach(t => {\n                this.addToLinkStack(new _constuctor({\n                    from: f, \n                    to: t\n                }))\n            });\n        });\n        return {\n            fromInstances,\n            toInstances,\n            removelinks,\n        }\n    }, */ \n\n    addInstanceToLink(targetLink, instance) {\n        this.addToStack(instance);\n        const { from, to } = targetLink;\n        const index = this._linkStack.findIndex(l => l === targetLink);\n        const _constuctor = targetLink.__proto__.constructor;\n        const l1 = new _constuctor({\n            from, \n            to: instance,\n        });\n        l1._belongs = this;\n        const l2 = new _constuctor({\n            from: instance, \n            to,\n        });\n        l2._belongs = this;\n\n        this._linkStack.splice(index, 1, l1, l2);\n    },\n    // reLayout() {\n    //     this.reflow();\n    //     this._getBoundingGroupRect();\n    //     if(this._belongs) {\n    //         this._belongs.reLayout();\n    //     }\n    // }\n    // addToTempStack(instance) {\n    //     this._tempStack.push(instance);\n    // },\n\n    // truncateTempStack() {\n    //     let temp;\n    //     if(this._tempStack) {\n    //         temp = this._tempStack.slice();\n    //     }\n    //     this._tempStack = new InstanceStack();\n    //     return temp;\n    // }\n\n    /**\n     * \n     * @property {stackIteratorCallback} \n     */\n    interateNodeStack(callback) {\n        this._stack.forEach(instance => {\n            callback(instance);\n        })\n    }   \n    /**\n    * \n    * @callback stackIteratorCallback\n    * @param {Node} instance \n    */\n}\n\nexport default StackMixin;","/**\n * Layout mixin \n * @typedef {Object} LayoutMixin~LayoutConfigs\n * @property {Layout} layout             -  \n */\n/**\n *  mixin \n *\n * @mixin\n */\nconst LayoutMixin = {\n    /** @property {Layout}      -  */\n    _layout: null,\n    // _reflowed: false,\n    /**\n     * \n     * @param {LayoutMixin~LayoutConfigs} configs - \n     */\n    initLayout(configs) {\n        this._layout = configs.layout;\n    },\n    /**\n     * \n     */\n    recalculateUp() {\n        let dirty = true;\n        if(this.getBoundingDimension) {\n            const { width: wold, height: hold } = this.getBoundingDimension();\n            if(this.resetChildrenPosition) {\n                this.resetChildrenPosition();\n            }\n            if(this._getBoundingGroupRect){\n                this._getBoundingGroupRect();\n            }\n            this.reflow();\n            if(this._getBoundingGroupRect){\n                this._getBoundingGroupRect();\n            }\n            const { width: wnow, height: hnow } = this.getBoundingDimension();\n            dirty = (wold !== wnow || hold !== hnow)\n        } else {\n            this.reflow();\n        }\n        if(this._belongs && dirty) {\n            this._belongs.recalculateUp();\n        }\n    },\n    /**\n     * \n     */\n    recalculate() {\n        // this._reflowed = true;\n        this.reflow();\n        if(this._getBoundingGroupRect){\n            this._getBoundingGroupRect();\n        }\n        // \n        // if(this._belongs) {\n        //     this._belongs.recalculate();\n        // }\n    },\n    /**\n     * \n     * @param {Instance} instance - \n     * @return {Boolean} -  \n     */\n    staticCheck(instance) {\n        if(this._layout) {\n            return this._layout.staticCheck(instance, this);\n        }\n        return false;\n    },\n    /**\n     * \n     */\n    reflow() {\n        if(this._layout) {\n            this._layout.reflow(this);\n        }\n    },\n}\n\nexport default LayoutMixin;","/**\n *  mixin Jflow\n *\n * @mixin\n */\nconst MessageMixin = {\n    _message: null,\n    /**\n     * \n     * @param {Object} msg - \n     */\n    sendMessage(msg) {\n        this._message = msg;\n    },\n    /**\n     * \n     * @return {Object} msg - \n     */\n    consumeMessage() {\n        const msg = this._message;\n        this._message = null;\n        return msg;\n    },\n    readMessage() {\n        return this._message;\n    }\n}\n\nexport default MessageMixin;","/**\n * JFlow \n * @extends CustomEvent\n * @property {Event}  originEvent      - \n * @property {Instance} target         - \n * @property {JFlow} jflow             - JFlow \n * @property {boolean} bubbles         - \n */\nclass JFlowEvent extends CustomEvent{\n    constructor(event, configs = {}) {\n        const detail = {\n            ...configs,\n            originEvent: configs.event,\n            target: configs.target,\n            jflow: configs.jflow,\n            bubbles: configs.bubbles || false,    \n        }\n        super(event, {\n            detail\n        });\n    }\n}\n\nexport default JFlowEvent;","/**\n * \n * @name EventAdapter~Handler\n * @function\n * @param {Event} event - \n * @param {JFlow} jflow - jflow \n */\n\n/**\n * EventAdapter  plugin \n * @typedef {Object} EventAdapter~pluginDef\n * @property {Object} canvas - canvas \n * @property {EventAdapter~Handler} canvas.eventName -  canvas \n * @property {Object} document - document \n * @property {EventAdapter~Handler} document.eventName -  document \n */\n\nfunction getDefaultPlugin() {\n    return {\n        canvas: {\n            wheel: function (event, jflow) {\n                event.preventDefault();\n                let { offsetX, offsetY, deltaX, deltaY } = event\n                if(event.ctrlKey) { \n                    deltaY = -deltaY;\n                    jflow.zoomHandler(offsetX, offsetY, deltaX, deltaY, event);\n                } else {\n                    jflow.panHandler(-deltaX, -deltaY, event);\n                }\n            },\n            pointerdown: function (event, jflow) {\n                const { offsetX, offsetY, deltaY, button } = event\n                if(button !== 0) return;\n                jflow.pressStartHandler(offsetX, offsetY, event);\n            },\n            pointermove: function (event, jflow) {\n                const { offsetX, offsetY } = event\n                jflow.pressMoveHandler(offsetX, offsetY, event);\n            },\n            pointerup: function (event, jflow) {\n                event.preventDefault();\n                event.stopPropagation();\n                const { button } = event\n                if(button !== 0) return;\n                jflow.pressUpHanlder(false, event)\n            },\n            contextmenu: function (event, jflow) {\n                event.preventDefault();\n                event.stopPropagation();\n                const { offsetX, offsetY } = event;\n                jflow.contextMenuHanlder(offsetX, offsetY, event);\n            },\n        },\n        document: {\n            pointerup: function(event, jflow) {\n                jflow.pressUpHanlder(true, event);\n            }\n        }\n    }\n}\n\n/** \n * EventAdapter \n * EventAdapter  plugin \n * @constructor EventAdapter\n */\nclass EventAdapter {\n    constructor(plugin = {}) {\n        this.plugin = getDefaultPlugin();\n        this.use(plugin);\n        this.canvasHandlers = [];\n        this.documentHandlers = [];\n    }\n    use(plugin = {}) {\n        const { canvas: ca, document: docObj } = plugin;\n        if(ca) {\n            for(let eventName in ca){\n                if (ca.hasOwnProperty(eventName)) {\n                    this.plugin.canvas[eventName] = ca[eventName];\n                }\n            }\n        }\n        if(docObj) {\n            for(let eventName in docObj){\n                if (docObj.hasOwnProperty(eventName)) {\n                    this.plugin.document[eventName] = docObj[eventName];\n                }\n            }\n        }\n    }\n\n    apply(jflow) {\n        const { canvas: ca, document: docObj } = this.plugin;\n        const canvas = jflow.canvas;\n        for(let eventName in ca){\n            const handler = ca[eventName];\n            function handlerWrapperd (e) {\n                handler(e, jflow);\n            }\n            canvas.addEventListener(eventName, handlerWrapperd)\n            this.canvasHandlers.push({\n                eventName,\n                handlerWrapperd\n            });\n        }\n        for(let eventName in docObj){\n            const handler = docObj[eventName];\n            function handlerWrapperd (e) {\n                handler(e, jflow);\n            }\n            document.addEventListener(eventName, handlerWrapperd)\n            this.documentHandlers.push({\n                eventName,\n                handlerWrapperd\n            });\n        }\n    }\n\n    unload(jflow) {\n        const canvas = jflow.canvas;\n        this.canvasHandlers.forEach(({ eventName, handlerWrapperd }) => {\n            canvas.removeEventListener(eventName, handlerWrapperd);\n        });\n        this.documentHandlers.forEach(({ eventName, handlerWrapperd }) => {\n            document.removeEventListener(eventName, handlerWrapperd);\n        })\n    }\n}\n\nexport default EventAdapter;\n","import Node from './node';\nimport StackMixin from './stackMixin';\nimport LayoutMixin from './layoutMixin';\nimport { bounding_box } from '../utils/functions';\nimport { DIRECTION } from '../utils/constance';\nconst GroupMixin = {\n    ...StackMixin,\n    ...LayoutMixin,\n    _setPadding(configs) {\n        this.padding = {\n            top: configs.paddingTop || configs.padding || 0,\n            right: configs.paddingRight || configs.padding || 0,\n            bottom: configs.paddingBottom || configs.padding || 0,\n            left: configs.paddingLeft || configs.padding || 0,\n        };\n    },\n    _setMargin(configs)  {\n        this.margin = {\n            top: configs.marginTop || configs.margin || 0,\n            right: configs.marginRight || configs.margin || 0,\n            bottom: configs.marginBottom || configs.margin || 0,\n            left: configs.marginLeft || configs.margin || 0,\n        };\n    },\n    _getCenter() {\n        const anchor = this.anchor;\n        const padding = this.padding;\n        const margin = this.margin;\n        const mx = (margin.left - margin.right)/2;\n        const my = (margin.top - margin.bottom)/2;\n        const centerX = (padding.left - padding.right)/2 + mx;\n        const centerY = (padding.top - padding.bottom)/2 + my;\n        this._shape.anchor = [anchor[0] + mx, anchor[1] + my];\n        return [anchor[0] + centerX, anchor[1] + centerY];\n    },\n    setAnchorX(x) {\n        this.anchor[0] = x;\n        this._getCenter(); \n    },\n    setAnchorY(y) {\n        this.anchor[1] = y;\n        this._getCenter(); \n    },\n    setAnchor(x, y) {\n        this.anchor[0] = x;\n        this.anchor[1] = y;\n        this._getCenter(); \n    },\n    _calculatePointBack(point) {\n        const [gx, gy] = point;\n        const [cx, cy] = this._getCenter(); \n        const p = [gx - cx, gy - cy]\n        return p\n    },\n    /**\n     *  canvas \n     * @param {Number[]} point\n     * @return {Number[]} \n     */\n    calculateToCoordination(point) {\n        const [gx, gy] = point;\n        const [cx, cy] = this._getCenter(); \n        // const p = [cx + anchor[0] - spanH, cy + anchor[1] - spanV];\n        const p = [gx + cx, gy + cy]\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            return this._belongs.calculateToCoordination(p);\n        } else {\n            return p;\n        }\n    },\n    /**\n     *  {@link Instance#calculateToRealWorld}\n     * @param {Number[]} point\n     * @return {Number[]} \n     */\n    calculateToRealWorld(point) {\n        const [gx, gy] = point;\n        const [cx, cy] = this._getCenter(); \n        const p = [gx + cx, gy + cy]\n        if(this._belongs && this._belongs.calculateToRealWorld) {\n            return this._belongs.calculateToRealWorld(p);\n        }\n    },\n    clone() {\n        const C = this.constructor;\n        const configs = Object.assign({}, this._rawConfigs, {\n            layout: this._layout && this._layout.clone(),\n        })\n        const t = new C(configs);\n        this.interateNodeStack((instance) => {\n            t.addToStack(instance.clone());\n        })\n        t.recalculate();\n        return t;\n    },\n    getBoundingDimension() {\n        return {\n            width: this.width,\n            height: this.height,\n        }\n    },\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height/2;\n        const ltx = anchor[0] - w;\n        const lty = anchor[1] - h;\n        const rbx = anchor[0] + w;\n        const rby = anchor[1] + h;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    },\n    getIntersectionsInFourDimension() {\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n        return {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n            [DIRECTION.SELF]:   [x2+w*0.618, y2+h*0.618]\n        }\n    },\n    calculateIntersection(point) {\n        const [x1, y1] = point;\n        const [x2, y2] = this.anchor;\n        const w = this.width/2;\n        const h = this.height/2;\n        const vecx = x2 - x1;\n        const vecy = y2 - y1;\n        const theta1 = h/w;\n        const theta2 = Math.abs(vecy/vecx);\n        const dirx = x1 > x2;\n        const diry = y1 > y2;\n        let x, y;\n        if(theta2 < theta1) {\n            x = x2 + (dirx?w:-w);\n            y = w * (diry?theta2:-theta2) + y2;\n        } else {\n            y = y2 + (diry?h:-h);\n            x = h / (dirx?theta2:-theta2) + x2;\n        }\n        return [x, y];\n    },\n    onEnterViewbox() {\n        this.interateNodeStack((instance) => {\n            instance.onEnterViewbox();\n        })\n    },\n    onLeaveViewbox() {\n        this.interateNodeStack((instance) => {\n            instance.onLeaveViewbox();\n        })\n    },\n    destroy() {\n        this._shape.destroy();\n        this.interateNodeStack((instance) => {\n            instance.destroy();\n        })\n    }, \n}\n\nfunction defaultShift(width, height) {\n    return [width, height];\n}\n\n/**\n * paddingboxshapeshiftbox\n * @function shapeShift\n * @param {number} width            - paddingBox\n * @param {number} height           - paddingBox\n * @return {number[]}\n */\n\n/**\n * JFlow \n * @global \n * @function GroupFactory\n * @param {Node} jflowNodeConstructor - \n * @param {object} options            - \n * @param {shapeShift} options.shapeShift - shift\n * @return {Group} - \n */\nfunction GroupFactory(jflowNodeConstructor, options = {}) {\n    const shapeShift = typeof options.shapeShift === 'function' ? options.shapeShift : defaultShift;\n\n    /**\n     * Group \n     * @typedef {Object} GroupTemplate~GroupConfigs\n     * @property {number} width             - \n     * @property {number} minWidth          - \n     * @property {number} height            - \n     * @property {number} padding          - \n     * @property {number} paddingTop          - \n     * @property {number} paddingRight         - \n     * @property {number} paddingBottom        - \n     * @property {number} paddingLeft          - \n     * @property {number} margin            - \n     * @property {number} marginTop          - \n     * @property {number} marginRight         - \n     * @property {number} marginBottom        - \n     * @property {number} marginLeft          - \n     * @property {boolean} lock            -   true\n     */\n    class t extends Node {\n        /**\n        * @constructs GroupTemplate\n        * @param {GroupTemplate~GroupConfigs} configs - \n        * @mixes LayoutMixin\n        * @mixes StackMixin \n        */\n        constructor(configs) {\n            super(configs);\n                this.initStack(configs);\n                this.initLayout(configs);\n                /** @member {Node}      -  */\n                this._shape = new jflowNodeConstructor(configs);\n                this._shape.anchor = [0, 0];\n                this._shape._belongs = this;\n                this._setPadding(configs);\n                this._setMargin(configs);  \n                /** @member {Number}      -  */\n                this.definedWidth =     configs.width;\n                /** @member {Number}      -  */\n                this.minWidth =         configs.minWidth;\n                /** @member {Number}      -  */\n                this.definedHeight =    configs.height;\n                /** @member {Boolean}      -  true */\n                this.lock =             configs.lock ?? true ;\n                this.display =          configs.display || 'default';\n                this._getBoundingGroupRect();\n                this.reflow();\n                this._getBoundingGroupRect();  \n        }\n    }\n    Object.assign(t.prototype, GroupMixin);\n    Object.assign(t.prototype, { \n        setConfig(configs) {\n            this._shape.setConfig(configs);\n            this._setPadding(configs);\n            this._setMargin(configs);  \n        },\n        _getBoundingGroupRect() {\n            const points = this._stack.getBoundingRectPoints();\n            // content box \n            const bbox = bounding_box(points);\n\n             // padding box \n            const padding = this.padding;\n            const minWidth = this.minWidth - padding.left - padding.right;\n            const definedWidth = this.definedWidth - padding.left - padding.right;\n            const w = bbox.width + padding.left + padding.right;\n            const h = bbox.height + padding.top + padding.bottom;\n            const paddingWidth = minWidth ? Math.max(minWidth, w) : definedWidth || w;\n            const paddingHeight = this.definedHeight || h;\n            this._paddingWidth = paddingWidth;\n            this._paddingHeight = paddingHeight;\n\n            // shapeBox\n            const [shapeWidth, shapeHeight] = shapeShift(paddingWidth, paddingHeight, this._shape)\n            this._shape.width = shapeWidth;\n            this._shape.height = shapeHeight;\n            // marginBox\n            const margin = this.margin;\n            this.width = shapeWidth + margin.left + margin.right;\n            this.height = shapeHeight + margin.top + margin.bottom;\n        },\n        render(ctx) {\n            ctx.save();\n            if(this._isMoving){\n                ctx.globalAlpha = 0.6\n            }\n\n            const [cx, cy] = this._getCenter(); \n            this._shape.render(ctx);\n            ctx.translate(cx, cy);\n            this._stack.render(ctx);\n            this._linkStack.render(ctx);    \n            ctx.translate(-cx, -cy);\n            ctx.restore();\n\n            // ctx.save();\n            // ctx.beginPath();\n            // ctx.arc(cx, cy, 5, 0, Math.PI*2);\n            // ctx.fillStyle = 'rgb(0,0,0)'\n            // ctx.fill();\n            // ctx.restore();\n        },\n        isHit(point, condition) {\n            const p = this._calculatePointBack(point);\n            this._currentp = p; // \n            const target = this._stack.checkHit(p, condition);\n            if(target) return target;\n            return this._shape.isHit(point);\n        },        \n    });\n    return t\n}\n\nexport default GroupFactory;\n\n","import Node from '../node';\nimport { DIRECTION } from '../../utils/constance';\n/**\n *  \n * @typedef {Node~Configs} Point~PointConfigs\n * @property {number} radius  - \n */\n/**\n * \n * @constructor Point\n * @extends Node\n * @param {Point~PointConfigs} configs - \n */\nclass Point extends Node {\n    constructor(configs) {\n        super(configs);\n        this.type =             'Point';\n        /** @member {Number}      -  */\n        this.radius =           configs.radius || 10;\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        ctx.beginPath();\n        ctx.arc(this.anchor[0], this.anchor[1], this.radius, 0, 2 * Math.PI);\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fill();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n        // if(this._isTargeting) {\n        //     this.renderFocus(ctx);\n        // }\n        ctx.restore();\n    }\n\n    isHit(point) {\n        const anchor = this.anchor;\n        return Math.pow(point[0] - anchor[0], 2) + Math.pow(point[1] - anchor[1], 2) < this.radius * this.radius\n    }\n\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const r = this.radius;\n        const ltx = anchor[0] - r;\n        const lty = anchor[1] - r;\n        const rbx = anchor[0] + r;\n        const rby = anchor[1] + r;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    }\n\n    calculateIntersection(point) {\n        const [x1, y1] = point;\n        const [x2, y2] = this.anchor;\n        const vecx = x2 - x1;\n        const vecy = y2 - y1;\n        const dist = Math.sqrt(vecx * vecx + vecy * vecy);\n\n        const ratio = this.radius / dist;\n        return [x2 - ratio * vecx, y2 - ratio * vecy];\n    }\n\n    getIntersectionsInFourDimension() {\n        const [x2, y2] = this.anchor;\n        const r = this.radius;\n        return {\n            [DIRECTION.RIGHT]:  [x2 + r, y2],\n            [DIRECTION.LEFT]:   [x2 - r, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+r],\n            [DIRECTION.TOP]:    [x2, y2-r],\n        }\n    }\n\n    calculateIntersectionInFourDimension(point, end) {\n        const [x1, y1] = point;\n        const [x2, y2] = this.anchor;\n        const r = this.radius;\n        const vecx = x2 - x1;\n        const vecy = y2 - y1;\n        const allIntersections = {\n            [DIRECTION.RIGHT]:  [x2 + r, y2],\n            [DIRECTION.LEFT]:   [x2 - r, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+r],\n            [DIRECTION.TOP]:    [x2, y2-r],\n        }\n        // console.log(Math.abs(vecx) > Math.abs(vecy), vecx, r)\n        // if() {\n        //     return {\n        //         p: [x2 + (vecx<0?r:-r), y2],\n        //         dir: vecx<0 ? DIRECTION.RIGHT : DIRECTION.LEFT,\n        //     }\n        // } else {\n        //     return {\n        //         p: [x2, y2+(vecy<0?r:-r)],\n        //         dir: vecy<0 ? DIRECTION.BOTTOM : DIRECTION.TOP,\n        //     }\n        // }\n        let interDir = (Math.abs(vecy) > Math.abs(vecx)\n            ? (vecy < 0 ? DIRECTION.BOTTOM : DIRECTION.TOP)\n            : (vecx < 0 ? DIRECTION.RIGHT : DIRECTION.LEFT));\n\n        // interDir = this.checkLinked(interDir, end);\n        return {\n            p: allIntersections[interDir],\n            dir: interDir,\n        }\n    }\n\n    getBoundingDimension() {\n        return {\n            width: this.radius * 2,\n            height: this.radius * 2,\n        }\n    }\n\n}\n\nexport default Point;","import Node from '../node';\nimport { DIRECTION, oppositeDirection } from '../../utils/constance';\n/**\n * @typedef Rectangle~border\n * @type {object}\n * @property {number} borderColor      - ,  0\n * @property {number} borderWidth      - ,  transparent\n */\n/**\n * @typedef Rectangle~borders\n * @type {object}\n * @property {Rectangle~border} top      - \n * @property {Rectangle~border} right      - \n * @property {Rectangle~border} bottom      - \n * @property {Rectangle~border} left      - \n */\n\n/**\n *  \n * @typedef {Node~Configs} Rectangle~RectangleConfigs\n * @property {number} width - \n * @property {number} height - \n * @property {number} borderRadius - \n * @property {string} borderColor - ,  transparent\n * @property {string} borderWidth - ,  0\n * @property {Rectangle~borders} border      - \n */\n/**\n * \n * @constructor Rectangle\n * @extends Node\n * @param {Rectangle~RectangleConfigs} configs\n */\nclass Rectangle extends Node {\n    constructor(configs = {}) {\n        super(configs);\n        this.type =             'Rectangle';\n         /** @member {Number}      -  */\n        this.width =            configs.width || 10;\n         /** @member {Number}      -  */\n        this.height =           configs.height || 10;\n         /** @member {Number}      -  */\n        this.borderRadius =     configs.borderRadius || 0;\n        this._setBorder(configs);\n    }\n\n    _setBorder(configs){\n        /** @member {Rectangle~borders}      -  borderWidthborderColor */\n        this.border = {\n            top: {\n                color: configs.border?.top?.borderColor || configs.borderColor || 'transparent',\n                width: configs.border?.top?.borderWidth || configs.borderWidth || 0,\n                enable: configs.border?.top?.borderWidth,\n            },\n            right: {\n                color: configs.border?.right?.borderColor || configs.borderColor || 'transparent',\n                width: configs.border?.right?.borderWidth || configs.borderWidth || 0,\n                enable: configs.border?.right?.borderWidth,\n            },\n            bottom: {\n                color: configs.border?.bottom?.borderColor || configs.borderColor || 'transparent',\n                width: configs.border?.bottom?.borderWidth || configs.borderWidth || 0,\n                enable: configs.border?.bottom?.borderWidth,\n            },\n            left: {\n                color: configs.border?.left?.borderColor || configs.borderColor || 'transparent',\n                width: configs.border?.left?.borderWidth || configs.borderWidth || 0,\n                enable: configs.border?.left?.borderWidth,\n            }\n        };\n        this.borderColor = configs.borderColor || 'transparent';\n        this.borderWidth = configs.borderWidth || 0;\n    }\n\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k];\n                this._rawConfigs[k] = configs[k];\n            }\n        });\n        this._setBorder(configs);\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n\n        const {\n            borderRadius: radius, anchor, width, height\n        } = this;\n        const x = this.anchor[0] - this.width / 2;\n        const y = this.anchor[1] - this.height / 2;\n        const xt = this.anchor[0] + this.width / 2;\n        const yt = this.anchor[1] + this.height / 2;\n        if(this.borderRadius) {\n            ctx.beginPath();\n            ctx.moveTo(x + radius, y);\n            ctx.lineTo(x + width - radius, y);\n            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n            ctx.lineTo(x + width, y + height - radius);\n            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n            ctx.lineTo(x + radius, y + height);\n            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n            ctx.lineTo(x, y + radius);\n            ctx.quadraticCurveTo(x, y, x + radius, y);\n            ctx.closePath();\n            if(this.borderWidth) {\n                ctx.lineWidth = this.borderWidth;\n                ctx.strokeStyle = this.borderColor;\n                ctx.stroke();\n            }\n        } else {\n            ctx.beginPath();\n            ctx.rect(this.anchor[0] - this.width / 2, this.anchor[1] - this.height / 2, this.width, this.height);\n        }\n        ctx.fillStyle = this.backgroundColor;\n        if(this.shadowColor) {\n            ctx.shadowColor = this.shadowColor;\n            ctx.shadowBlur = this.shadowBlur;\n            ctx.shadowOffsetX = this.shadowOffsetX;\n            ctx.shadowOffsetY = this.shadowOffsetY;\n        }\n        ctx.fill();\n        if(this.borderRadius) {\n            if(this.border.top.enable) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.moveTo(x, y + radius);\n                ctx.quadraticCurveTo(x, y, x + radius, y);\n                ctx.lineTo(x + width - radius, y);\n                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n                ctx.closePath();\n\n                // ctx.fill();\n                ctx.clip();\n\n                ctx.beginPath();\n                ctx.rect(x, y, this.width, this.border.top.width);\n                ctx.fillStyle = this.border.top.color;\n                ctx.fill();\n                ctx.restore();\n            }\n\n            // if(this.border.right.enable) {\n            //     ctx.beginPath();\n            //     ctx.moveTo(x + width, y + radius);\n            //     ctx.lineTo(x + width, y + height - radius);\n            //     ctx.strokeStyle = this.border.right.color;\n            //     ctx.lineWidth = this.border.right.width;\n            //     ctx.stroke();\n            // }\n\n            // if(this.border.bottom.enable) {\n            //     ctx.beginPath();\n            //     ctx.moveTo(x + width - radius, y + height);\n            //     ctx.lineTo(x + radius, y + height);\n            //     ctx.strokeStyle = this.border.bottom.color;\n            //     ctx.lineWidth = this.border.bottom.width;\n            //     ctx.stroke();\n            // }\n\n            // if(this.border.left.enable) {\n            //     ctx.beginPath();\n            //     ctx.moveTo(x, y + height - radius);\n            //     ctx.lineTo(x, y + radius);\n            //     ctx.strokeStyle = this.border.left.color;\n            //     ctx.lineWidth = this.border.left.width;\n            //     ctx.stroke();\n            // }\n        } else {\n            if(this.border.top.width) {\n                ctx.beginPath();\n                ctx.moveTo(x, y);\n                ctx.lineTo(xt, y);\n                ctx.strokeStyle = this.border.top.color;\n                ctx.lineWidth = this.border.top.width;\n                ctx.stroke();\n            }\n\n            if(this.border.right.width) {\n                ctx.beginPath();\n                ctx.moveTo(xt, y);\n                ctx.lineTo(xt, yt);\n                ctx.strokeStyle = this.border.right.color;\n                ctx.lineWidth = this.border.right.width;\n                ctx.stroke();\n            }\n\n            if(this.border.bottom.width) {\n                ctx.beginPath();\n                ctx.moveTo(xt, yt);\n                ctx.lineTo(x, yt);\n                ctx.strokeStyle = this.border.bottom.color;\n                ctx.lineWidth = this.border.bottom.width;\n                ctx.stroke();\n            }\n\n            if(this.border.left.width) {\n                ctx.beginPath();\n                ctx.moveTo(x, yt);\n                ctx.lineTo(x, y);\n                ctx.strokeStyle = this.border.left.color;\n                ctx.lineWidth = this.border.left.width;\n                ctx.stroke();\n            }\n        }\n        ctx.restore();\n    }\n\n    isHit(point) {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height/2;\n        return point[0] > anchor[0] - w\n            && point[0] < anchor[0] + w\n            && point[1] > anchor[1] - h\n            && point[1] < anchor[1] + h;\n    }\n\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height/2;\n        const ltx = anchor[0] - w;\n        const lty = anchor[1] - h;\n        const rbx = anchor[0] + w;\n        const rby = anchor[1] + h;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    }\n\n    getBoundingDimension() {\n        return {\n            height: this.height,\n            width: this.width,\n        }\n    }\n\n    calculateIntersection(point) {\n        const [x1, y1] = point;\n        const [x2, y2] = this.anchor;\n        const w = this.width/2;\n        const h = this.height/2;\n        const vecx = x2 - x1;\n        const vecy = y2 - y1;\n        const theta1 = h/w;\n        const theta2 = Math.abs(vecy/vecx);\n        const dirx = x1 > x2;\n        const diry = y1 > y2;\n        let x, y;\n        if(theta2 < theta1) {\n            x = x2 + (dirx?w:-w);\n            y = w * (diry?theta2:-theta2) + y2;\n        } else {\n            y = y2 + (diry?h:-h);\n            x = h / (dirx?theta2:-theta2) + x2;\n        }\n        return [x, y];\n    }\n\n    getIntersectionsInFourDimension() {\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n        return {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n        }\n    }\n\n    calculateIntersectionInFourDimension(point, end) {\n        const [x1, y1] = point;\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n        const allIntersections = {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n        }\n        const vecx = x2 - x1;\n        const vecy = y2 - y1;\n        const theta1 = h/w;\n        const theta2 = Math.abs(vecy/vecx);\n        const dirx = x1 > x2;\n        const diry = y1 > y2;\n        let interDir = (theta2 > theta1\n            ? (diry ? DIRECTION.BOTTOM : DIRECTION.TOP)\n            : (dirx ? DIRECTION.RIGHT : DIRECTION.LEFT));\n\n        // if(this._belongs && this._belongs.calculateToCoordination) {\n        //     console.log(JSON.stringify(this._intersections));\n        //     console.log(interDir)\n        // }\n        // interDir = this.checkLinked(interDir, end);\n        // if(this._belongs && this._belongs.calculateToCoordination) {\n        //     console.log(interDir)\n        // }\n\n        // if(!interDir) {\n        //     debugger\n        // }\n        // let endDir = interDir;\n        // if(end === 'to') {\n        //     endDir = oppositeDirection(endDir)\n        // }\n        return {\n            p: allIntersections[interDir],\n            dir: interDir,\n        }\n    }\n}\n\nexport default Rectangle;","import Node from '../node';\nimport { DIRECTION, oppositeDirection } from '../../utils/constance';\n/**\n *  \n * @typedef {Node~Configs} Capsule~CapsuleConfigs\n * @property {number} width  - \n * @property {number} height - \n */\n/**\n * \n * @constructor Capsule\n * @extends Node\n * @param {Capsule~CapsuleConfigs} configs - \n */\nclass Capsule extends Node {\n    constructor(configs = {}) {\n        super(configs);\n        this.type =             'Capsule';\n        /** @member {Number}      -  */\n        this.width =            configs.width || 20;\n        /** @member {Number}      -  */\n        this.height =           configs.height || 10;\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        ctx.beginPath();\n        const [x, y] = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const leftCenter = x - hw + hh;\n        const rightCenter = x + hw - hh;\n        const top = y - hh;\n        const bottom = y + hh;\n\n        ctx.moveTo(leftCenter, top);\n        ctx.lineTo(rightCenter, top);\n        ctx.arc(rightCenter, y, hh, -Math.PI/2, Math.PI/2);\n        ctx.lineTo(leftCenter, bottom);\n        ctx.arc(leftCenter, y, hh, Math.PI/2, Math.PI/2*3);\n\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fill();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n        // ctx.fillStyle = 'rgba(0,0,0,0.3)';\n        // ctx.fillRect(x-hw, y-hh, this.width, this.height)\n\n        ctx.restore();\n    }\n\n    isHit(point) {\n        const anchor = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const ww =  Math.abs(hw - hh);\n        const leftCenter = anchor[0] - hw + hh;\n        const rightCenter = anchor[0] + hw - hh;\n        const rr = hh * hh;\n        return (point[0] > anchor[0] - ww\n            && point[0] < anchor[0] + ww\n            && point[1] > anchor[1] - hh\n            && point[1] < anchor[1] + hh)\n            || ( Math.pow(point[0] - leftCenter, 2) + Math.pow(point[1] - anchor[1], 2) < rr)\n            || ( Math.pow(point[0] - rightCenter, 2) + Math.pow(point[1] - anchor[1], 2) < rr)\n    }\n\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height/2;\n        const ltx = anchor[0] - w;\n        const lty = anchor[1] - h;\n        const rbx = anchor[0] + w;\n        const rby = anchor[1] + h;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    }\n\n    getBoundingDimension() {\n        return {\n            height: this.height,\n            width: this.width,\n        }\n    }\n\n    getIntersectionsInFourDimension() {\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n        return {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n        }\n    }\n}\n\nexport default Capsule;","import Capsule from './capsule';\n/**\n * \n * @constructor CapsuleVertical\n * @extends Capsule\n * @param {Capsule~CapsuleConfigs} configs - \n */\nclass CapsuleVertical extends Capsule {\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        ctx.beginPath();\n        const [x, y] = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const topCenter = y - hh + hw;\n        const bottomCenter = y + hh - hw;\n        const left = x - hw;\n        const right = x + hw;\n\n        ctx.moveTo(left, topCenter);\n        ctx.arc(x, topCenter, hw, -Math.PI, 0);\n        ctx.lineTo(right, bottomCenter);\n        ctx.arc(x, bottomCenter, hw, 0, Math.PI);\n        ctx.closePath();\n\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fill();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n        // ctx.fillStyle = 'rgba(0,0,0,0.3)';\n        // ctx.fillRect(x-hw, y-hh, this.width, this.height)\n\n        ctx.restore();\n    }\n\n    isHit(point, condition) {\n        const [x, y] = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const yy =  Math.abs(hh - hw);\n        const topCenter = y - hh + hw;\n        const bottomCenter = y + hh - hw;\n        const rr = hw * hw;\n        return (point[0] > x - hw\n            && point[0] < x + hw\n            && point[1] > y - yy\n            && point[1] < y + yy)\n            || ( Math.pow(point[0] - x, 2) + Math.pow(point[1] - topCenter, 2) < rr)\n            || ( Math.pow(point[0] - x, 2) + Math.pow(point[1] - bottomCenter, 2) < rr)\n    }\n}\nexport default CapsuleVertical;","import Node from '../node';\nimport { DIRECTION } from '../../utils/constance';\n/**\n *  \n * @typedef {Node~Configs} Rhombus~RhombusConfigs\n * @property {number} diagonalsV  - \n * @property {number} diagonalsH  - \n */\n/**\n * \n * @constructor Rhombus\n * @param {Rhombus~RhombusConfigs} configs - \n * @extends Node\n */\nclass Rhombus extends Node {\n    constructor(configs = {}) {\n        super(configs);\n        this.type =             'Rhombus';\n        /** @member {Number}      -  */\n        this.height =           configs.diagonalsV || 10;\n        /** @member {Number}      -  */\n        this.width =            configs.diagonalsH || 20;\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        const w = this.width / 2;\n        const h = this.height / 2;\n        const center = this.anchor;\n        ctx.translate(center[0], center[1])\n        ctx.beginPath();\n        ctx.moveTo(0, -h);\n        ctx.lineTo(w, 0);\n        ctx.lineTo(0, h);\n        ctx.lineTo(-w, 0);\n        ctx.closePath();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n\n        ctx.fillStyle = this.backgroundColor;\n        if(this.shadowColor) {\n            ctx.shadowColor = this.shadowColor;\n            ctx.shadowBlur = this.shadowBlur;\n            ctx.shadowOffsetX = this.shadowOffsetX;\n            ctx.shadowOffsetY = this.shadowOffsetY;\n        }\n        ctx.fill();\n        ctx.translate(-center[0], -center[1])\n        ctx.restore();\n    }\n\n    isHit(point) {\n        const v = this.height / 2;\n        const h = this.width / 2;\n        const anchor = this.anchor;\n        const x = Math.abs(point[0] - anchor[0]);\n        const y = Math.abs(point[1] - anchor[1]);\n        return (x / h + y / v) <= 1;\n    }\n\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height /2;\n        const ltx = anchor[0] - w;\n        const lty = anchor[1] - h;\n        const rbx = anchor[0] + w;\n        const rby = anchor[1] + h;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    }\n\n    getBoundingDimension() {\n        return {\n            height: this.height,\n            width: this.width,\n        }\n    }\n\n    getIntersectionsInFourDimension() {\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n\n        return {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n            [DIRECTION.SELF]:   [x2+w*0.618, y2+h*0.618]\n        }\n    }\n}\n\nexport default Rhombus;\n","import Node from '../node';\nimport { DIRECTION, oppositeDirection } from '../../utils/constance';\nimport { makeBezierPoints } from '../../utils/functions';\n/**\n *  \n * @typedef {Node~Configs} Diamond~DiamondConfigs\n * @property {number} width  - \n * @property {number} height - \n * @property {number} side   - \n */\n/**\n * \n * @constructor Diamond\n * @param {Diamond~DiamondConfigs} configs - \n * @extends Node\n */\n\nclass Diamond extends Node {\n\n    constructor(configs = {}) {\n        super(configs);\n        this.type =             'Diamond';\n        /** @member {Number}      -  */\n        this.width =            configs.width || 20;\n        /** @member {Number}      -  */\n        this.height =           configs.height || 10;\n        /** @member {Number}      -  */\n        this.side =             configs.side || 6;\n        this._doCache();\n    }\n\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k];\n                this._rawConfigs[k] = configs[k];\n            }\n        });\n        this._doCache();\n    }\n\n    _doCache() {\n        this.sinSIDE = Math.sin(Math.PI/3) * this.side;\n        this.cosSIDE = Math.cos(Math.PI/3) * this.side;\n    }\n\n    render(ctx) {\n        const [x, y] = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const xx = hh / 1.732\n        const leftCenter = x - hw + xx;\n        const rightCenter = x + hw - xx;\n        const right = x + hw;\n        const left = x - hw;\n        const top = y - hh;\n        const bottom = y + hh;\n\n        this._cachePoints = [\n            [rightCenter, top],\n            [right, y],\n            [rightCenter, bottom],\n            [leftCenter, bottom],\n            [left, y],\n            [leftCenter, top]\n        ];\n\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        ctx.beginPath();\n        const {\n            side, sinSIDE, cosSIDE\n        } = this;\n        ctx.moveTo(x, top);\n        ctx.lineTo(rightCenter - side, top);\n        ctx.quadraticCurveTo(rightCenter, top, rightCenter + cosSIDE, top + sinSIDE);\n        ctx.lineTo(right - cosSIDE, y - sinSIDE);\n        ctx.quadraticCurveTo(right, y, right - cosSIDE, y + sinSIDE);\n        ctx.lineTo(rightCenter + cosSIDE, bottom - sinSIDE);\n        ctx.quadraticCurveTo(rightCenter, bottom, rightCenter - side, bottom);\n\n        ctx.lineTo(leftCenter + side, bottom);\n        ctx.quadraticCurveTo(leftCenter, bottom, leftCenter - cosSIDE, bottom - sinSIDE);\n        ctx.lineTo(left + cosSIDE, y + sinSIDE);\n        ctx.quadraticCurveTo(left, y, left + cosSIDE, y - sinSIDE);\n        ctx.lineTo(leftCenter - cosSIDE, top + sinSIDE);\n        ctx.quadraticCurveTo(leftCenter, top, leftCenter + side, top);\n\n        ctx.closePath();\n\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fill();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n\n        // if(this._isTargeting) {\n        //     this.renderFocus(ctx);\n        // }\n        // ctx.fillStyle = 'rgba(0,0,0,0.3)';\n        // ctx.fillRect(x-hw, y-hh, this.width, this.height)\n\n        ctx.restore();\n\n\n    }\n\n    isHit(point) {\n        if(!this._cachePoints) return false;\n        const polygon = this._cachePoints;\n        let odd = false;\n        // For each edge (In this case for each point of the polygon and the previous one)\n        for (let i = 0, j = polygon.length - 1; i < polygon.length; i++) {\n            // If a line from the point into infinity crosses this edge\n            if (((polygon[i][1] > point[1]) !== (polygon[j][1] > point[1])) // One point needs to be above, one below our y coordinate\n                // ...and the edge doesn't cross our Y corrdinate before our x coordinate (but between our x coordinate and infinity)\n                && (point[0] < ((polygon[j][0] - polygon[i][0]) * (point[1] - polygon[i][1]) / (polygon[j][1] - polygon[i][1]) + polygon[i][0]))) {\n                // Invert odd\n                odd = !odd;\n            }\n            j = i;\n\n        }\n        return odd;\n    }\n\n    getBoundingRect() {\n        const anchor = this.anchor;\n        const w = this.width /2;\n        const h = this.height/2;\n        const ltx = anchor[0] - w;\n        const lty = anchor[1] - h;\n        const rbx = anchor[0] + w;\n        const rby = anchor[1] + h;\n        return [\n            ltx, lty,\n            rbx, rby,\n        ]\n    }\n\n    getBoundingDimension() {\n        return {\n            height: this.height,\n            width: this.width,\n        }\n    }\n\n    getIntersectionsInFourDimension() {\n        let p2 = this.anchor;\n        if(this._belongs && this._belongs.calculateToCoordination) {\n            p2 = this._belongs.calculateToCoordination(p2);\n        }\n\n        const [x2, y2] = p2;\n        const w = this.width/2;\n        const h = this.height/2;\n        return {\n            [DIRECTION.RIGHT]:  [x2+w, y2],\n            [DIRECTION.LEFT]:   [x2-w, y2],\n            [DIRECTION.BOTTOM]: [x2, y2+h],\n            [DIRECTION.TOP]:    [x2, y2-h],\n        }\n    }\n}\n\nexport default Diamond;","import Diamond from './diamond';\nconst backsqrt3 = 1/Math.sqrt(3)\n\n/**\n * \n * @constructor DiamondVertical\n * @param {Diamond~DiamondConfigs} configs - \n * @extends Diamond\n */\nclass DiamondVertical extends Diamond {\n    constructor(configs) {\n        super(configs)\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        ctx.beginPath();\n        const [x, y] = this.anchor;\n        const hw = this.width/2;\n        const hh = this.height/2;\n        const yy = hw / 1.732\n\n        const top = y - hh;\n        const bottom = y + hh;\n        const topmiddle = y - hh + yy;\n        const bottommiddle = y + hh - yy;\n        const xleft = x - hw;\n        const xright = x + hw;\n\n        ctx.moveTo(x, top);\n        ctx.lineTo(xright, topmiddle);\n        ctx.lineTo(xright, bottommiddle);\n        ctx.lineTo(x, bottom);\n        ctx.lineTo(xleft, bottommiddle);\n        ctx.lineTo(xleft, topmiddle);\n        ctx.closePath();\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fill();\n        if(this.borderWidth) {\n            ctx.lineWidth = this.borderWidth;\n            ctx.strokeStyle = this.borderColor;\n            ctx.stroke();\n        }\n\n        ctx.restore();\n        this._cachePoints = [\n            [x, top],\n            [xright, topmiddle],\n            [xright, bottommiddle],\n            [x, bottom],\n            [xleft, bottommiddle],\n            [xleft, topmiddle]\n        ];\n    }\n}\nexport default DiamondVertical;","export default {\n    canvas: {\n        wheel (event, jflow) {\n            event.preventDefault();\n            let { offsetX, offsetY, deltaX, deltaY } = event \n            if(event.ctrlKey) { \n                deltaY = -deltaY;\n            }\n            jflow.zoomHandler(offsetX, offsetY, deltaX, deltaY, event);\n        },\n    }\n}","import Instance from './instance';\n\n/**\n * @typedef {Instance~Configs} BaseLink~Configs\n * @property {Instance} from   - \n * @property {Instance} to     - \n * @property {String} fromDir  -  \n * @property {String} toDir    -  \n * @property {String} key      - \n * @property {String} backgroundColor    -  \n */\n/**\n * \n * @constructor BaseLink\n * @extends Instance\n * @param {BaseLink~Configs} configs - \n */\nclass BaseLink extends Instance{\n    constructor(configs = {}) {\n        super();\n        /** @member {Instance}      -  */\n        this.from     = configs.from;\n        /** @member {Instance}      -  */\n        this.to       = configs.to;\n        /** @member {DIRECTION}      -  */\n        this.fromDir  = configs.fromDir;\n        /** @member {DIRECTION}      -  */\n        this.toDir    = configs.toDir;\n        /** @member {number[][]}     -  */\n        this._cachePoints = null;\n        /** @member {string}     -  #000 */\n        this.backgroundColor = configs.backgroundColor || '#000';\n\n        this.isSelf        = !!configs.isSelf\n    }\n\n    /**\n     * \n     * @param {number[]} viewbox\n     */\n    isInViewBox(viewbox){\n        return true;\n    }\n\n    \n}\n\nexport default BaseLink;","import Rectangle from './shapes/rectangle';\nimport { DIRECTION } from '../utils/constance';\nimport { requestCacheCanvas } from '../utils/canvas';\nimport JFlowEvent from '../events';\nfunction createInputElement() {\n    const input = document.createElement('input');\n    input.setAttribute('style',`\n        position: absolute;\n        left: 0;\n        top: 0;\n        border:none;\n        background-image:none;\n        background-color:transparent;\n        -webkit-box-shadow: none;\n        -moz-box-shadow: none;\n        box-shadow: none;`);\n    return input;\n}\n/**\n * \n * @readonly\n * @enum {string}\n */\nconst TEXT_ALIGN = {\n    CENTER: 'center',\n    LEFT: 'left',\n    RIGHT: 'right',\n};\n/**\n *  \n * @typedef {Rectangle~RectangleConfigs} Text~TextConfigs\n * @property {String} fontFamily    - \n * @property {Number} fontSize      - \n * @property {String} content       - \n * @property {String} textColor     - \n * @property {TEXT_ALIGN} textAlign     - \n * @property {String} backgroundColor     - \n * @property {number} lineHeight    - \n * @property {number} indent        - \n * @property {Boolean} editable      - \n * @property {number} minWidth      - \n */\n/**\n * \n * @description \n * @constructor Text\n * @extends Rectangle\n * @param {Text~TextConfigs} configs - \n */\nclass Text extends Rectangle {\n    constructor(configs) {\n        super(configs);\n        this.type =             'Text';\n        /** @member {String}      -  */\n        this.content =          configs.content || '';\n        /** @member {String}      -  */\n        this.fontFamily =       configs.fontFamily || '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji'\n        /** @member {String}      -  */\n        this.fontSize =         configs.fontSize || '28px';\n        /** @member {String}      -  */\n        this.textColor =        configs.textColor || 'white';\n        /** @member {String}      -  */\n        this.textAlign =        configs.textAlign || TEXT_ALIGN.CENTER;\n        /** @member {String}      -  */\n        this.textBaseline =     configs.textBaseline || 'middle';\n        /** @member {Number}      -  */\n        this.lineHeight =       configs.lineHeight ;\n        /** @member {Number}      -  */\n        this.indent =           configs.indent || 0;\n        this.backgroundColor =  configs.backgroundColor;\n        /** @member {Boolean}      -  */\n        this.editable =         configs.editable;\n        this.acceptPatten =     configs.acceptPatten;\n        /** @member {number}      -  */\n        this.minWidth =         configs.minWidth || 0;\n        // this.editStatus = {\n        //     editting: false,\n        // }\n        requestCacheCanvas((ctx) => {\n            this.renderShadowText(ctx);\n        });\n        this._makeEditable();\n    }\n\n    /**\n     * \n     */\n    _makeEditable() {\n        if(this.editable) {\n            this.addEventListener('click', (event) => {\n                let x;\n                const hw = this.width / 2;\n                if(this.textAlign === TEXT_ALIGN.LEFT){\n                    x = this.anchor[0] - hw + this.indent / 2;\n                } else if(this.textAlign === TEXT_ALIGN.RIGHT) {\n                    x = this.anchor[0] + hw;\n                } else {\n                    x = this.anchor[0] + this.indent / 2;\n                }\n                const p = [ x, -this.height/2 ];\n                const fontSize = +/(\\d+)/.exec(this.fontSize)[1];\n                const [offsetX, offsetY] = this.calculateToRealWorld(p);\n                let inputElement = createInputElement();\n                const wrapper = this._jflow.DOMwrapper;\n                const oldVal = this.content;\n                inputElement.style.transform =`translate(${offsetX}px, ${offsetY}px)`;\n                inputElement.style.width = this.calculateToRealWorldWithScalar(this.width) + 'px';\n                inputElement.style.height = this.calculateToRealWorldWithScalar(this.height) + 'px';\n                inputElement.style.fontFamily = this.fontFamily;\n                wrapper.style.fontSize = `${fontSize * this._jflow.scale}px`;\n                inputElement.style.fontSize = `${fontSize * this._jflow.scale}px`;\n                inputElement.style.lineHeight = `${this.lineHeight * this._jflow.scale}px`;\n                inputElement.style.textIndent = `${this.indent * this._jflow.scale}px`;\n                inputElement.value = this.content;\n                inputElement.style.color = this.textColor;\n                inputElement.addEventListener(\"focus\",  () => {\n                    this.content = '';\n                    this._jflow._render();\n                    inputElement.style.outline = \"none\";\n                });\n                let blurHandler = () => {\n                    if(this.acceptPatten){\n\n                    } else {\n                        const val = inputElement.value;\n                        /**\n                         * \n                         * @event Text#change\n                         * @type {object}\n                         * @property {Text} target           - \n                         * @property {String} oldVal         - \n                         * @property {String} val            - \n                         */\n                        this.dispatchEvent(new JFlowEvent('change', {\n                            target: this,\n                            oldVal,\n                            val,\n                        }))\n                        this.content = oldVal;\n                        this._jflow._render();\n                        this._jflow.removeEventListener('zoompan', blurHandler)\n                        inputElement.removeEventListener('blur', blurHandler)\n                        wrapper.removeChild(inputElement);\n                        inputElement = null;\n                        blurHandler = null;\n                    }\n                };\n                this._jflow.addEventListener('zoompan', blurHandler);\n                inputElement.addEventListener('blur', blurHandler);\n                const keyUpHandler = (e) => {\n                    if (e.key === 'Enter' || e.keyCode === 13) {\n                        e.preventDefault();\n                        inputElement.removeEventListener('keypress', keyUpHandler)\n                        blurHandler();\n                    }\n                };\n                inputElement.addEventListener('keypress', keyUpHandler)\n                wrapper.append(inputElement);\n                inputElement.focus();\n            })\n        }\n    }\n\n    renderShadowText(ctx) {\n        ctx.beginPath();\n        ctx.font = `${this.fontSize} ${this.fontFamily}`;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        ctx.fillStyle = this.textColor;\n        const {\n            actualBoundingBoxLeft,\n            actualBoundingBoxRight,\n            fontBoundingBoxAscent,\n            fontBoundingBoxDescent\n        } = ctx.measureText(this.content);\n        this._textWidth = this.indent + Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight);\n\n        this.width = Math.max(this.minWidth, this._textWidth);\n        const height = Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent);\n        if(this.lineHeight) {\n            this.height = this.lineHeight;\n        } else {\n            this.height = height;\n        }\n\n    }\n\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k];\n                this._rawConfigs[k] = configs[k];\n            }\n        });\n        requestCacheCanvas((ctx) => {\n            this.renderShadowText(ctx);\n        });\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        // this.renderShadowText(ctx);\n\n\n        // const {\n        //     borderRadius: radius, anchor, width, height\n        // } = this;\n        // if(this.backgroundColor || this.borderColor){\n        //     ctx.save();\n        //     ctx.beginPath();\n        //     if(this.borderRadius) {\n        //         const x = this.anchor[0] - this.width / 2;\n        //         const y = this.anchor[1] - this.height / 2;\n        //         ctx.moveTo(x + radius, y);\n        //         ctx.lineTo(x + width - radius, y);\n        //         ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n        //         ctx.lineTo(x + width, y + height - radius);\n        //         ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n        //         ctx.lineTo(x + radius, y + height);\n        //         ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n        //         ctx.lineTo(x, y + radius);\n        //         ctx.quadraticCurveTo(x, y, x + radius, y);\n        //         ctx.closePath();\n        //     } else {\n        //         ctx.rect(this.anchor[0] - this.width / 2, this.anchor[1] - this.height / 2, this.width, this.height);\n        //     }\n        //     if (this.backgroundColor){\n        //         ctx.fillStyle = this.backgroundColor;\n        //         ctx.fill();\n        //     }\n        //     if(this.borderColor) {\n        //         ctx.strokeStyle = this.borderColor;\n        //         ctx.stroke();\n        //     }\n        //     ctx.restore();\n        // }\n\n        ctx.beginPath();\n        ctx.font = `${this.fontSize} ${this.fontFamily}`;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        ctx.fillStyle = this.textColor;\n        if(this.textAlign === TEXT_ALIGN.LEFT){\n            const hw = this.width / 2;\n            ctx.fillText(this.content, this.anchor[0] - hw + this.indent / 2, this.anchor[1]);\n        } else if(this.textAlign === TEXT_ALIGN.RIGHT) {\n            const hw = this.width / 2;\n            ctx.fillText(this.content, this.anchor[0] + hw, this.anchor[1]);\n        } else {\n            ctx.fillText(this.content, this.anchor[0] + this.indent / 2, this.anchor[1]);\n        }\n        // ctx.rect(this.anchor[0] - this.width / 2, this.anchor[1] - this.height / 2, this.width, this.height);\n        // ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';\n        ctx.fill();\n        ctx.restore();\n    }\n}\n\nexport default Text;","import Rectangle from './shapes/rectangle';\nimport StackMixin from './stackMixin';\nimport LayoutMixin from './layoutMixin';\nimport { bounding_box } from '../utils/functions';\nimport { DIRECTION } from '../utils/constance';\n\n/**\n * @typedef {Object} Icon~ImageBounding\n * @property {number} width   - \n * @property {number} height   -  \n */\n/**\n *  \n * @typedef {Rectangle~RectangleConfigs} Icon~IconConfigs\n * @property {number} image   - \n * @property {number} imageWidth   - \n * @property {number} imageHeight   - \n */\n\n/**\n * \n * @description \n * @constructor Icon\n * @extends Rectangle\n * @param {Icon~IconConfigs} configs - \n */\nclass Icon extends Rectangle {\n    constructor(configs) {\n        super(configs)\n        /** @member {CanvasImageSource}      -  */\n        this.image = configs.image;\n        this.image.onload = () => {\n            requestAnimationFrame(() => {\n                this._jflow._render();\n            })\n        }\n        /** @member {Icon~ImageBounding}      -  */\n        this.imageBounding = {\n            width: configs.imageWidth || configs.width,\n            height: configs.imageHeight ||  configs.height,\n        }\n    }\n\n    setConfig(configs) {\n        Object.keys(configs).forEach(k => {\n            if(configs[k] !== undefined && configs[k] !== null) {\n                this[k] = configs[k];\n                this._rawConfigs[k] = configs[k];\n            }\n        });\n        if(configs.image && !configs.image.complete) {\n            this.image.onload = () => {\n                requestAnimationFrame(() => {\n                    this._jflow._render();\n                })\n            }\n        }\n        this.imageBounding = {\n            width: configs.imageWidth || configs.width || this.imageBounding.width,\n            height: configs.imageHeight ||  configs.height || this.imageBounding.height,\n        }\n    }\n\n    render(ctx) {\n        ctx.save();\n        if(this._isMoving){\n            ctx.globalAlpha = 0.6\n        }\n        Rectangle.prototype.render.call(this, ctx);\n        const x = this.anchor[0] - this.width / 2;\n        const y = this.anchor[1] - this.height / 2;\n        if(this.image.complete) {\n            ctx.drawImage(this.image, x, y, this.imageBounding.width, this.imageBounding.height);\n        }\n        ctx.restore();\n    }\n}\nexport default Icon;","import Rectangle from './shapes/rectangle';\n// import { doOverlap } from '../utils/functions';\nclass ShadowDom extends Rectangle {\n    constructor(configs) {\n        super(configs);\n        this.domFactory = configs.createDocument;\n        this._dom = null;\n    }\n\n    getRealWorldPosition() {\n        const b = this.getBoundingRect();\n        return this.calculateToRealWorld(b.slice(0, 2));\n    }\n\n    render(ctx) {\n        if(!this._dom && this.domFactory) {\n            requestAnimationFrame(() => {\n                if(!this._dom) {\n                    const container = document.createElement('div');\n                    const pos = this.getRealWorldPosition();\n                    const scale = this._jflow.scale;\n                    container.setAttribute('style', `\n                        position: absolute;\n                        width: ${this.width}px;\n                        height: ${this.height}px;\n                        transform-origin: left top;\n                        top: 0;\n                        left: 0;\n                        transform: translate(${pos[0]}px, ${pos[1]}px) scale(${scale});`);\n                    this._dom = container;\n                    this._jflow.DOMwrapper.appendChild(container);\n                    this.domFactory(container);\n                }\n            });\n        } else {\n            const pos = this.getRealWorldPosition();\n            const scale = this._jflow.scale;\n            this._dom.style.transform = `translate(${pos[0]}px, ${pos[1]}px) scale(${scale})`\n        }\n        super.render(ctx)\n    }    \n\n    onEnterViewbox() {\n        if(this._dom) {\n            this._dom.style.display = 'block';\n        }\n    }\n\n    onLeaveViewbox(){\n        if(this._dom) {\n            this._dom.style.display = 'none';\n        }\n    }\n\n    destroy() {\n        \n        if(this._dom) {\n            this._jflow.DOMwrapper.removeChild(this._dom);\n        }\n        super.destroy();\n    }\n}\nexport default ShadowDom;\n","import BaseLink from './base-link';\nimport { distToSegmentSquared } from '../utils/functions';\nimport { APPROXIMATE } from '../utils/constance';\nclass Link extends BaseLink {\n    constructor(configs) {\n        super(configs);\n        this.controlPoints = [0, 1, -10, 1, -10, 5];\n        this.fontFamily    = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji'\n        this.fontSize      = configs.fontSize || '12px';\n        this.content       = configs.content || '';\n    }\n\n    _calculateAnchorPoints() {\n        const start = this.from.calculateIntersection(this.to.getCenter());\n        const end = this.to.calculateIntersection(this.from.getCenter());\n        this._cachePoints = [start, end];\n        return {\n            startX: start[0], \n            startY: start[1],\n            endX  : end[0],\n            endY  : end[1],\n        }\n    }\n\n    render(ctx) {\n        const { startX, startY, endX, endY } = this._calculateAnchorPoints();\n        const controlPoints = this.controlPoints;\n        var dx = endX - startX;\n        var dy = endY - startY;\n        var len = Math.sqrt(dx * dx + dy * dy);\n        var sin = dy / len;\n        var cos = dx / len;\n        var a = [];\n        a.push(0, 0);\n        for (var i = 0; i < controlPoints.length; i += 2) {\n            var x = controlPoints[i];\n            var y = controlPoints[i + 1];\n            a.push(x < 0 ? len + x : x, y);\n        }\n        a.push(len, 0);\n        for (var i = controlPoints.length; i > 0; i -= 2) {\n            var x = controlPoints[i - 2];\n            var y = controlPoints[i - 1];\n            a.push(x < 0 ? len + x : x, -y);\n        }\n        a.push(0, 0);\n        ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;\n        ctx.beginPath();\n        for (var i = 0; i < a.length; i += 2) {\n            var x = a[i] * cos - a[i + 1] * sin + startX;\n            var y = a[i] * sin + a[i + 1] * cos + startY;\n            if (i === 0) ctx.moveTo(x, y);\n            else ctx.lineTo(x, y);\n        }\n        ctx.fill();\n\n        if(this.content){ \n            ctx.beginPath();\n            ctx.textAlign = 'center';\n            ctx.font = `${this.fontSize} ${this.fontFamily}`;\n            ctx.fillText(this.content, dx /2 + startX , dy /2 + startY);\n        }\n    }\n\n    isHit(point) {\n        if(!this._cachePoints) return false;\n        const [ start, end ] = this._cachePoints;\n        const dist = distToSegmentSquared(point, start, end)\n        return dist < APPROXIMATE;\n    }\n\n    getBoundingRect() {\n        const { startX, startY, endX, endY } = this._calculateAnchorPoints(); \n        return [[startX, startY], [endX, endY]]\n    }\n}\n\nexport default Link;","import BaseLink from './base-link';\nimport { \n    polylinePoints, \n    distToSegmentSquared, \n    makeRadiusFromVector, \n    minIntersectionBetweenNodes,\n    isPolyLineIntersectionRectange\n} from '../utils/functions';\nimport { APPROXIMATE, DIRECTION } from '../utils/constance';\n// import { dist2, bezierPoint } from '../utils/functions';\nconst PIINRATIO = Math.PI / 180\n/**\n * @typedef {BaseLink~Configs} PolyLink~Configs\n * @property {Number} approximate   - \n * @property {Number} radius        - \n * @property {Number} minSpanX      -  x \n * @property {Number} minSpanY      -  y \n * @property {number[]} lineDash    - \n * @property {Boolean} doubleLink   - \n * @property {String} fontFamily    - \n * @property {Number} fontSize      - \n * @property {String} content       - \n * @property {String} isSelf        - \n */\n/**\n * \n * @constructor PolyLink\n * @extends BaseLink\n * @param {PolyLink~Configs} configs - \n */\nclass PolyLink extends BaseLink {\n     /**\n     * \n     * @param {PolyLink~Configs} configs - \n     **/\n    constructor(configs) {\n        super(configs);\n        /** @member {Number}   -  */\n        this.approximate   = configs.approximate || APPROXIMATE;\n        /** @member {Number}   -  */\n        this.radius        = configs.radius || 0;\n        /** @member {Number}   -  x  */\n        this.minSpanX      = configs.minSpanX || 10;\n        /** @member {Number}   -  y  */\n        this.minSpanY      = configs.minSpanY || 10;\n        /** @member {Number}    -  */\n        this.lineDash      = configs.lineDash;\n        /** @member {Number}    -  */\n        this.doubleLink    = configs.doubleLink;\n        /** @member {Number}    -  */\n        this.fontFamily    = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji'\n        /** @member {Number}    -  */\n        this.fontSize      = configs.fontSize || '12px';\n        /** @member {Number}    -  */\n        this.content       = configs.content || '';\n        /** @member {Number}    -  */\n        this.isSelf        = !!configs.isSelf\n\n        this.noArrow       = !!configs.noArrow \n    }\n\n    _calculateAnchorPoints() {\n        const dmsfrom = this.from.getIntersectionsInFourDimension();\n        const dmsto = this.to.getIntersectionsInFourDimension();\n        if(this.isSelf){\n            const points = polylinePoints(\n                dmsfrom[this.fromDir],\n                dmsto[DIRECTION.SELF],\n                this.fromDir,\n                this.toDir, \n                this.minSpanX, \n                this.minSpanY,\n                true);\n\n            this._cachePoints = points\n            this._cacheAngle = [this.fromDir, this.toDir]\n            // const points = polylinePoints(\n            //     dmsfrom[this.fromDir],\n            //     dmsto[this.toDir],\n            //     this.fromDir,\n            //     this.toDir, this.minSpanX , this.minSpanY);\n            // this._cachePoints = points\n            // this._cacheAngle = [this.fromDir, this.toDir]\n        } else if(this.fromDir !== undefined && this.toDir !== undefined) {\n            const points = polylinePoints(\n                dmsfrom[this.fromDir],\n                dmsto[this.toDir],\n                this.fromDir,\n                this.toDir, this.minSpanX , this.minSpanY);\n            this._cachePoints = points\n            this._cacheAngle = [this.fromDir, this.toDir]\n        } else {\n            const meta = minIntersectionBetweenNodes(dmsfrom, dmsto);\n            const points = polylinePoints(\n                meta.fromP,\n                meta.toP,\n                meta.fromDir,\n                meta.toDir,\n                this.minSpanX , this.minSpanY);\n            this._cachePoints = points\n            this._cacheAngle = [meta.fromDir, meta.toDir]\n        }\n    }\n    \n    isInViewBox(br) {\n        this._calculateAnchorPoints();\n        return isPolyLineIntersectionRectange(this._cachePoints, br);\n    }\n\n    render(ctx) {\n        // this._calculateAnchorPoints();\n        const radius = this.radius;\n        const points = this._cachePoints;\n        const p = points[0];\n        const pEnd = points[points.length - 1];\n        const angleEnd = ((this._cacheAngle[1] + 2) % 4) * 90 * PIINRATIO;\n        ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;\n        if(this.doubleLink) {\n            const beginAngle = ((this._cacheAngle[0] + 2) % 4) * 90 * PIINRATIO;\n            ctx.beginPath();\n            ctx.translate(p[0], p[1]);\n            ctx.rotate(beginAngle);\n            ctx.moveTo(5, 0);\n            ctx.lineTo(0, -4);\n            ctx.lineTo(0, 4);\n            ctx.lineTo(5, 0);\n            ctx.fill();\n            ctx.rotate(-beginAngle);\n            ctx.translate(-p[0], -p[1]);\n        }\n        ctx.beginPath();\n        ctx.moveTo(p[0], p[1]);\n        points.slice(1, points.length - 1).forEach((p, idx) => {\n            if(this.radius) {\n                const pLast = points[idx];\n                const pNext = points[idx+2];\n                const { p1, p2 } = makeRadiusFromVector(pLast, p, pNext, radius);\n                if(p1 && p2){\n                    ctx.lineTo(p1[0], p1[1]);\n                    ctx.quadraticCurveTo(p[0], p[1], p2[0], p2[1]);\n                } else {\n                    ctx.lineTo(p[0], p[1]);\n                }  \n            } else {\n                ctx.lineTo(p[0], p[1]);\n            }\n        });\n        ctx.lineTo(pEnd[0], pEnd[1]);\n\n        if(this.lineDash) {\n            ctx.save();\n            ctx.setLineDash(this.lineDash);\n        }\n        ctx.stroke();\n        if(this.lineDash) {\n            ctx.restore();\n        }\n\n        if(!this.noArrow) {\n            ctx.beginPath();\n            ctx.translate(pEnd[0], pEnd[1]);\n            ctx.rotate(angleEnd);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-5, -4);\n            ctx.lineTo(-5, 4);\n            ctx.lineTo(0, 0);\n            ctx.fill();\n            ctx.rotate(-angleEnd);\n            ctx.translate(-pEnd[0], -pEnd[1]);\n        }\n        if(this.content) {\n            ctx.beginPath();\n            ctx.font = `${this.fontSize} ${this.fontFamily}`;\n            switch (this.fromDir) {\n                case DIRECTION.BOTTOM:\n                    ctx.textAlign = 'left';\n                    ctx.fillText(this.content, p[0] + 2, p[1] + 10);\n                    break;\n                case DIRECTION.RIGHT:\n                    ctx.textAlign = 'left';\n                    ctx.fillText(this.content, p[0] + 10, p[1] - 2);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n    }\n\n    isHit(point) {\n        const points = this._cachePoints;\n        let lastP = points[0];\n        const remainPoints = points.slice(1)\n        do {\n            const currentP = remainPoints.shift();\n            if(currentP) {\n                const dist = distToSegmentSquared(point, lastP, currentP);\n                if(dist < this.approximate){\n                    return true;\n                }\n            }\n            lastP = currentP;\n        } while(lastP)\n\n        return false\n    }\n}\n\nexport default PolyLink;","import BaseLink from './base-link';\nimport { bezierPoints, distToBezierSegmentSquared, getBezierAngle, minIntersectionBetweenNodes } from '../utils/functions';\nimport { APPROXIMATE, DIRECTION } from '../utils/constance';\nimport { dist2, bezierPoint } from '../utils/functions';\nconst PIINRATIO = Math.PI / 180\n/**\n * @typedef {BaseLink~Configs} BezierLink~Configs\n * @property {Number} approximate   - \n * @property {Number} minSpanX      -  x \n * @property {Number} minSpanY      -  y \n * @property {Number[]} lineDash    - \n * @property {Boolean} doubleLink   - \n * @property {String} fontFamily    - \n * @property {Number} fontSize      - \n * @property {String} content       - \n * @property {Boolean} isSelf        - \n */\n/**\n * \n * @constructor BezierLink\n * @extends BaseLink\n * @param {BezierLink~Configs} configs - \n */\nclass BezierLink extends BaseLink {\n     /**\n     * .\n     * @param {BezierLink~Configs} configs - \n     **/\n    constructor(configs) {\n        super(configs);\n        /** @member {Number}      -  */\n        this.approximate   = configs.approximate || APPROXIMATE;\n        /** @member {Number}      -  x  */\n        this.minSpanX      = configs.minSpanX || 0;\n        /** @member {Number}      -  y  */\n        this.minSpanY      = configs.minSpanY || 0;\n        /** @member {Number[]}      -  */\n        this.lineDash      = configs.lineDash;\n        /** @member {Boolean}      -  */\n        this.doubleLink    = configs.doubleLink;\n        /** @member {String}      -  */\n        this.fontFamily    = configs.fontFamily = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji'\n        /** @member {Number}      -  */\n        this.fontSize      = configs.fontSize || '12px';\n        /** @member {String}      -  */\n        this.content       = configs.content || '';\n        /** @member {Boolean}      -  */\n        this.isSelf        = !!configs.isSelf\n    }\n    \n    // getColor() {\n    //     if(this._isTargeting) {\n    //         return this.hoverStyle;\n    //     }\n    //     return this.defaultStyle;\n    // }\n    \n    // _calculateAnchorPoints() {\n    //     let start;\n    //     let end;\n    //     if(this.fromDir !== undefined) {\n    //         start = {\n    //             dir: this.fromDir,\n    //             p: this.from.getIntersectionsInFourDimension()[this.fromDir],\n    //         }\n    //     } else {\n    //         start = this.from.calculateIntersectionInFourDimension(this.to.getCenter(), 'from');\n    //     }\n    //     if(this.toDir !== undefined) {\n    //         end = {\n    //             dir: this.toDir,\n    //             p: this.to.getIntersectionsInFourDimension()[this.toDir],\n    //         }\n    //     } else {\n    //         end = this.to.calculateIntersectionInFourDimension(this.from.getCenter(), 'to');\n    //     }\n        \n        \n    //     // const start = this.from.calculateIntersectionInFourDimension(this.to.getCenter(), 'from');\n    //     // const end = this.to.calculateIntersectionInFourDimension(this.from.getCenter(), 'to');\n    //     const p1 = start.p;\n    //     const p2 = end.p;\n    //     const points = bezierPoints(p1, p2, start.dir, end.dir, this.anticlock);\n\n    //     this._cachePoints = [...p1, ...points]\n    // }\n\n    _calculateAnchorPoints() {\n        const dmsfrom = this.from.getIntersectionsInFourDimension();\n        const dmsto = this.to.getIntersectionsInFourDimension();\n        if(this.isSelf) {\n            const points = bezierPoints(\n                dmsfrom[this.fromDir],\n                dmsto[DIRECTION.SELF],\n                this.fromDir,\n                DIRECTION.BOTTOM, \n                this.minSpanX, \n                this.minSpanY);\n\n            this._cachePoints = [...dmsfrom[this.fromDir], ...points] \n            this._cacheAngle = [this.fromDir, DIRECTION.BOTTOM]\n        } else if(this.fromDir !== undefined && this.toDir !== undefined) {\n            const points = bezierPoints(\n                dmsfrom[this.fromDir],\n                dmsto[this.toDir],\n                this.fromDir,\n                this.toDir, this.minSpanX , this.minSpanY);\n            this._cachePoints = [...dmsfrom[this.fromDir], ...points] \n            this._cacheAngle = [this.fromDir, this.toDir]\n        } else {\n            const meta = minIntersectionBetweenNodes(dmsfrom, dmsto);\n            const points = bezierPoints(\n                meta.fromP,\n                meta.toP,\n                meta.fromDir,\n                meta.toDir);\n\n            this._cachePoints = [...meta.fromP, ...points];\n            this._cacheAngle = [meta.fromDir, meta.toDir];\n        }\n    }\n\n    render(ctx) {\n        this._calculateAnchorPoints();\n        const points = this._cachePoints;\n        const angle = getBezierAngle.apply(null, [1, ...points])\n        ctx.fillStyle = ctx.strokeStyle = this.backgroundColor;\n        if(this.doubleLink) {\n            const beginAngle = ((this._cacheAngle[0] + 2) % 4) * 90 * PIINRATIO;\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            ctx.rotate(beginAngle);\n            ctx.moveTo(5, 0);\n            ctx.lineTo(0, -4);\n            ctx.lineTo(0, 4);\n            ctx.lineTo(5, 0);\n            ctx.fill();\n            ctx.rotate(-beginAngle);\n            ctx.translate(-points[0], -points[1]);\n        }\n        ctx.beginPath();\n        ctx.moveTo(points[0], points[1])\n        ctx.bezierCurveTo(...points.slice(2));\n        if(this.lineDash) {\n            ctx.save();\n            ctx.setLineDash(this.lineDash);\n        }\n        ctx.stroke();\n        if(this.lineDash) {\n            ctx.restore();\n        }\n        ctx.beginPath();\n        ctx.translate(points[6], points[7]);\n        ctx.rotate(angle);\n        ctx.moveTo(5, 0);\n        ctx.lineTo(0, -4);\n        ctx.lineTo(0, 4);\n        ctx.lineTo(5, 0);\n        ctx.fill();\n        ctx.rotate(-angle);\n        ctx.translate(-points[6], -points[7]);\n        if(this.content) {\n            ctx.beginPath();\n            const hasFlip = points[0] > points[6];\n            let [x, y, angle] = bezierPoint(0.5, points);\n            ctx.translate(x, y);\n            ctx.rotate(angle);\n            if(hasFlip){\n                ctx.rotate(Math.PI);\n            }\n            ctx.font = `${this.fontSize} ${this.fontFamily}`;\n            ctx.textAlign = 'center';\n            ctx.fillText(this.content, 0, -(parseInt(this.fontSize) || 12)/4);\n            if(hasFlip){\n                ctx.rotate(Math.PI);\n            }\n            ctx.rotate(-angle);\n            ctx.translate(-x, -y);\n        }\n    }\n\n    isHit(point) {\n        if(!this._cachePoints) return false;\n        const points = this._cachePoints;\n        const dist = distToBezierSegmentSquared(point, points)\n        return dist < this.approximate;\n    }\n}\n\nexport default BezierLink;","/**\n * \n * @typedef {Object} LinearLayout~Configs\n * @property {string} direction     -   vertical\n * @property {number} gap           - ,  5\n * @property {string} alignment     -   center\n * @property {string} justify       -   center\n */\n/**\n    \n\n    \n    direction:\n        + vertical \n        + horizontal \n    \n    \n     group\n\n    \n    alignment: \n        + start \n        + center \n        + end   \n    justify: \n        + start \n        + center \n        + end   \n        + space-between \n\n * @constructor LinearLayout\n * @implements {Layout}\n * @param {LinearLayout~Configs} configs - \n */\n\nclass LinearLayout {\n    constructor(configs = {}) {\n        /** @member {string}  -   vertical */\n        this.direction =     configs.direction || 'vertical';\n        /** @member {number}  - ,  5 */\n        this.gap =           configs.gap ?? 5;\n        /** @member {string}  -   center */\n        this.alignment =     configs.alignment || 'center';\n        /** @member {string}  -   center */\n        this.justify =       configs.justify || 'center';\n        // this.widthSetByParent =  configs.width === '100%'\n        this._rawConfigs = configs;\n    }\n\n\n    reflow(group) {\n        const stack = group._stack.filter(instance => instance.visible && !instance.absolutePosition);\n        const absoluteStack = group._stack.filter(instance => instance.visible && instance.absolutePosition)\n        const groupWidth = group.width - group.padding.left - group.padding.right;\n        if(this.direction === 'vertical') {\n            let reduceHeight = 0;\n            let lastInstanceHeight = 0;\n            let maxWidth = 0;\n            let allHeight = 0;\n            stack.forEach((instance, idx) =>  {\n                const { width, height } = instance.getBoundingDimension();\n                // console.log(height, instance.type);\n                const gap = (idx > 0 ? this.gap : 0);\n                maxWidth = Math.max(width, maxWidth);\n                allHeight += (height + gap);\n                reduceHeight += (height/2 + gap + lastInstanceHeight)\n                lastInstanceHeight = height / 2;\n                instance.anchor = [0, reduceHeight];\n            });\n            stack.concat(absoluteStack).forEach((instance, idx) =>  {\n                if(instance.display === 'block') {\n                    // instance.definedWidth = maxWidth;\n                    instance.resetChildrenPosition();\n                    instance.width = maxWidth;\n                    instance.reflow();\n                }\n            });\n\n            maxWidth = Math.max(groupWidth, maxWidth);\n            \n            allHeight = allHeight/2;\n            if(this.alignment === 'start') {\n                stack.forEach((instance, idx) =>  {\n                    const { width } = instance.getBoundingDimension();\n                    instance.anchor[0] = -(maxWidth - width) / 2;\n                    instance.anchor[1] -= allHeight;\n                    // console.log(maxWidth, width, instance.anchor[0])\n                })\n            }\n            if(this.alignment === 'end') {\n                stack.forEach((instance, idx) =>  {\n                    const { width } = instance.getBoundingDimension();\n                    instance.anchor[0] = (maxWidth - width) / 2;\n                    instance.anchor[1] -= allHeight;\n                })\n            }\n            if(this.alignment === 'center') {\n                stack.forEach((instance, idx) =>  {\n                    const { width } = instance.getBoundingDimension();\n                    instance.anchor[1] -= allHeight;\n                })\n            }\n        } \n        if(this.direction === 'horizontal') {\n            let reduceWidth = 0;\n            let lastInstanceWidth = 0;\n            let maxHeight = 0;\n            let allWidth = 0;\n            let allPureWidth = 0;\n            \n            stack.forEach((instance, idx) =>  {\n                const { width, height } = instance.getBoundingDimension();\n                const gap = (idx > 0 ? this.gap : 0);\n                maxHeight = Math.max(height, maxHeight);\n                allWidth += (width+gap);\n                allPureWidth += width;\n                reduceWidth += (width/2 + gap + lastInstanceWidth)\n                lastInstanceWidth = width / 2;\n                instance.anchor = [reduceWidth, 0]\n            });\n            if(this.justify === 'start') {\n                const withdraw = groupWidth/2;\n                stack.forEach((instance, idx) => {\n                    instance.anchor[0] -= withdraw;\n                });  \n            }\n            if(this.justify === 'end') {\n                const withdraw = groupWidth/2 - allWidth;\n                stack.forEach((instance, idx) => {\n                    instance.anchor[0] += withdraw;\n                });  \n            }\n            if(this.justify === 'center') { \n                const withdraw = allWidth / 2;\n                stack.forEach((instance, idx) => {\n                    instance.anchor[0] -= withdraw;\n                })                \n            }\n            if(this.justify === 'space-between' && stack.length > 1) {\n                \n                const width = Math.max(groupWidth, allWidth);\n                const gapAverage = (width - allWidth) / (stack.length - 1);\n                const withdraw = width/2;\n                stack.forEach((instance, idx) => {\n                    instance.anchor[0] += ((gapAverage * idx) - withdraw);\n                });  \n            }\n            if(this.alignment === 'start') {\n                stack.forEach((instance, idx) => {\n                    const { height } = instance.getBoundingDimension();\n                    instance.anchor[1] = -(maxHeight - height) / 2;\n                })\n            }\n            if(this.alignment === 'end') {\n                stack.forEach((instance, idx) => {\n                    const { height } = instance.getBoundingDimension();\n                    instance.anchor[1] = (maxHeight - height) / 2;\n                })\n            }\n        }\n\n        if(absoluteStack.length) {\n            if(group.display === 'block') {\n                group.getBoundingDimension();\n            } else {\n                group._getBoundingGroupRect();\n            }\n            const WIDTH = group.width /2;\n            const HEIGHT = group.height /2;\n            absoluteStack.forEach(instance => {\n                instance.anchor = this._resolveAbsoluteAnchor(instance.absolutePosition, instance, WIDTH, HEIGHT);\n            })\n        }\n    }\n\n    _resolveAbsoluteAnchor(config, instance, w, h){\n        const { top, right, bottom, left } = config;\n        const { width, height } = instance.getBoundingDimension();\n        const hw = width / 2;\n        const hh = height / 2;\n        let y = 0;\n        let x = 0;\n        if(typeof top === 'number') {\n            y = top + hh - h;\n        }\n        if(typeof right === 'number') {\n            x = w - right - hw;\n        }\n        if(typeof bottom === 'number') {\n            y = h - bottom - hh;\n        }\n        if(typeof left === 'number') {\n            x = left + hw - w;\n        }\n        return [x, y]\n    }\n\n    clone() {\n        return new LinearLayout(this._rawConfigs);\n    }\n}\n\nexport default LinearLayout;","\n// import EventEmitter from '../../utils/EventEmitter';\nimport { DIRECTION } from '../../utils/constance';\nclass BaseNode {\n    constructor(source) {\n        this.source = source;\n        this.id = source.id;\n        this.type = source.type;\n        // this.isDraggable = true;\n        // this.getJflowInstance = undefined;\n        this.level = undefined;\n        this.sequence = undefined;\n        // this.isLocked = false;\n        this.isFree = false;\n        this.parent = undefined;\n        this.idx = undefined;\n        this.parentIterateType = undefined;\n        \n        this.hasEndPoint = false;\n        // source._getAstNode = () => this;\n    }\n\n    reflowPreCalculate(level = 0, sequence = 0, callback) {\n        this.level = level;\n        this.sequence = sequence;\n        this.spanX = 1;\n        this.spanY = 1;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n        return {\n            spanX: this.spanX, \n            spanY: this.spanY, \n            level, sequence,\n        }\n    }\n\n    makeLink(callback) {\n        return this;\n    }\n\n    makeEndpoint() { }\n\n    traverse(callback) {\n        callback(this);\n    }\n\n    getNodes(jflow) {\n        const nodes = [];\n        this.traverse(n => {\n            const renderNode = jflow.getRenderNodeBySource(n.source);\n            if(renderNode)\n                nodes.push(renderNode);\n        })\n        return nodes;\n    }\n\n    linkSource(source) {\n        this.parent.source[this.parentIterateType].splice(this.idx + 1, 0, source);\n    }\n\n    remove() {\n        this.parent.source[this.parentIterateType].splice(this.idx, 1);\n    }\n}\n\nclass Root extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.isroot = true;\n        this.body = (source.body || []).map(mapFunc('body').bind(this));\n        const playgrounditerator = mapFunc('playground').bind(this)\n        this.playground = (source.playground || []).map((s, idx) => {\n            const n = playgrounditerator(s, idx);\n            n.isFree = true;\n            return n;\n        });\n    }\n\n    reflowBodyPreCalculate(level = 0, sequence = 0, callback) {\n        let spanX = 1;\n        let spanY = 1;\n        this.level = level;\n        this.sequence = sequence;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n        this.body.forEach((b) => {\n            const { spanX: sx, spanY: sy } = b.reflowPreCalculate(level + 1, sequence, callback);\n            spanX = Math.max(sx, spanX);\n            spanY += sy;\n            level += sy;\n        });\n\n        this.spanX = spanX;\n        this.spanY = spanY;\n        return {\n            spanX, spanY, level, sequence\n        }\n    }\n\n    reflowPlaygroundPreCalculate(preCallback, callback) {\n        this.playground.forEach(node => {\n            preCallback(node)\n            node.reflowPreCalculate(0, 0, callback)\n        })\n    }\n\n\n    makeLink(callback) {\n        let last;\n        this.body.forEach(b => {\n            if(!last) {\n                last = b;\n                return;\n            }\n            callback({\n                from: last,\n                to: b,\n                part: 'body',\n                fromDir: DIRECTION.BOTTOM,\n                toDir: DIRECTION.TOP,\n            })\n            \n            b = b.makeLink(callback);\n            last = b;\n        });\n\n        this.playground.forEach(n => {\n            n.makeLink(callback);\n        });\n        return this;\n    }\n\n    traverse(callback) {\n        this.body.forEach(n => {\n            n.traverse(callback);\n        });\n\n        this.playground.forEach(n => {\n            n.traverse(callback);\n        })\n    }\n}\n\nclass IfStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.consequent = (source.consequent || []).map(mapFunc('consequent').bind(this));\n        this.alternate = (source.alternate || []).map(mapFunc('alternate').bind(this));\n        this.isLocked = true;\n        this.hasEndPoint = true;\n    }\n    \n    reflowPreCalculate(level = 0, sequence = 0, callback) {\n        let spanX = 1;\n        let spanY = 1;\n        this.level = level;\n        this.sequence = sequence;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n        let c_spanX = 1;\n        let c_spanY = 0;\n        let a_spanX = 0;\n        let a_spanY = 0;\n        this.consequent.forEach((c, idx) => {   \n            const { spanX: sx, spanY: sy } = c.reflowPreCalculate(level + 1, sequence, callback);\n            c_spanX = Math.max(c_spanX, sx);\n            c_spanY += sy;\n            level += sy;\n        });\n        const nextSequeence = sequence + c_spanX;\n        level = this.level;\n        this.alternate.forEach((a, idx) => {\n            const { spanX: sx, spanY: sy } = a.reflowPreCalculate(level + 1, nextSequeence, callback);\n            a_spanX = Math.max(a_spanX, sx);\n            a_spanY += sy;\n            level += sy;\n        });\n        spanX = Math.max(1, c_spanX + a_spanX);\n        spanY += Math.max(c_spanY, a_spanY);\n        level = this.level + spanY - 1;\n        const { spanY: sy } = this.Endpoint.reflowPreCalculate(level + 1, sequence, callback);\n        spanY += sy;\n        this.spanX = spanX;\n        this.spanY = spanY;\n        return {\n            spanX, spanY, level, sequence\n        }\n    }\n\n    makeLink(callback) {\n        let lastc = this;\n        this.consequent.forEach(c => {\n            callback({\n                from: lastc,\n                to: c,\n                part: 'consequent',\n                fromDir: DIRECTION.BOTTOM,\n                toDir: DIRECTION.TOP,\n            });\n\n            c = c.makeLink(callback)\n            lastc = c;\n        })\n\n        callback({\n            from: lastc,\n            to: this.Endpoint,\n            fromDir: DIRECTION.BOTTOM,\n            toDir: DIRECTION.TOP,\n            part: 'consequent',\n        });\n\n        let lasta = this;\n        this.alternate.forEach(a => {\n            callback({\n                from: lasta,\n                to: a,\n                fromDir: lasta === this ? DIRECTION.RIGHT : DIRECTION.BOTTOM,\n                toDir: DIRECTION.TOP,\n                part: 'alternate',\n            })\n            a = a.makeLink(callback)\n            lasta = a;\n        });\n        callback({\n            from: lasta,\n            to: this.Endpoint,\n            fromDir: lasta === this ? DIRECTION.RIGHT : DIRECTION.BOTTOM,\n            toDir: DIRECTION.RIGHT,\n            part: 'alternate',\n        });\n\n        return this.Endpoint;\n    }\n\n    // makeEndpoint() {\n    //     const fakeSource = {\n    //         type: 'endpoint',\n    //         id: `${this.id}-endpoint`,\n    //     };\n    //     this.Endpoint = makeAST(fakeSource);\n    //     this.Endpoint.parent = this.parent;\n    //     this.Endpoint.idx = this.idx;\n    //     this.Endpoint.parentIterateType = this.parentIterateType;\n    //     return fakeSource;     \n    // }\n\n    traverse(callback) {\n        callback(this);\n        this.consequent.forEach(n => {\n            n.traverse(callback);\n        });\n        this.alternate.forEach(n => {\n            n.traverse(callback);\n        });\n        console.log(this.Endpoint)\n        callback(this.Endpoint);\n    }\n\n    linkSource(source, linkMeta) {\n        this.source[linkMeta.part].unshift(source);\n    }\n}\n\nclass SwitchStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.cases = (source.cases || []).map(mapFunc('case').bind(this))\n        if(this.cases.length) {\n            this.cases[this.cases.length - 1].lastCase = true;\n        }\n        this.isLocked = true;\n        this.hasEndPoint = true;\n    }\n\n    reflowPreCalculate(level = 0, sequence = 0, callback) {\n        let spanX = 1;\n        let spanY = 1;\n        this.level = level;\n        this.sequence = sequence;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n\n        let c_spanX = 1;\n        let c_spanY = 0;\n        if(this.cases.length) {\n            const consequent = this.cases[this.cases.length - 1].consequent;\n            level = this.level;\n            consequent.forEach(cc => {\n                const { spanX: sx, spanY: sy } = cc.reflowPreCalculate(level + 1, sequence, callback);\n                c_spanX = Math.max(c_spanX, sx);\n                c_spanY += sy;\n                level += sy;\n            });\n        }\n        \n        \n        let s_spanX = c_spanX;\n        let s_spanY = 0;\n        this.cases.forEach((c, idx) => {\n            const nextSequeence = sequence + s_spanX;\n            let a_spanX = 0;\n            let a_spanY = 0;\n            level = this.level;\n            c.alternate.forEach(ca => {\n                const { spanX: sx, spanY: sy } = ca.reflowPreCalculate(level + 1, nextSequeence, callback);\n                a_spanX = Math.max(a_spanX, sx);\n                a_spanY += sy;\n                level += sy;\n            });\n            s_spanX += a_spanX;\n            s_spanY = Math.max(s_spanY, a_spanY);\n        });\n       \n        \n        spanX = Math.max(1, s_spanX);\n        spanY = Math.max(c_spanY, s_spanY);\n        level = this.level + spanY;\n        const { spanY: sy } = this.Endpoint.reflowPreCalculate(level + 1, sequence, callback);\n        spanY += sy;\n        spanY += 1 // \n        this.spanX = spanX;\n        this.spanY = spanY;\n        return {\n            spanX, spanY, level, sequence\n        }       \n    }\n\n    makeLink(callback) {\n        let lastc = this;\n        if(this.cases.length) {\n            const consequent = this.cases[this.cases.length - 1].consequent;\n            consequent.forEach((c, idx) => {\n                callback({\n                    from: lastc,\n                    to: c,\n                    fromDir: DIRECTION.BOTTOM,\n                    toDir: DIRECTION.TOP,\n                    part: 'consequent',\n                });\n                lastc = c.makeLink(callback)\n            });\n        }\n        console.log(lastc)\n        callback({\n            from: lastc,\n            to: this.Endpoint,\n            fromDir: DIRECTION.BOTTOM,\n            toDir: DIRECTION.TOP,\n            part: 'consequent',\n        });\n\n        this.cases.forEach((c, idx) => {\n            let lasta = c;\n            c.alternate.forEach(a => {\n                callback({\n                    from: lasta,\n                    to: a,\n                    fromDir: lasta === c ? DIRECTION.RIGHT : DIRECTION.BOTTOM,\n                    toDir: DIRECTION.TOP,\n                    part: 'alternate',\n                });\n                lasta = a.makeLink(callback)\n            })\n            \n            callback({\n                from: lasta,\n                to: this.Endpoint,\n                fromDir: lasta === c ? DIRECTION.RIGHT : DIRECTION.BOTTOM,\n                toDir: DIRECTION.RIGHT,\n                part: 'alternate',\n                minSpanX: 32 * (idx + 1),\n            });\n        });\n\n        return this.Endpoint;\n    }\n\n    // makeEndpoint() {\n    //     this.Endpoint = makeAST({\n    //         type: 'endpoint',\n    //         id: `${this.id}-endpoint`,\n    //     });\n    //     this.Endpoint.parent = this.parent;\n    //     this.Endpoint.parentIterateType = this.parentIterateType;     \n    //     this.Endpoint.idx = this.idx;\n    // }\n\n    traverse(callback) {\n        callback(this);\n        this.cases.forEach(n => {\n            n.traverse(callback);\n        });\n        callback(this.Endpoint);\n    }\n\n    getNodes(jflow) {\n        const nodes = [];\n        this.traverse(n => {\n            if(n.type === 'SwitchCase') return\n            const renderNode = jflow.getRenderNodeBySource(n.source);\n            if(renderNode)\n                nodes.push(renderNode);\n        })\n        return nodes;\n    }\n\n    linkSource(source, linkMeta) {\n        const cases = this.source.cases;\n        const consequent = cases[cases.length - 1].consequent;\n        consequent.unshift(source);\n    }\n}\n\nclass ForEachStatement extends BaseNode {\n    \n}\n\nclass WhileStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.body = (source.body || []).map(mapFunc('body').bind(this));\n        this.isLocked = true\n    }\n\n    reflowPreCalculate(level = 0, sequence = 0, callback) {\n        let spanX = 1;\n        let spanY = 1;\n        this.level = level;\n        this.sequence = sequence;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n        const nextSequeence = sequence + 1;\n        // level--;\n        this.body.forEach((b) => {\n            const { spanX: sx, spanY: sy } = b.reflowPreCalculate(level + 1, nextSequeence, callback);\n            spanX = Math.max(sx, spanX);\n            spanY += sy;\n            level += sy;\n        });\n\n        this.spanX = spanX + 1;\n        this.spanY = spanY;\n        return {\n            spanX, spanY, level, sequence\n        }\n    }\n\n    makeLink(callback) {\n        let last = this;\n        // const lastIdx = this.body.length - 1;\n        this.body.forEach((b, idx) => {\n            callback({\n                from: last,\n                to: b,\n                part: 'body',\n                fromDir: last === this ? DIRECTION.RIGHT: DIRECTION.BOTTOM,\n                toDir: DIRECTION.TOP,\n            })\n            \n            b = b.makeLink(callback);\n            last = b;\n        });\n        callback({\n            from: last,\n            to: this,\n            part: 'body',\n            fromDir: last === this ? DIRECTION.RIGHT : DIRECTION.BOTTOM,\n            anticlock: last === this,\n            toDir: DIRECTION.BOTTOM,\n            isSelf: true,\n            minSpanX: 20,\n            minSpanY: 20,\n        });\n        return this;\n    }\n\n    traverse(callback) {\n        callback(this);\n        this.body.forEach(n => {\n            n.traverse(callback);\n        });\n    }\n\n    linkSource(source, linkMeta) {\n        this.source[linkMeta.part].unshift(source);\n    }\n}\n\nclass SwitchCase extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.consequent = (source.consequent || []).map(mapFunc('consequent').bind(this));\n        this.alternate = (source.alternate || []).map(mapFunc('alternate').bind(this));\n        this.lastCase = false;\n    }\n\n    reflowPreCalculate(level = 0, sequence = 0, callback) {\n        let spanX = 1;\n        let spanY = 1;\n        this.level = level;\n        this.sequence = sequence;\n        if(callback) {\n            callback(level, sequence, this);\n        }\n        \n        let c_spanX = 0;\n        let c_spanY = 0;\n        let a_spanX = 0;\n        let a_spanY = 0;\n        if(this.lastCase) {\n            this.consequent.forEach((c, idx) => {\n                const { spanX: sx, spanY: sy } = c.reflowPreCalculate(level + 1, sequence, callback);\n                c_spanX = Math.max(c_spanX, sx);\n                c_spanY += sy;\n                level += sy;\n            });\n        }\n        \n        const nextSequeence = sequence + Math.max(c_spanX, 1);\n        level = this.level;\n        this.alternate.forEach((a, idx) => {\n            const { spanX: sx, spanY: sy } = a.reflowPreCalculate(level + 1, nextSequeence, callback);\n            a_spanX = Math.max(a_spanX, sx);\n            a_spanY += sy;\n            level += sy;\n        });\n        spanX = Math.max(1, c_spanX + a_spanX);\n        spanY += Math.max(c_spanY, a_spanY);\n\n        this.spanX = spanX;\n        this.spanY = spanY;\n        return {\n            spanX, spanY, level, sequence\n        }       \n    }\n\n    traverse(callback) {\n        callback(this);\n        this.consequent.forEach(n => {\n            n.traverse(callback);\n        });\n        this.alternate.forEach(n => {\n            n.traverse(callback);\n        });\n    }\n\n    linkSource(source, linkMeta) {\n        this.source[linkMeta.part].unshift(source);\n    }\n\n    // makeLink()\n}\n \nconst TYPE_MAPPING = {\n    IfStatement,\n    SwitchStatement,\n    SwitchCase,\n    ForEachStatement,\n    WhileStatement,\n    Root,\n    other: BaseNode,\n}\n\nfunction mapFunc(type)  {\n    return function(n, idx) {\n        const p = makeAST(n);\n        p.parent = this;\n        p.idx = idx;\n        p.parentIterateType = type;\n\n        //  weakMap  endPoint source \n        if(p.hasEndPoint) {\n            if(!n.__endpoint__) {\n                n.__endpoint__ = {\n                    type: 'endpoint',\n                    id: `${p.id}-endpoint`,\n                };\n            }\n            const e = makeAST(n.__endpoint__);\n            e.parent = this;\n            e.idx = idx;\n            e.parentIterateType = type;\n            p.Endpoint = e;\n        }\n        return p;\n    }\n}\nfunction makeAST(source) {\n    const type = source.type;\n    const Constructor = TYPE_MAPPING[type] || TYPE_MAPPING.other;\n    const node = new Constructor(source);\n    return node;\n}\nexport { \n    makeAST,\n}\n\n","import JFlowEvent from '../events'; \nimport { DIRECTION } from '../utils/constance';\nimport { makeAST } from './low-code-types/baseNode';\n\nfunction sqr(x) {\n    return x * x;\n}\nfunction dist2(v, w) {\n    return sqr(v[0] - w[0]) + sqr(v[1] - w[1]);\n}\n\n/**\n * @typedef {Object} LowcodeLayout~Configs\n * @property {number} linkLength - \n * @property {number} gap       - \n * @property {boolean} treeItemDraggable - \n * @property {Object} ast       - \n */\n\n/**\n    lowcode layout\n\n    type: \n        + IfStatement,\n        + SwitchStatement,\n        + SwitchCase,\n        + ForEachStatement,\n        + WhileStatement,\n        + Root,\n        + other,\n    \n    * @implements {Layout}\n    * @param {LowcodeLayout~Configs} - \n    \n */\nclass LowcodeLayout {\n    constructor(configs) {\n        /** @member {number}      -  */\n        this.linkLength = configs.linkLength || 18;\n        /** @member {number}      -  */\n        this.gap = configs.gap || 30;\n        /** @member {boolean}      -  */\n        this.treeItemDraggable = configs.treeItemDraggable ?? true;\n        this.reOrder(configs.ast);\n        /** @member {boolean}      - true  */\n        this.static = true;\n    }\n    /**\n     *  ast \n     * @param {AstNode} ast - ASL \n     */\n    reOrder(ast) {\n        this.ast = ast;\n        this.flowStack = [];\n        this.flowLinkStack = [];\n\n        this.root = makeAST(this.ast)// new AstNode(this.ast, this.flowStack, true);\n        this.root.traverse((node) => {\n            if(node.parentIterateType !== 'playground') {\n                node.isDraggable = this.treeItemDraggable\n            }\n            this.flowStack.push({\n                type: node.type,\n                source: node.source,\n                layoutNode: node,\n            });\n        });\n\n        const layoutMapping = {\n            vertical: {},\n            horizontal: {},\n        };\n        const playgroundLayoutMapping = {}\n        this.root.reflowBodyPreCalculate(0, 0, (level, sequence, node) => {\n            if(!node.isroot) {\n                if(!layoutMapping.vertical[level]){\n                    layoutMapping.vertical[level] = {};\n                }\n                layoutMapping.vertical[level][sequence] = node;\n                \n                if(!layoutMapping.horizontal[sequence]){\n                    layoutMapping.horizontal[sequence] = {};\n                }\n                layoutMapping.horizontal[sequence][level] = node;\n            }\n        });\n\n        let currentTopNodeId;\n        this.root.reflowPlaygroundPreCalculate(\n            (topNode) => {\n                currentTopNodeId = topNode.id;\n                playgroundLayoutMapping[topNode.id] = {\n                    vertical: {},\n                    horizontal: {},\n                    node: topNode,\n                }\n            },\n            (level, sequence, node) => {\n                const layoutMapping = playgroundLayoutMapping[currentTopNodeId];\n                if(!layoutMapping.vertical[level]){\n                    layoutMapping.vertical[level] = {};\n                }\n                layoutMapping.vertical[level][sequence] = node;\n                \n                if(!layoutMapping.horizontal[sequence]){\n                    layoutMapping.horizontal[sequence] = {};\n                }\n                layoutMapping.horizontal[sequence][level] = node;\n            })\n\n        this.layoutMapping = layoutMapping;\n        this.playgroundLayoutMapping = playgroundLayoutMapping;\n        this.root.makeLink((configs) => {\n            this.flowLinkStack.push(configs)\n        })\n    }\n\n    staticCheck(instance, jflow) {\n\n        if(instance._layoutNode && instance._layoutNode.isFree) {\n            return false;\n        }\n        const finded = jflow._linkStack.find(l => l.from === instance || l.to === instance);\n        if(!finded) {\n            return false;\n        }\n        const nowAnchor = instance.anchor.slice();\n        jflow.reflow();\n        if(jflow._linkStack.length < 2) return;\n        const currentAnchor = instance.anchor;\n        const d = dist2(nowAnchor, currentAnchor);\n        if(d > 1000) {\n            instance.dispatchEvent(new JFlowEvent('outOfFlow', {\n                anchor: nowAnchor,\n                instance,\n                jflow,\n                point: nowAnchor,\n            }))\n            return true;\n        }\n        return false;\n    }\n\n    reflowByMapping(jflow, layoutMapping, x = 0, y = 0) {\n        const linkLength = this.linkLength;\n        const gap = this.gap;\n        const {\n            vertical: verticalMapping,\n            horizontal: horizontalMapping,\n        } = layoutMapping;\n\n        let reduceWidth = x;\n        Object.keys(horizontalMapping).forEach((columnNumber, idx) => {\n            const column = horizontalMapping[columnNumber];\n            let rowWidth = 0;\n            const rows = Object.keys(column)\n            rows.forEach(rowNumber => {\n                const ast = column[rowNumber];\n                const instance = jflow.getRenderNodeBySource(ast.source) // ast.getJflowInstance();\n                const { width } = instance.getBoundingDimension();\n                rowWidth = Math.max(width, rowWidth);\n            });\n            reduceWidth += idx === 0 ? 0: rowWidth/2\n            rows.forEach(rowNumber => {\n                const ast = column[rowNumber];\n                const instance = jflow.getRenderNodeBySource(ast.source);\n                instance.anchor[0] = reduceWidth;\n            });\n            reduceWidth += (rowWidth/2 + gap) ;\n        });\n\n        let reduceHeight = y;\n        // console.log(verticalMapping)\n        Object.keys(verticalMapping).forEach((rowNumber, idx) => {\n            const row = verticalMapping[rowNumber];\n            let rowHeight = 0;\n            const columns = Object.keys(row)\n            columns.forEach(columnNumber => {\n                const ast = row[columnNumber];\n                const instance = jflow.getRenderNodeBySource(ast.source);\n                const { height, width } = instance.getBoundingDimension();\n                rowHeight = Math.max(height, rowHeight);\n            });\n            reduceHeight += idx === 0 ? 0 : rowHeight/2;\n            columns.forEach(columnNumber => {\n                const ast = row[columnNumber];\n                const instance = jflow.getRenderNodeBySource(ast.source);\n                instance.anchor[1] = reduceHeight;\n            });\n            reduceHeight += (rowHeight/2 + linkLength) ;\n        });\n        \n    }\n\n    findLayoutNode(configs) {\n        const finded = this.flowStack.find(node => node.configs === configs);\n        if(finded) {\n            return finded.layoutMeta;\n        }\n        return null;\n    }\n\n    reflow(jflow){\n        this.reflowByMapping(jflow, this.layoutMapping);\n        Object.values(this.playgroundLayoutMapping).forEach(mapping => {\n            // const node = mapping.node.getJflowInstance();\n            const node = jflow.getRenderNodeBySource(mapping.node.source)\n            this.reflowByMapping(jflow, mapping, node.anchor[0], node.anchor[1]);\n        })\n    }\n}\n\nexport default LowcodeLayout;","import { DIRECTION } from '../../utils/constance';\nfunction getRelationShip(p1, p2) {\n    if(p1.type === 'Array' && p2.type !== 'Array') {\n        return ''\n    }\n    if(p2.type === 'Array' && p1.type !== 'Array') {\n        return ''\n    }\n    if(p1.type === 'Array' && p2.type === 'Array') {\n        return ''\n    }\n    if(p1.type !== 'Array' && p2.type !== 'Array') {\n        return ''\n    }\n}\n/**\n    ER property Node\n    * @implements {LayoutNode}\n */\nclass ERProperty {\n    constructor(source, node, isNavigation) {\n        /** @member {String}      -  */\n        this.type = 'ERProperty';\n        /** @member {Object}      -  */\n        this.source = source;\n        this.node = node;\n        this.ref = source.ref;\n        this.type = source.type;\n        this.association = source.association;\n        /** @member {String}      -  */\n        this.id = isNavigation ? `${node.id}-${source.name}-navigation` : `${node.id}-${source.name}`\n        this._selfLink = false;\n        this.parentPropertyRef = undefined;\n        /** @member {LayoutNode~getJflowInstance}      - jflow */\n        this.getJflowInstance = undefined;\n        this.doubleRef = undefined;\n    }\n}\n/**\n ER Node\n * @implements {LayoutNode}\n * @param {Object} source\n */\nclass ERNode { \n    constructor(source) {\n        /** @member {String}      -  */\n        this.type = 'ERNode';\n        /** @member {Object}      -  */\n        this.source = source;\n        /** @member {String}      -  */\n        this.id = source.name;\n        /** @member {Boolean}      - true,  */\n        this.isDraggable = true;\n        /** @member {LayoutNode~getJflowInstance}      - jflow */\n        this.getJflowInstance = undefined;\n        // this.adjacencyList = []\n        this.propertyList = source.propertyList.map(p => new ERProperty(p, this));\n        this.navigationPropertyList = source.navigationPropertyList.map(p => new ERProperty(p, this, true))\n        this.idProperty = this.propertyList.find(p => p.source.name === 'id');\n        // this.VertexNameProperty = this.propertyList.find(p => p.source.type === 'VertexName');\n    }\n\n    _traverseProperty(nodeMap) {\n        this.propertyList.forEach(property => {\n            const idRef = property.source.idRef; // \n            const isParentRef = property.source.isParentRef; // \n            if(idRef && property.source.type !== 'Array' && nodeMap[idRef]) {\n                const parentRef = nodeMap[idRef];\n                if (property.source.isParentRef) {\n                    this.parentRef = parentRef;\n                }\n                if (parentRef === this) {\n                    property._selfLink = true;\n                }\n                property.parentPropertyRef = parentRef.idProperty;\n            }\n        });\n        this.navigationPropertyList.forEach(property => {\n            const objectRef = property.source.objectRef;\n            if(objectRef && nodeMap[objectRef]) {\n                const node = nodeMap[objectRef];\n                const targetProperty = node.navigationPropertyList.find(n => n.source.objectRef === this.id)\n                if (node === this) {\n                    property._selfLink = true;\n                }\n                property.doubleRef = targetProperty;\n            }\n        })\n        \n    }\n\n    traverse(callback) {\n        callback(this);\n        this.propertyList.forEach(property => {\n            if(property.ref instanceof ERNode) {\n                callback(property);\n            }\n        })\n    }\n\n    makeLink(callback) {\n        this.propertyList.forEach(property => {\n            if(property.parentPropertyRef instanceof ERProperty) {\n                const toProperty = property.parentPropertyRef;\n                if(property._selfLink) {\n                    callback({\n                        from: property.id,\n                        to: toProperty.id,\n                        part: 'property',\n                        fromDir: DIRECTION.LEFT,\n                        toDir: DIRECTION.LEFT,\n                        content: property.association,\n                        minSpanX: 80,\n                        meta: {\n                            from: property,\n                            to: toProperty,\n                        }\n                    });\n                } else {\n                    callback({\n                        from: property.id,\n                        to: toProperty.id,\n                        part: 'property',\n                        content: property.association,\n                        meta: {\n                            from: property,\n                            to: toProperty,\n                        }\n                    });\n                }\n            }\n        });\n\n        \n        this.navigationPropertyList.forEach(property => {\n            if(property.doubleRef instanceof ERProperty) {\n                const toProperty = property.doubleRef;\n                if(property._selfLink) {\n                    callback({\n                        from: property.id,\n                        to: toProperty.id,\n                        part: 'property',\n                        fromDir: DIRECTION.LEFT,\n                        toDir: DIRECTION.TOP,\n                        lineDash: [10, 5],\n                        doubleLink: true,\n                        content: property.association,\n                        minSpanX: 80,\n                        minSpanY: 80,\n                        meta: {\n                            from: property,\n                            to: toProperty,\n                        }\n                    });\n                } else {\n                    callback({\n                        from: property.id,\n                        to: toProperty.id,\n                        part: 'property',\n                        lineDash: [10, 5],\n                        doubleLink: true,\n                        content: property.association,\n                        meta: {\n                            from: property,\n                            to: toProperty,\n                            isObjectRef: true,\n                        }\n                    });\n                }\n            }\n        })\n    }\n}\n\nfunction makeER(source) {\n    const nodeMap = {};\n    const nodes = source.map(s => {\n        const node = new ERNode(s);\n        nodeMap[s.name] = node\n        return node;\n    });\n    nodes.forEach(node => {\n        node._traverseProperty(nodeMap);\n    });\n    return nodes;\n}\nexport { \n    makeER,\n}","\nimport { makeER } from './er-node';\n/**\n * ER source\n * @typedef {Object} ERLayout~sourceConfigs\n * @property {string} type - node\n * @property {string} id - \n * @property {Object[]} properties - \n */\n/**\n * ER\n * @typedef {Object} ERLayout~Configs\n * @property {ERLayout~sourceConfigs[]} entityRelationship - \n */\n/**\n    ER layout\n\n    Entity Relationship Structure\n    tree = [\n        {\n            type: 'node',\n            id: 'uniqueID',\n            properties: [\n                {\n                    name: 'xxxx',\n                    ref: someUniqueId,\n                    description: 'xxxxxx',\n                },\n                ...\n            ]\n        },\n        ...\n    ]\n    \n    * @implements {Layout}\n */\n\nclass ERLayout {\n    constructor(configs) {\n        /** @member {boolean}      - false  */\n        this.static = false;\n        /** @member {Layout~NodeMeta[]}      -  */\n        this.flowStack = [];\n        /** @member {Layout~LinkMeta[]}      -  */\n        this.flowLinkStack = [];\n        /** @member {LayoutNode[]}      -  */\n        this.erNodes = [];\n        this.reOrder(configs.entityRelationship);\n    }\n    /**\n     *  tree \n     * @param {AstNode} tree - ER \n     */\n    reOrder(er) {\n        this.er = er;\n        this.flowStack = [];\n        this.flowLinkStack = [];\n        const nodes = makeER(this.er);\n        const idMap = [];\n        nodes.forEach(node => {\n            node.traverse((n) => {\n                this.flowStack.push({\n                    type: n.type,\n                    configs: n.source,\n                    layoutMeta: n,\n                })\n            });\n            node.makeLink(configs => {\n                const {\n                    from: property,\n                    to: toProperty,\n                    meta,\n                } = configs;\n                if(meta.isObjectRef) {\n                    const id1 = `${property}-${toProperty}`;\n                    const id2 = `${toProperty}-${property}`;\n                    \n                    const fromMeta = meta.from;\n                    if(idMap.includes(id1) || idMap.includes(id2)) {\n                        return;\n                    }\n                    if(!fromMeta.source.isParentRef) {  \n                        idMap.push(id1);\n                        idMap.push(id2);\n                        this.flowLinkStack.push(configs)\n                    }\n                } else {\n                    this.flowLinkStack.push(configs)\n                }\n               \n            })\n        });\n        this.erNodes = nodes;\n    }\n\n    staticCheck(instance, jflow) {\n        return false;\n    }\n\n    reflow(jflow){\n        const links = this.flowLinkStack;\n        const nodes = this.erNodes;\n        let x = 0;\n        const lineMapping = {};\n        const size = 1000;\n        function computeNodeAnchor(node, recorded = []) {\n            let relativeAnchor = [0, 0];\n            \n            \n            if (node.parentRef) {\n                if(recorded.includes(node.parentRef)) {\n                    // debugger;\n                    return [\n                        relativeAnchor[0] - (size/2) + node.source.diagramWeight * size,\n                        relativeAnchor[1]\n                    ];\n                }\n                recorded.push(node.parentRef);\n                \n                relativeAnchor = computeNodeAnchor(node.parentRef, recorded);\n                return [\n                    relativeAnchor[0] - (size/2) + node.source.diagramWeight * size,\n                    relativeAnchor[1] + 600,\n                ];\n            } else {\n                return relativeAnchor;\n            }\n        }\n        this.erNodes.forEach(node => {\n            const instance = node.getJflowInstance();\n            const [nx, ny] = computeNodeAnchor(node);\n            if(!lineMapping[ny]) {\n                lineMapping[ny] = [];\n            }\n            lineMapping[ny].push(node);\n            instance.anchor = [nx + lineMapping[ny].length * 500, ny];\n            x+=300\n        });\n        // debugger\n        // // Kahns Algorithm\n        // // Calcuate the incoming degree of each vertex\n        // const vertices = nodes.slice();\n        // debugger\n        // const inDegree = {};\n        // vertices.forEach(v => {\n        //     v.adjacencyList.forEach(p => {\n        //         const name = p.name;\n        //         inDegree[name] = inDegree[name] + 1 || 1;\n        //     })\n            \n        // })\n        // console.log(inDegree)\n        // debugger\n\n        // // Create a queue which stores the vertex without dependencies\n        // const queue = vertices.filter((v) => !inDegree[v.name]);\n        // console.log(queue)\n        // debugger\n        // const topNums = {};\n        // let index = 0;\n        // while (queue.length) {\n        //     const v = queue.shift();\n        //     topNums[v.name] = index++;\n        //     v.adjacencyList.forEach(neighbor => {\n        //         const name = neighbor.name;\n        //         inDegree[name]--;\n        //         if (inDegree[name] === 0) {\n        //             queue.push(neighbor);\n        //         }\n        //     });\n        // }\n        // if (index !== vertices.length) {\n        //     console.log(\"Detect a cycle\");\n        // }\n        // console.log(topNums);\n    }\n}\n\nexport default ERLayout;","import { createCanvas, resizeCanvas } from '../utils/canvas';\nimport { bounding_box, doOverlap } from '../utils/functions';\nimport { JFLOW_MODE } from '../utils/constance';\nimport GhostNode from '../instance/ghostNode';\nimport { NodeWeakMapMixin } from '../instance/nodeWeakMap';\nimport StackMixin from '../instance/stackMixin';\nimport InstanceStack from '../instance/stack';\nimport LayoutMixin from '../instance/layoutMixin';\nimport MessageMixin from '../instance/messageMixin';\nimport { setUniqueId, getUniqueId } from '../utils/functions';\nimport JFlowEvent from '../events';\n\nimport EventAdapter from '../events/adapter';\n\nimport GroupFactory from '../instance/groupFactory';\nimport Point from '../instance/shapes/point';\nimport Rectangle from '../instance/shapes/rectangle';\nimport Capsule from '../instance/shapes/capsule';\nimport CapsuleVertical from '../instance/shapes/capsule-vertical';\nimport Rhombus from '../instance/shapes/rhombus';\nimport Diamond from '../instance/shapes/diamond';\nimport DiamondVertical from '../instance/shapes/diamond-vertical';\n/**\n * @funtion setInitialPosition\n * @param {Number} RealboxX - canvas X\n * @param {Number} RealboxY - canvas Y \n * @param {Number} RealboxW - canvas\n * @param {Number} RealboxH - canvas \n * @param {Number} CanvasWidth  - \n * @param {Number} CanvasHeight  - \n * @return {Object} -  { x, y }\n */\n\n/** \n * @class Group\n * @classdesc   {@link GroupFactory}  {@link Rectangle} \n * @groupfrom Rectangle\n * @augments GroupTemplate\n * @augments Rectangle\n * @param {(Rectangle~RectangleConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const Group = GroupFactory(Rectangle);\n/** \n * @class CapsuleGroup\n * @classdesc   {@link GroupFactory}  {@link Capsule} \n * @groupfrom Capsule\n * @augments GroupTemplate\n * @augments Capsule\n * @param {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const CapsuleGroup = GroupFactory(Capsule);\n/** \n * @class RhombusGroup\n * @classdesc   {@link GroupFactory}  {@link Rhombus} \n * @augments GroupTemplate\n * @augments Rhombus\n * @groupfrom Rhombus\n * @param {(Rhombus~RhombusConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const RhombusGroup = GroupFactory(Rhombus);\n/** \n * @class DiamondGroup\n * @classdesc   {@link GroupFactory}  {@link Diamond} \n * @groupfrom Diamond\n * @augments GroupTemplate\n * @augments Diamond\n * @param {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const DiamondGroup = GroupFactory(Diamond, {\n    shapeShift(width, height) {\n        return [width + height * 0.28865, height]\n    }\n});\n/** \n * @class DiamondVerticalGroup\n * @classdesc   {@link GroupFactory}  {@link DiamondVertical} \n * @groupfrom DiamondVertical\n * @augments GroupTemplate\n * @augments DiamondVertical\n * @param {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const DiamondVerticalGroup = GroupFactory(DiamondVertical, {\n    shapeShift(width, height) {\n        return [width, height + width * 0.5773]\n    }\n});\n/** \n * @class CapsuleVerticalGroup\n * @classdesc   {@link GroupFactory}  {@link CapsuleVertical} \n * @groupfrom CapsuleVertical\n * @augments GroupTemplate\n * @augments CapsuleVertical\n * @param {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs - \n */\nexport const CapsuleVerticalGroup = GroupFactory(CapsuleVertical);\n\nexport const PointGroup = GroupFactory(Point, {\n    shapeShift(width, height, p) {\n        const r = Math.ceil(Math.sqrt(width * width + height * height) / 2);\n        p.radius = r;\n        const w = r * 2;\n        return [w, w];\n    }\n});\n/**\n * @typedef JFlow~JFlowConfigs\n * @type {object}\n * @property {Boolean} allowDrop      -  dragdrop\n * @property {Number} maxZoom         - \n * @property {Number} minZoom         - \n * @property {number} initialZoom     - \n * @property {EventAdapter~pluginDef} eventAdapter\n */\n\n/**\n * @typedef {JFlow~JFlowConfigs | LayoutMixin~LayoutConfigs} JFlow~JFlowLayoutConfigs\n */\n/** \n * JFlow \n * JFlow  canvas \n * @constructor JFlow\n * @param {JFlow~JFlowLayoutConfigs} configs - \n * @mixes LayoutMixin\n * @mixes StackMixin\n * @mixes MessageMixin\n */\nclass JFlow extends EventTarget{\n    constructor(configs) {\n        super();\n        this.uniqueName = 'jflow';\n        /**\n         * @member {EventAdapter} eventAdapter    - eventAdapter \n         **/\n        this.eventAdapter = new EventAdapter(configs.eventAdapter);\n        this.initNodeWeakMap();\n        this.initStack(configs);\n        this.initLayout(configs);\n        /** @member {Context2d}     - Context2d  */\n        this.ctx = null;\n        /** @member {Element}       - canvas  */\n        this.canvas = null;\n        /** @member {number}       - DPR */\n        this.dpr = 1;\n        /** @member {number}       -  */\n        this.padding = 20;\n        this.position = null;\n        /** @member {number}     -  */\n\t\tthis.scale = null;\n        /** @member {number}     -  */\n        this.initialZoom = configs.initialZoom;\n        /** @member {setInitialPosition} -  */\n        this.initialPosition = configs.setInitialPosition;\n        /** @member {number}     -  */\n        this.maxZoom = configs.maxZoom || 3;\n        /** @member {number}     -  */\n        this.minZoom = configs.minZoom || .5;\n        \n        this.NodeRenderTop = !!configs.NodeRenderTop\n\t\t// this.initScale = 1;\n\t\t// this.initPosition = null\n\t\tthis.offeset = null;\n        this._lastState = {\n            x: null,\n            y: null,\n            dragging: false,\n            processing: false\n        };\n        this._lastDragState = {\n            target: null,\n            targetLink: null,\n            processing: false,\n        }\n\n        this._target = {\n            instance: null,\n            link: null,\n            moving: null,\n            isInstanceDirty: false, \n            isLinkDirty: false, \n            // isMovingDirty: false, \n            cache: {\n                stack: null,\n                belongs: null,\n                point: null,\n            },\n            meta: {\n                x: undefined,\n                y: undefined,\n                initialX: undefined,\n                initialY: undefined, \n            },\n            status: {\n                dragovering: false,\n                dragging: false,\n                processing: false,\n            }\n        }\n\n        this._focus = {\n            instance: null,\n        }\n\n        this._dragOverTarget = null;\n        // this.lock = configs.lock;\n\n        this.allowDrop = configs.allowDrop;\n        // \n        this._tempNode = null;\n        this._tempLink = null;\n\n        this.mode = JFLOW_MODE.DEFAULT;\n    }\n\n    setMovingTargets(targets) {\n        Object.assign(this._target, {\n            moving: targets,       \n        })\n    }\n\n    /**\n     *  JFlow \n     * @param {Instance} instance - JFlow \n     */\n    setTempDraggingInstance(instance) {\n        instance._belongs = this;\n        this._tempNode = instance;\n        Object.assign(this._target, {\n            moving: [this._tempNode],\n            dragging: true,\n        })\n    }\n\n    /**\n     *  JFlow \n     * @return {number[]} point - JFlow \n     */\n    removeTempDraggingInstance() {\n        if(this._tempNode) {\n            // this.removeFromStack(this._tempNode);\n            const anchor = this._tempNode.anchor;\n            this._tempNode = null;\n            return anchor;\n        }\n    }\n    /**\n     *  Document \n     * @param {Element} dom \n     */\n    $mount(dom) {\n        const { \n            canvas, \n            ctx, \n            scale: dpr, \n            width: c_width, \n            height: c_height, \n            raw_width,\n            raw_height,\n            left, top \n        } = createCanvas(dom);\n        this.reflow();\n        this.ctx = ctx;\n        this.DOMwrapper = dom;\n        this.canvas = canvas;\n        this.canvasMeta = {\n            width: raw_width,\n            height: raw_height,\n            actual_width: c_width,\n            actual_height: c_height\n        }\n        this.dpr = dpr;\n        this._createEventHandler();\n        this._getBoundingGroupRect();\n\n        const padding = this.padding;\n        const { width: p_width, height: p_height, x, y } = this.bounding_box;\n        const contentBox = {\n            x: padding,\n            y: padding,\n            width: c_width - padding * 2,\n            height: c_height - padding * 2,\n        }\n        const position = { x: 0, y: 0, offsetX: 0, offsetY: 0 };\n        const w_ratio = contentBox.width / p_width;\n        const h_ratio = contentBox.height / p_height;\n        const align = w_ratio <= h_ratio ? 'x' : 'y';\n        let scaleRatio;\n        if(this.initialZoom) {\n            scaleRatio = this.initialZoom;\n        } else {\n            scaleRatio = Math.min(w_ratio, h_ratio);\n        }\n       \n        this.scale = scaleRatio;\n        if(scaleRatio > this.maxZoom) {\n            this.maxZoom = scaleRatio;\n        }\n        if(scaleRatio < this.minZoom) {\n            this.minZoom = scaleRatio;\n        }\n        const realboxX = x * scaleRatio;\n        const realboxY = y * scaleRatio;\n        const realboxW = contentBox.width;\n        const realboxH = contentBox.height;\n        if(this.initialPosition) {\n            const { x, y } = this.initialPosition(realboxX, realboxY, realboxW, realboxH, contentBox.x, contentBox.y, c_width, c_height);\n            position.x = x;\n            position.y = y;\n        } else {\n            position.x = align === 'x' ? contentBox.x : (realboxW - p_width * scaleRatio) / 2 + padding\n            position.y = align === 'y' ? contentBox.y : (realboxH - p_height * scaleRatio) / 2 + padding\n        }\n        \n        position.offsetX = position.x - realboxX;\n        position.offsetY = position.y - realboxY;\n        this.position = position;\n        this._readyToRender = true;\n        this._render();\n    }\n\n    setLinkingMode(source, linkGen) {\n        const renderNode = this.getRenderNodeBySource(source)\n        this._tempNode = new GhostNode();\n        this._tempLink = linkGen({\n            from: renderNode,\n            to: this._tempNode,\n        })\n        this.sendMessage({\n            instance: source\n        });\n        this.mode = JFLOW_MODE.LINKING;\n    }\n\n    resizeCanvas() {\n        const {\n            width: c_width, \n            height: c_height, \n            raw_width,\n            raw_height,\n        } = resizeCanvas(this.canvas, this.DOMwrapper);\n        this.canvasMeta = {\n            width: raw_width,\n            height: raw_height,\n            actual_width: c_width,\n            actual_height: c_height\n        }\n    }\n\n    focusOn(node) {\n        const center = this._calculatePointBack([\n            this.canvasMeta.actual_width/2,\n            this.canvasMeta.actual_height/2\n        ]);\n        let offset = node.anchor;\n        if(node._belongs.calculateToCoordination) {\n            offset = node._belongs.calculateToCoordination(offeset);\n        }\n\n        const deltaX = (center[0] - offset[0]) * this.scale;\n        const deltaY = (center[1] - offset[1]) * this.scale;\n        \n\n        this._recalculatePosition(deltaX, deltaY)\n        this._render();\n    }\n    \n    _getBoundingGroupRect() {\n        const points = this._stack.getBoundingRectPoints();\n        if(this.bounding_box) {\n            this.bounding_box = bounding_box(points);\n            const {\n                x: nowx,\n                y: nowy,\n            } = this.bounding_box;\n            const scale = this.scale;\n            this.position.x = this.position.offsetX + nowx * scale;\n            this.position.y = this.position.offsetY + nowy * scale;\n        } else {\n            this.bounding_box = bounding_box(points);\n        }\n    }\n\n    _createEventHandler() { \n        const canvas = this.canvas;\n        let destroyListener;\n        this.eventAdapter.apply(this);\n        const destroyPlainEventListener = () => {\n            this.eventAdapter.unload(this);\n        }\n        destroyListener = destroyPlainEventListener;\n\n        if(this.allowDrop) {\n            const dragoverHandler = this._onDragover.bind(this);\n            const dropHandler = this._onDrop.bind(this);\n            canvas.addEventListener('dragover', dragoverHandler);\n            canvas.addEventListener('drop', dropHandler);\n            destroyListener = () => {\n                destroyPlainEventListener();\n                canvas.removeEventListener('dragover', dragoverHandler);\n                canvas.removeEventListener('drop', dropHandler);\n            }\n        } \n        this.destroy = destroyListener;\n    }\n\n    _targetLockOn(offsetPoint, event) {\n        let point = this._calculatePointBack(offsetPoint);\n        const topLayerPoint = point;\n        this._currentp = point;\n        let stack = this._stack;\n        const br = this._getViewBox();\n        const target = stack.checkHit(\n            point, \n            // \n            (instance) => {\n                return (this._target.status.dragging \n                    && (instance === this._getMovingTarget()))\n            },\n            // \n            (instance) => {\n                return doOverlap(br, instance.getBoundingRect())\n            });\n        let linkStack = this._linkStack;\n        let belongs = this;\n        /*\n        if(target) {\n            linkStack = target._belongs._linkStack;\n            point = target._belongs._currentp;\n            stack = target._belongs._stack;\n            belongs = target._belongs\n        }*/\n        // \n        let targetLink;\n        if(!target || target._belongs === this) {\n            targetLink = linkStack.checkHit(point, (link) => {\n                if(!this._target.status.dragging) {\n                    return false;\n                }\n                const movingtarget = this._getMovingTarget();\n                return link.from === movingtarget || link.to === movingtarget;\n            });\n        }\n\n        Object.assign(this._target, {\n            instance: target,\n            link: targetLink, \n            isInstanceDirty: target === this._target.instance,\n            isLinkDirty: targetLink === this._target.link,\n        });\n        Object.assign(this._target.cache, {\n            stack,\n            belongs,\n            point,\n            topLayerPoint,\n        })\n        Object.assign(this._target.meta, {\n            x: offsetPoint[0],\n            y: offsetPoint[1],\n        });\n\n        if(event === 'pressStart' && !this._target.status.dragging && !this._target.status.dragovering) {\n            let movingtarget = target;\n            while (movingtarget && movingtarget._belongs.lock && movingtarget !== this) {\n                movingtarget = movingtarget._belongs;\n            }\n            /* \n            if(movingtarget) {\n                \n                if(movingtarget._layoutNode) {\n                    if(movingtarget._layoutNode.isLocked ) {\n                        movingtarget = movingtarget._layoutNode.getNodes(this)\n                    } else if(!movingtarget._layoutNode.isDraggable) {\n                        movingtarget = undefined;\n                    } else {\n                        movingtarget = [movingtarget];\n                    }\n                } else {\n                    movingtarget = [movingtarget];\n                }\n            } */ \n            this.setMovingTargets(movingtarget && [ movingtarget ])\n            if(movingtarget) {\n                movingtarget.dispatchEvent(new JFlowEvent('afterResolveMovingTarget', {\n                    event,\n                    target: movingtarget,\n                    jflow: this,\n                }))\n            }\n        }\n        return this._target;\n    }\n\n    _getMovingTarget() {\n        return this._target.moving && this._target.moving[0];\n    }\n\n    _processDragOver(instance, event) {\n        if(this._dragOverTarget !== instance) {\n            const target = this.readMessage()?.instance;\n            this._dragCurrentData = target;\n            if(this._dragOverTarget) {\n                const oldIns = this._dragOverTarget;\n                /**\n                * dragleave \n                * @event Instance#dragleave\n                * @type {object}\n                * @property {Event} event           -  \n                * @property {Object} instance       - dragleave \n                * @property {target} target         - drag canvas \n                */\n                oldIns.dispatchEvent(new JFlowEvent('dragleave', {\n                    event,\n                    instance: oldIns,\n                    target\n                }));\n            }\n            if(instance) {\n                /**\n                * dragenter \n                * @event Instance#dragenter\n                * @type {object}\n                * @property {Event} event           -  \n                * @property {Object} instance       - dragenter \n                * @property {target} target         - drag canvas \n                */\n                instance.dispatchEvent(new JFlowEvent('dragenter', {\n                    event,\n                    instance,\n                    target,\n                }));\n            }\n            this._dragOverTarget = instance;\n        } else if(this._dragOverTarget){\n            /**\n            * dragover \n            * @event Instance#dragover\n            * @type {object}\n            * @property {Event} event           -  \n            * @property {Object} instance       - dragover \n            * @property {target} target         - drag canvas \n            */\n            this._dragOverTarget.dispatchEvent(new JFlowEvent('dragover', {\n                event,\n                instance,\n                target: this._dragCurrentData,\n            }));\n        }\n    }\n\n    _onDragover(event) {\n        // console.log(event);\n        event.preventDefault();\n        event.stopPropagation();\n        if(this._lastDragState.processing) return;\n        this._lastDragState.processing = true;\n        const { offsetX, offsetY } = event\n        Object.assign(this._target.status, {\n            dragovering: true,\n        })\n        this._targetLockOn([offsetX, offsetY])\n        const instance = this._target.instance || this._target.link;\n        this._processDragOver(instance, event);\n        if(this._target.isLinkDirty || this._target.isInstanceDirty) {\n            Promise.resolve().then(() => {\n                this._render();    \n                this._target.isLinkDirty = false; \n                this._target.isInstanceDirty = false;\n                this._lastDragState.processing = false;\n            })\n        } else {\n            this._lastDragState.processing = false;\n        } \n    }\n\n    _onDrop(event) {\n        const { offsetX, offsetY, clientX, clientY } = event\n        const payload = this.consumeMessage();\n        const instance = payload.instance;\n        if(this._dragOverTarget) {\n            const oldIns = this._dragOverTarget;\n            oldIns.dispatchEvent(new JFlowEvent('dragoverend', {\n                event,\n                instance: oldIns,\n            }));\n            this._dragOverTarget = null;\n        }\n        const {\n            link,\n            instance: target,\n        } = this._target;\n        const {\n            point, belongs\n        } = this._target.cache;\n        if(link) {   \n            /**\n             * \n             *\n             * @event BaseLink#drop\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {Object} instance       -  \n             * @property {BaseLink} link         -  \n             * @property {JFlow} jflow           - JFlow \n             * @property {Group|JFlow} belongs   - \n             * @property {number[]} point        - \n             */\n            instance.anchor = point;\n            link.dispatchEvent(new JFlowEvent('drop', {\n                event,\n                instance,\n                link,\n                jflow: this,\n                belongs,\n                point\n            }))\n        } else if(target) {\n            /**\n             * \n             *\n             * @event Node#drop\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {Object} instance       -  \n             * @property {JFlow} jflow           - JFlow \n             * @property {Node} target           - \n             * @property {number[]} point        - \n             */\n            target.dispatchEvent(new JFlowEvent('drop', {\n                event,\n                instance,\n                jflow: this,\n                target,\n                point\n            }));\n        } else {\n            /**\n            * \n            *\n            * @event JFlow#drop\n            * @type {object}\n            * @property {Event} event           -  \n            * @property {Object} instance       -  \n            * @property {JFlow} jflow           - JFlow \n            * @property {number[]} point        - \n            */\n            this.dispatchEvent(new JFlowEvent('drop', {\n                event,\n                instance,\n                jflow: this,\n                target,\n                point,\n            }))\n        }\n        \n        requestAnimationFrame(() => {\n            this._target.instance = null;\n            this._target.link = null;\n            Object.assign(this._target.status, {\n               dragovering: false,\n            })\n        })\n    }\n    \n    /**\n     * \n     * @param {Number} offsetX - canvaspadding edge X \n     * @param {Number} offsetY - canvaspadding edge Y  \n     * @param {Number} deltaX  - \n     * @param {Number} deltaY  - \n     * @param {Number} event - \n     */\n    zoomHandler(offsetX, offsetY, deltaX, deltaY, event) {\n        if(this._zooming) return;\n        this._zooming = true;\n        const { width: p_width, height: p_height, x, y } = this.bounding_box;\n        let newScale = this.scale;\n        const amount = deltaY > 0 ? 1.1 : 1 / 1.1;\n        newScale *= amount;\n\n        if (this.maxZoom && newScale > this.maxZoom){\n            // could just return but then won't stop exactly at maxZoom\n            newScale = this.maxZoom;\n        }\n\n        if(this.minZoom && newScale < this.minZoom) {\n            newScale = this.minZoom;\n        }\n\n        var deltaScale    = newScale - this.scale;\n        var currentWidth  = p_width * this.scale;\n        var currentHeight = p_height * this.scale;\n        var deltaWidth    = p_width * deltaScale;\n        var deltaHeight   = p_height * deltaScale;\n\n        var tX = offsetX - this.position.x;\n        var tY = offsetY - this.position.y;\n        var pX = -tX / currentWidth;\n        var pY = -tY / currentHeight;\n\n        this.scale = newScale;\n        this.position.x += pX * deltaWidth;\n        this.position.y += pY * deltaHeight;\n        this.position.offsetX = this.position.x - x * newScale;\n        this.position.offsetY = this.position.y - y * newScale;\n        this.dispatchEvent(new JFlowEvent('zoompan'));\n        requestAnimationFrame(() => {\n            this._render();\n            this._zooming = false;\n        })\n    }\n    /**\n     * \n     * @param {Number} deltaX  - \n     * @param {Number} deltaY  - \n     * @param {Number} event - \n     */\n    panHandler(deltaX, deltaY, event) {\n        if(this._panning) return;\n        this._panning = true;\n        this._recalculatePosition(deltaX, deltaY);\n        /**\n         * \n         *\n         * @event JFlow#zoompan\n        */\n        this.dispatchEvent(new JFlowEvent('zoompan'));\n        requestAnimationFrame(() => {\n            this._render();\n            this._panning = false;\n        })\n    }\n    /**\n     * \n     * @param {Number} offsetX - canvaspadding edge X \n     * @param {Number} offsetY - canvaspadding edge Y  \n     * @param {Number} event - \n     */\n    pressStartHandler(offsetX, offsetY, event) {\n        Object.assign(this._target.meta, {\n            initialX: offsetX,\n            initialY: offsetY,\n        })\n        this._targetLockOn([offsetX, offsetY], 'pressStart');\n        //  click \n        if(this.mode === JFLOW_MODE.LINKING) return;\n        Object.assign(this._target.status, {\n            dragging: true,\n            processing: false,\n        });\n        if(this._target.moving) {\n            const moving = this._getMovingTarget();\n            /**\n             * lock\n             *\n             * @event Node#pressStart\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {Node} instance       -  \n             * @property {JFlow} jflow           - JFlow \n             */\n            moving.dispatchEvent(new JFlowEvent('pressStart', {\n                event,\n                instance: moving,\n                jflow: this,\n            }))\n        }\n\n        if(this._target.instance) {\n            /**\n             * \n             *\n             * @event Node#instancePressStart\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {Node} instance     -  \n             * @property {JFlow} jflow           - JFlow \n             * @property {Boolean} bubbles       - \n             */\n            const t = this._target.instance;\n            t.bubbleEvent(new JFlowEvent('instancePressStart', {\n                event,\n                target: t,\n                jflow: this,\n                bubbles: true,\n            }))\n        }\n    }\n    /**\n     * \n     * @param {Number} offsetX - canvaspadding edge X \n     * @param {Number} offsetY - canvaspadding edge Y  \n     * @param {Number} event - \n     */\n    pressMoveHandler(offsetX, offsetY, event) {\n        const {\n            dragging, processing\n        } = this._target.status;\n        const { x, y } = this._target.meta;\n        this.canvas.style.cursor = 'default';\n        if(!dragging && !processing) {\n            const {\n                link,\n                instance\n            } = this._targetLockOn([offsetX, offsetY]);\n            if(instance) {\n                /**\n                * instance mousemove \n                *\n                * @event Node#instancemousemove\n                * @type {object}\n                * @property {Event} event           - \n                * @property {Node} instance           - \n                * @property {JFlow} jflow           - JFlow \n                */\n                instance.dispatchEvent(new JFlowEvent('instancemousemove', {\n                    event,\n                    instance,\n                    jflow: this,\n                }))\n            }\n\n            if(this.mode === JFLOW_MODE.LINKING) {\n                this._tempNode.anchor = this._currentp;\n                requestAnimationFrame(() => {\n                    this._render();\n                    this._target.isLinkDirty = false; \n                    this._target.isInstanceDirty = false;\n                    this._target.status.processing = false;\n                })\n                return;\n            }\n        }\n        /**\n         * canvas mousemove \n         *\n         * @event JFlow#canvasmousemove\n         * @type {object}\n         * @property {Event} event           - \n         * @property {JFlow} jflow           - JFlow \n         */\n        this.dispatchEvent(new JFlowEvent('canvasmousemove', {\n            event,\n            jflow: this,\n        }))\n        \n        if(!dragging) return;\n        this.canvas.style.cursor = 'grabbing';\n        if(processing) return;\n        \n        const movingtarget = this._target.moving;// this._tempNode ? [this._tempNode] : this._target.moving;\n\n        this._target.status.processing = true;\n        const deltaX = offsetX - x;\n        const deltaY = offsetY - y;\n\n        if(movingtarget) {\n            movingtarget.forEach(t => {\n                t.anchor[0] += deltaX / this.scale;\n                t.anchor[1] += deltaY / this.scale;\n            })\n        } else {\n            this._recalculatePosition(deltaX, deltaY);    \n            this.dispatchEvent(new JFlowEvent('zoompan'));\n        }\n        const { instance, link } = this._targetLockOn([offsetX, offsetY]);\n        this._processDragOver(instance || link, event);\n            \n        requestAnimationFrame(() => {\n            this._render();\n            this._target.isLinkDirty = false; \n            this._target.isInstanceDirty = false;\n            this._target.status.processing = false;\n        })\n    }\n    /**\n     * \n     * @param {Boolean} isDocument -  document \n     * @param {Number} event - \n     */\n    pressUpHanlder(isDocument, event) {\n        const meta = this._target.meta;\n        if(meta.initialX === meta.x\n            && meta.initialY === meta.y) {\n                if(this.mode === JFLOW_MODE.LINKING) {\n                    const t = this._target.instance;\n                    const payload = this.consumeMessage();\n                    if(t) {\n                        t.bubbleEvent(new JFlowEvent('link', {\n                            event,\n                            target: t,\n                            jflow: this,\n                            payload,\n                            bubbles: true,\n                        }))        \n                    } else {\n                        const { offsetX, offsetY } = event\n                        this.dispatchEvent(new JFlowEvent('link', {\n                            event,\n                            jflow: this,\n                            payload,\n                            anchor: this._calculatePointBack([offsetX, offsetY]),\n                        }));\n                    }\n                    this._clearTarget();\n                    if(this._tempNode) {\n                        this._tempNode.destroy();\n                        this._tempNode = null;\n                    }\n                    if(this._tempLink) {\n                        this._tempLink.destroy();\n                        this._tempLink = null;\n                    }\n                    this.mode = JFLOW_MODE.DEFAULT;\n                    return;\n                } else {\n                    if(event.target !== this.canvas){\n                        this._clearTarget();\n                        return;\n                    }\n                    if(this._target.instance && !isDocument) {\n                        const t = this._target.instance;\n                        /**\n                        * \n                        *\n                        * @event Node#click\n                        * @type {object}\n                        * @property {Event} event          -  \n                        * @property {Instance} target      -  \n                        * @property {JFlow} jflow          - JFlow \n                        * @property {Boolean} bubbles      - \n                        */\n                        t.bubbleEvent(new JFlowEvent('click', {\n                            event,\n                            target: t,\n                            jflow: this,\n                            bubbles: true,\n                        }))\n                        this._clearTarget();\n                        this._render();\n                        return;\n                    } else {\n                        /**\n                        * \n                        *\n                        * @event JFlow#click\n                        * @type {object}\n                        * @property {Event} event          -  \n                        * @property {JFlow} jflow          - JFlow \n                        */\n                        this.dispatchEvent(new JFlowEvent('click', {\n                            event,\n                            jflow: this,\n                        }));\n                        this._clearTarget();\n                        this._render();\n                        return\n                    }\n                }\n                \n            \n        } else if(this._target.moving) {\n            let checkresult = false;\n            if(this._layout.static) {\n                checkresult = this.staticCheck(this._getMovingTarget());\n            }\n\n            if(!checkresult && this._target.link) {\n                const {\n                    point, belongs\n                } = this._target.cache;\n                const link = this._target.link;\n                const instance = this._getMovingTarget();\n                /**\n                 * \n                 *\n                 * @event BaseLink#drop\n                 * @type {object}\n                 * @property {Event} event           -  \n                 * @property {Object} instance     -  \n                 * @property {BaseLink} link         -  \n                 * @property {JFlow} jflow           - JFlow \n                 * @property {Group|JFlow} belongs   - \n                 */\n                link.dispatchEvent(new JFlowEvent('drop', {\n                    event,\n                    instance,\n                    link,\n                    jflow: this,\n                    belongs,\n                }));\n                this._target.link = null;\n                this._target.instance = null;\n            }\n            if(this._target.moving) {\n                if(this._target.instance) {\n                    /**\n                     *  Instance \n                     *\n                     * @event Node#pressEnd\n                     * @type {object}\n                     * @property {Event} event           -  \n                     * @property {Node} instance         -  \n                     * @property {JFlow} jflow           - JFlow \n                     * @property {Instance} target       - \n                     * @property {boolean} bubbles       - \n                     */\n                     console.log('pressEnd', this._target.instance)\n                    this._target.instance.bubbleEvent(new JFlowEvent('pressEnd', {\n                        event,\n                        instance: this._getMovingTarget(),\n                        jflow: this,\n                        target: this._target.instance,\n                        bubbles: true\n                    }));\n                } else {\n                    /**\n                     * \n                     *\n                     * @event JFlow#pressEnd\n                     * @type {object}\n                     * @property {Event} event           -  \n                     * @property {Instance} instance       -  \n                     * @property {JFlow} jflow           - JFlow \n                     */\n                    this.dispatchEvent(new JFlowEvent('pressEnd', {\n                        event,\n                        instance: this._getMovingTarget(),\n                        jflow: this,\n                    }))\n                }\n            }\n            this._target.moving = null;\n            this.removeTempDraggingInstance()\n            // this._target.isMovingDirty = false;\n            this._render();\n        }\n        this._clearTarget();\n    }\n    /**\n     * \n     * @param {Number} offsetX - canvaspadding edge X \n     * @param {Number} offsetY - canvaspadding edge Y  \n     * @param {Number} event - \n     */\n    contextMenuHanlder(offsetX, offsetY, event) {\n        const {\n            link,\n            instance\n        } = this._targetLockOn([offsetX, offsetY]);\n        const { topLayerPoint } = this._target.cache\n        if(instance || link) {\n            const target = (instance || link);\n            /**\n             * \n             *\n             * @event Instance#contextclick\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {Instance} target       -  \n             * @property {JFlow} jflow           - JFlow\n             * @property {number[]} topLayerPoint  - jflow\n             * @property {Boolean} bubbles       - \n             */\n            target.bubbleEvent(new JFlowEvent('contextclick', {\n                event,\n                jflow: this,\n                target,\n                topLayerPoint,\n                bubbles: true\n            }));\n        } else {\n            /**\n             * \n             *\n             * @event JFlow#contextclick\n             * @type {object}\n             * @property {Event} event           -  \n             * @property {JFlow} jflow           - JFlow\n             * @property {number[]} topLayerPoint  - jflow\n             */\n            this.dispatchEvent(new JFlowEvent('contextclick', {\n                event,\n                jflow: this,\n                topLayerPoint,\n            }));\n        }\n    }\n\n    /*_onZoom(event) {\n        event.preventDefault();\n        let { offsetX, offsetY, deltaX, deltaY } = event\n        if(event.ctrlKey) { \n            deltaY = -deltaY;\n            this.zoomHandler(offsetX, offsetY, deltaX, deltaY);\n        } else {\n            this.panHandler(-deltaX, -deltaY);\n        }\n    }\n\n    _onPressStart(event) { \n        const { offsetX, offsetY, deltaY, button } = event\n        if(button !== 0) return;\n        this.pressStartHandler(offsetX, offsetY);\n    }\n\n    _onPressMove(event) {\n        const { offsetX, offsetY } = event\n        this.pressMoveHandler(offsetX, offsetY);\n    }\n\n    _onPressUp(event, isDocument) {\n        event.preventDefault();\n        event.stopPropagation();\n        const { button } = event\n        if(button !== 0) return;\n        this.pressUpHanlder(isDocument)\n    }\n\n    _onPressUpDocument(event) {\n        this._onPressUp(event, true);\n    }\n\n    _onContextMenu(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        const { offsetX, offsetY } = event;\n        this.contextMenuHanlder(offsetX, offsetY);\n    }*/\n\n    _clearTarget(){\n        Object.assign(this._target.meta, {\n            x: undefined,\n            y: undefined,\n            initialX: undefined,\n            initialY: undefined, \n        })\n        Object.assign(this._target.status, {\n            dragging: false,\n            processing: false,\n        });\n        Object.assign(this._target, {\n            instance: null,\n            link: null,\n            moving: null,\n        });\n    }\n\n    _recalculatePosition(deltaX, deltaY, scale) {\n        const { x, y } = this.bounding_box;\n        if(scale === undefined) {\n            scale = this.scale;\n        }\n        this.position.x += deltaX;\n\t\tthis.position.y += deltaY;\n        this.position.offsetX = this.position.x - x * scale;\n        this.position.offsetY = this.position.y - y * scale;\n    }\n\n    calculateToRealWorld(p) {\n        const scale = this.scale;\n        const position = this.position;\n        return [p[0] * scale + position.offsetX, p[1] * scale + position.offsetY]\n    }\n\n    _calculatePointBack(p) {\n        const scale = this.scale;\n        const position = this.position;\n        return [(p[0] - position.offsetX)/scale, (p[1] - position.offsetY) / scale];\n    }\n\n    _calculateDistance(l) {\n        const scale = this.scale;\n        return scale * l;\n    }\n\n    _resetTransform() {\n        const { width: c_width, height: c_height } = this.canvasMeta;\n        const position = this.position;\n        const scale = this.scale;\n        const ctx = this.ctx;\n        ctx.setTransform();\n        ctx.clearRect(0, 0, c_width, c_height);\n        ctx.scale(this.dpr, this.dpr);\n        ctx.transform(scale, 0, 0, scale, position.offsetX, position.offsetY);\n    }\n\n    _getViewBox() {\n        return [\n            ...this._calculatePointBack([0,0]),\n            ...this._calculatePointBack([this.canvasMeta.actual_width,this.canvasMeta.actual_height]),\n        ];\n    }\n     /**\n     * \n     */\n    _render() {\n        if(!this._readyToRender) return;\n        this._resetTransform();\n        const ctx = this.ctx;\n        const br = this._getViewBox();\n        this._viewBox = br;\n        // console.log(this._viewBox)\n        if(this.NodeRenderTop) {\n            this._linkStack.render(ctx, (link) => link.isInViewBox(br));\n            this._stack.render(ctx, (instance) => {\n                const result = doOverlap(br, instance.getBoundingRect());\n                // console.log(instance._layoutNode.type, result)\n                instance._isInViewBox = result;\n                return result;\n            });\n        } else {\n            this._stack.render(ctx, (instance) => {\n                const result = doOverlap(br, instance.getBoundingRect());\n                // console.log(instance._layoutNode.type, result)\n                instance._isInViewBox = result;\n                return result;\n            });\n            this._linkStack.render(ctx, (link) => link.isInViewBox(br));\n        }\n        if(this._tempNode) {\n            ctx.save();\n            this._tempNode.render(ctx)\n            ctx.restore();\n        }\n        if(this._tempLink) {\n            ctx.save();\n            this._tempLink.render(ctx)\n            ctx.restore();\n        }\n        \n    }\n}\nObject.assign(JFlow.prototype, MessageMixin);\nObject.assign(JFlow.prototype, StackMixin);\nObject.assign(JFlow.prototype, LayoutMixin);\nObject.assign(JFlow.prototype, NodeWeakMapMixin);\n\nexport default JFlow;\nexport { default as JFlowEvent } from '../events';\nexport { default as commonEventAdapter } from '../events/commonAdapter';\nexport { default as Instance } from '../instance/instance';\nexport { default as Node } from '../instance/node';\nexport { default as BaseLink } from '../instance/base-link';\nexport { default as Point } from '../instance/shapes/point';\nexport { default as Rectangle } from '../instance/shapes/rectangle';\n// export { default as Group } from '../instance/shapes/rectangle-group';\nexport { default as Capsule } from '../instance/shapes/capsule';\nexport { default as CapsuleVertical } from '../instance/shapes/capsule-vertical';\n// export { default as CapsuleGroup } from '../instance/shapes/capsule-group';\n// export { default as CapsuleVerticalGroup } from '../instance/shapes/capsule-vertical-group';\nexport { default as Diamond } from '../instance/shapes/diamond';\n// export { default as DiamondGroup } from '../instance/shapes/diamond-group';\n// export { default as DiamondVerticalGroup } from '../instance/shapes/diamond-vertical-group';\nexport { default as Rhombus } from '../instance/shapes/rhombus';\n// export { default as RhombusGroup } from '../instance/shapes/rhombus-group';\nexport { default as Text } from '../instance/text';\nexport { default as Icon } from '../instance/image';\nexport { default as ShadowDom } from '../instance/shadowDom';\nexport { default as GroupFactory } from '../instance/groupFactory';\nexport { default as Link } from '../instance/link';\nexport { default as PolyLink } from '../instance/poly-link';\nexport { default as BezierLink } from '../instance/bezier-link';\nexport { default as LinearLayout} from '../layout/linear-layout';\n// export { default as TreeLayout } from '../ler-layouta;yout/tree-layout';\nexport { default as Lowcodelayout } from '../layout/low-code-layout';\nexport { default as ERLayout } from '../layout/er-layout/er-layout';\n// export { default as Orange } from '../instance/nodeWrapper/orange/orange'\n","export default {\n    provide(){\n        return {\n            addToStack: this.addToStack,\n            addToLinkStack: this.addToLinkStack,\n            removeFromStack: this.removeFromStack,\n            removeFromLinkStack: this.removeFromLinkStack,\n        }\n    },\n    data() {\n        return {\n            stack: [], // \n        }\n    },\n    methods: {\n        addToStack(instance, source) {\n            this._jflowInstance.addToStack(instance);\n            if(source) {\n                instance._jflow.setRenderNodeBySource(source, instance)\n            }\n        },\n        addToLinkStack(link) {\n            this._jflowInstance.addToLinkStack(link);\n        },\n        removeFromStack(instance) {\n            this._jflowInstance.removeFromStack(instance);\n        },\n        removeFromLinkStack(link) {\n            this._jflowInstance.removeFromLinkStack(link);\n        },\n        onStackChangeHandler() {\n            this._jflowInstance.recalculate();\n            this._jflowInstance.reflow();\n        }\n    }\n}","import JFlow from '../../core/flow';\nimport StackMixin from './StackMixin';\n/**\n * typs#slot  \n * @typedef {Object} j-jflow-Node\n * @property {string}       type   - \n * @property {Object}       configs  - \n * @property {LayoutNode}   meta   - \n */\n/**\n * JFlow {@link JFlow}  vue  \n * @module j-jflow\n * @property {JFlow~JFlowConfigs} configs -  JFlow \n * @property {Boolean} loading            -  sync\n */\nexport default {\n    mixins: [StackMixin],\n    provide(){\n        return {\n            renderJFlow: this.renderJFlow,\n            getJFlow: this.getInstance,\n        }\n    },\n    props: {\n        configs: {\n            type: Object,\n            default: function () {\n                return {};\n            },\n        },\n        loading: Boolean,\n        genVueComponentKey: {\n            type: Function,\n        }\n    },\n    data() {\n        return {\n            // nodes: [],\n            // links: [],\n            renderNodes: [],\n            renderLinks: [],\n        }\n    },\n    render: function (createElement) {\n        if(!this.renderNodes.length) {\n            return createElement('div', this.$slots.default);\n        } else {\n            const vnodes = this.renderNodes.map(({ type, source, layoutNode }) => {\n                if(!this.$scopedSlots[type]) {\n                    if(this.$scopedSlots['jflowcommon']){\n                        type = 'jflowcommon';\n                    } else {\n                        return\n                    }\n                }\n                if(layoutNode.__vnode__) {\n                    return layoutNode.__vnode__;\n                }\n                const [vnode] = this.$scopedSlots[type]({ source, layoutNode });\n                if(this.genVueComponentKey) {\n                    vnode.key = this.genVueComponentKey(source);\n                }\n                \n                layoutNode.__vnode__ = vnode;\n                return vnode;\n            });\n            const vlinks = this.renderLinks.map(meta => {\n                let type = meta.type || 'plainlink'\n                if(!this.$scopedSlots[type]) {\n                    return null;\n                }\n                if(meta.__vnode__) {\n                    return meta.__vnode__;\n                }\n                const [vnode] = this.$scopedSlots[type]({ configs: meta });\n                if(this.genVueComponentKey) {\n                    const k1 = this.genVueComponentKey(meta.from.source);\n                    const k2 = this.genVueComponentKey(meta.to.source);\n                    const k3 = meta.part;\n                    vnode.key = `${k1}-${k2}-${k3}`\n                }\n                meta.__vnode__ = vnode;\n                return vnode\n            })\n\n            return createElement('div', [...vnodes, ...vlinks]);\n        }\n        \n    },\n    created() {\n        this._jflowInstance = new JFlow(this.configs);\n        this.genNodeLinkMeta();\n        this.loadingNodes();\n    },\n    beforeDestroy() {\n        this._jflowInstance.destroy();\n    },\n    methods: {\n        loadingNodes() {\n            this.$emit('update:loading', true)\n            let i = 0;\n            const tl = () => {\n                const end = i + 100;\n                const linkPart = this.links.slice(i, end);\n                if(linkPart.length) {\n                    // this.renderLinks.splice(this.renderLinks.length,  0, ...linkPart);\n                    this.renderLinks = this.renderLinks.concat(linkPart); // faster\n                    i = end;\n                    requestAnimationFrame(tl);\n                } else {\n                    requestAnimationFrame(this.mountJFlow.bind(this));\n                }\n            }\n            const tn = () => {\n                const end = i + 100;\n                const part = this.nodes.slice(i, end);\n                if(part.length) {\n                    // this.renderNodes.splice(this.renderNodes.length,  0, ...part);\n                    this.renderNodes = this.renderNodes.concat(part);\n                    i = end;\n                    requestAnimationFrame(tn);\n                } else {\n                    i = 0;\n                    requestAnimationFrame(tl)\n                }\n            }\n            requestAnimationFrame(tn)\n        },\n        mountJFlow() {\n            this._jflowInstance.$mount(this.$el);\n            Object.keys(this.$listeners).map(event => {\n                const func = this.$listeners[event].bind(this);\n                this._jflowInstance.addEventListener(event, func);\n            })\n            this.$emit('update:loading', false)\n        },\n        genNodeLinkMeta() {\n            /** \n            * @member {j-jflow-Node[]} nodes\n            */\n            this.nodes = this._jflowInstance._layout.flowStack.map(meta => {\n                const { type, layoutNode, source } = meta;\n                const map = this._jflowInstance.source_Layout_Render_NodeMap;\n                let obj;\n                if(map.has(source)) {\n                    obj = map.get(source);\n                } else {\n                    obj = map.set(source);\n                }\n                obj.layoutNode = layoutNode;\n                return meta;\n            });\n            /** \n            * @member {Layout~LinkMeta[]} links\n            */\n            this.links = this._jflowInstance._layout.flowLinkStack.slice();\n        },\n        syncNodeLink() {\n            this.renderNodes = this.nodes.slice();\n            this.renderLinks = this.links.slice();\n        },\n        /**\n         * vnode\n         * @name j-jflow~preCallback\n         * @function\n         */\n        /**\n         * \n         * @param {j-jflow~preCallback} preCallback - JFlow vnode\n         */\n        reflow(preCallback) {\n            this.genNodeLinkMeta();\n            this.syncNodeLink();\n            this.$nextTick(() => {\n                if(preCallback) {\n                    preCallback();\n                }\n                this._jflowInstance.recalculate();\n                this._jflowInstance._render();\n            })\n        },\n        /**\n         *  JFlow \n         * @return {Jflow} - JFlow\n         */\n        getInstance() {\n            return this._jflowInstance;\n        },\n        /**\n         * \n         */\n        renderJFlow() {\n            if(this.__renderInSchedule__) {\n                return;\n            }\n            this.__renderInSchedule__ = true;\n            this.$nextTick(() => {\n                this._jflowInstance._render();\n                this.__renderInSchedule__ = false;\n            });\n        },\n    }\n}","import * as JFlowInstance from '../../core/flow';\nimport diff from 'object-diff';\nexport default function (nameNode) {\n    const builder =  typeof nameNode === 'string'\n        ? JFlowInstance[nameNode]\n        : nameNode;\n    return {\n        inject: ['addToStack', 'removeFromStack'],\n        props: {\n            configs: {\n                type: Object,\n                default: function () {\n                    return {};\n                },\n            },\n            visible: {\n                type: Boolean,\n                default: true,\n            },\n            source: {\n                type: Object,\n            }\n        },\n        watch: {\n            configs(val, oldVal) {\n                // console.log(val, JSON.stringify(val) === JSON.stringify(oldVal), )\n                const diffed = diff(val, oldVal);\n                if(Object.keys(diffed).length === 0){\n                    return;\n                }\n                //\n                // const reflowKeys = Object.keys(diffed).filter(k => {\n                //     const lk = k.toLowerCase();\n                //     return !(lk.endsWith('color') || k.endsWith('style'));\n                // });\n                this._jflowInstance.setConfig(val);\n                // console.log('recalculateUp')\n                // this._jflowInstance.recalculateUp();\n                // console.log(reflowKeys.length, val)\n                // if(reflowKeys.length) {\n                //     this._jflowInstance._belongs.recalculateUp();\n                // }\n                // this._jflowInstance._jflow._render();\n            },\n            '$listeners' (val, oldVal) {\n                let news = [];\n                let deletes = [];\n                const vnew = Object.keys(val).map(e => ({ event: e, handler: val[e] }));\n                const vold = Object.keys(oldVal).map(e => ({ event: e, handler: oldVal[e] }));\n                vnew.forEach((v) => {\n                    const hnew = v.handler;\n                    if(!vold.find((q) => q.handler === hnew)) {\n                        news.push(v);\n                    }\n                });\n                vold.forEach((v) => {\n                    const hold = v.handler;\n                    if(!vnew.find((q) => q.handler === hold)) {\n                        deletes.push(v);\n                    }\n                });\n\n                news.forEach((v) => {\n                    this._jflowInstance.addEventListener(v.event, v.handler);\n                });\n                deletes.forEach((v) => {\n                    this._jflowInstance.removeEventListener(v.event, v.handler);\n                });\n            },\n            visible(val) {\n                this._jflowInstance.visible = val;\n                // this._jflowInstance._belongs.recalculateUp();\n                // this._jflowInstance._jflow._render();\n            }\n        },\n        render: function (createElement) {\n            return null;\n        },\n        created() {\n            this._jflowInstance =  new builder(this.configs);\n            this._jflowInstance.visible = this.visible;\n            this.bindListeners();\n            this.addToStack(this._jflowInstance, this.source);\n        },\n        // updated() {\n        //     console.log('recalculateUp')\n\n        // },\n        destroyed() {\n            this._jflowInstance.destroy();\n            this.removeFromStack(this._jflowInstance);\n        },\n        methods: {\n            bindListeners() {\n                Object.keys(this.$listeners).map(event => {\n                    const func = this.$listeners[event];\n                    this._jflowInstance.addEventListener(event, func);\n                })\n            }\n        }\n    }\n}","import * as JFlowInstance from '../../core/flow';\n/**\n * JFlow {@link BaseLink}  vue  \n * @module jflow-link\n * @property {BaseLink~Configs} configs -  BseLink , from, tojflowid Instance\n * @property {String} from - source\n * @property {String} to - source\n */\nexport default function (nameNode, isLink) {\n    return {\n        inject: [ 'addToLinkStack', 'removeFromLinkStack', 'getJFlow' ],\n        props: {\n            configs: {\n                type: Object,\n                default: function () {\n                    return {};\n                },\n            },\n            from: Object,\n            to: Object,\n        },\n        // watch: {\n        //     from() {\n        //         this.resetLink();\n        //     },\n        //     to() {\n        //         this.resetLink();\n        //     },\n        //     configs(val, oldVal) {\n        //         this.setConfig(val);\n        //     },\n        // },\n        render: function (createElement) {\n            return null;\n        },\n        created() {\n            const jflow = this.getJFlow();\n            const fromInstance = jflow.getRenderNodeBySource(this.from);\n            const toInstance = jflow.getRenderNodeBySource(this.to);\n            // const key = this.$vnode.key;\n            if(fromInstance && toInstance) {\n                this._jflowInstance = new JFlowInstance[nameNode]({\n                    ...this.configs,\n                    from: fromInstance,\n                    to: toInstance,\n                });\n                this.bindListeners();\n                this.addToLinkStack(this._jflowInstance);   \n            }\n        },\n        mounted() {\n            this.$watch(() => [this.from, this.to, this.configs], () => {\n                this.refreshConfig();\n            })\n        },\n        methods: {\n            refreshConfig() {\n                const jflow = this.getJFlow();\n                const fromInstance = jflow.getRenderNodeBySource(this.from);\n                const toInstance = jflow.getRenderNodeBySource(this.to);\n                this._jflowInstance.setConfig({\n                    ...this.configs,\n                    from: fromInstance,\n                    to: toInstance,\n                });\n            },\n            // setConfig(val) {\n            //     const conf = {};\n            //     Object.keys(val).forEach(k => {\n            //         if(k !=='from' && k !== 'to'){\n            //             conf[k] = val[k];\n            //         }\n            //     })\n            //     this._jflowInstance.setConfig(conf);\n            // },\n            // resetLink() {\n            //     const jflow = this.getJFlow();\n            //     const fromInstance = jflow.getRenderNodeBySource(this.from);\n            //     const toInstance = jflow.getRenderNodeBySource(this.to);\n            //     this._jflowInstance.from = fromInstance;\n            //     this._jflowInstance.to = toInstance;\n            // },\n            bindListeners() {\n                Object.keys(this.$listeners).map(event => {\n                    const func = this.$listeners[event];\n                    this._jflowInstance.addEventListener(event, func);\n                })\n            }\n        },\n        destroyed() {\n            if(this._jflowInstance) {\n                this.removeFromLinkStack(this._jflowInstance);\n            }\n        }\n    }\n}","import * as JFlowInstance from '../../core/flow';\nimport StackMixin from './StackMixin';\nexport default function (nameNode) {\n    const builder =  typeof nameNode === 'string'\n        ? JFlowInstance[nameNode]\n        : nameNode;\n    return {\n        mixins: [StackMixin],\n        inject: {\n            addToBelongStack: {\n                from: 'addToStack',\n            },\n            removeFromBelongStack: {\n                from: 'removeFromStack',\n            },\n            renderJFlow: {\n                from: 'renderJFlow',\n            },\n        },\n        render: function (createElement) {\n            return createElement('jflow-group', this.$slots.default);\n        },\n        props: {\n            configs: {\n                type: Object,\n                default: function () {\n                    return {};\n                },\n            },\n            visible: {\n                type: Boolean,\n                default: true,\n            },\n            source: {\n                type: Object,\n            }\n        },\n        watch: {\n            configs(val, oldVal) {\n                if(JSON.stringify(val) === JSON.stringify(oldVal)){\n                    return;\n                }\n                this._jflowInstance.setConfig(val);\n                // this._jflowInstance._jflow._render();\n            },\n            '$listeners' (val, oldVal) {\n                let news = [];\n                let deletes = [];\n                const vnew = Object.keys(val).map(e => ({ event: e, handler: val[e] }));\n                const vold = Object.keys(oldVal).map(e => ({ event: e, handler: oldVal[e] }));\n                vnew.forEach((v) => {\n                    const hnew = v.handler;\n                    if(!vold.find((q) => q.handler === hnew)) {\n                        news.push(v);\n                    }\n                });\n                vold.forEach((v) => {\n                    const hold = v.handler;\n                    if(!vnew.find((q) => q.handler === hold)) {\n                        deletes.push(v);\n                    }\n                });\n\n                news.forEach((v) => {\n                    this._jflowInstance.addEventListener(v.event, v.handler);\n                });\n                deletes.forEach((v) => {\n                    this._jflowInstance.removeEventListener(v.event, v.handler);\n                });\n            },\n            visible(val) {\n                this._jflowInstance.visible = val;\n                // this._jflowInstance._belongs.recalculateUp();\n                // this._jflowInstance._jflow._render();\n            },\n        },\n        created() {\n            this._jflowInstance =  new builder(this.configs);\n            this._jflowInstance.visible = this.visible;\n            Object.keys(this.$listeners).map(event => {\n                const func = this.$listeners[event].bind(this);\n                this._jflowInstance.addEventListener(event, func);\n            })\n            this.addToBelongStack(this._jflowInstance, this.source);\n        },\n        mounted(){\n            this._jflowInstance.recalculate();\n        },\n        updated() {\n            this._jflowInstance.recalculateUp();\n        },\n        destroyed() {\n            this._jflowInstance.destroy();\n            this.removeFromBelongStack(this._jflowInstance);\n        },\n    }\n}","// import JFlowComponent from './components/JFlow';\nimport JFlowComponent from './components/JFlow';\nimport JFlowInstance from './components/JFlowInstance';\nimport JFlowLink from './components/JFlowLink';\nimport JFlowGroup from './components/JFlowGroup';\n \nconst JFLOW_NODES = [\n    /**\n     * JFlow {@link Point}  vue  \n     * @module j-point\n     * @property {Point~PointConfigs} configs -  Point \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Point',\n    /**\n     * JFlow {@link Rectangle}  vue  \n     * @module j-rectangle\n     * @property {Rectangle~RectangleConfigs|GroupTemplate~GroupConfigs} configs -  Rectangle \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Rectangle',\n    /**\n     * JFlow {@link Capsule}  vue  \n     * @module j-capsule\n     * @property {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs -  Capsule \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Capsule',\n    /**\n     * JFlow {@link Diamond}  vue  \n     * @module j-diamond\n     * @property {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs -  Diamond \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Diamond',\n    /**\n     * JFlow {@link Rhombus}  vue  \n     * @module j-rhombus\n     * @property {(Rhombus~RhombusConfigs|GroupTemplate~GroupConfigs)} configs -  Diamond \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Rhombus',\n    /**\n     * JFlow {@link Text}  vue  \n     * @module j-text\n     * @property {Text~TextConfigs} configs -  Text \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Text',\n    /**\n     * JFlow {@link Icon}  vue  \n     * @module j-icon\n     * @property {Icon~IconConfigs} configs -  Icon \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'Icon',\n\n    'ShadowDom',\n];\n/**\n * @typedef {BezierLink~Configs} j-bezier-link~Configs\n * @property {String} from   -  jflowId\n * @property {String} to     -  jflowId\n */\nconst JFLOW_LINKS = [\n    'Link',\n    'PolyLink',\n    \n    /**\n     * JFlow {@link BezierLink}  vue  \n     * @module j-bezier-link\n     * @property {BezierLink~Configs} configs -  BezierLink \n     */\n    'BezierLink'\n]\nconst JFLOW_GROUPS = [\n    /**\n     * JFlow {@link CapsuleGroup}  vue  \n     * @module j-capsule-group\n     * @property {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs -  CapsuleGroup \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'CapsuleGroup',\n    /**\n     * JFlow {@link CapsuleVerticalGroup}  vue  \n     * @module j-capsule-vertical-group\n     * @property {(Capsule~CapsuleConfigs|GroupTemplate~GroupConfigs)} configs -  CapsuleVerticalGroup \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'CapsuleVerticalGroup',\n    /**\n     * JFlow {@link DiamondGroup}  vue  \n     * @module j-diamond-group\n     * @property {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs -  DiamondGroup \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'DiamondGroup',\n    /**\n     * JFlow {@link DiamondVerticalGroup}  vue  \n     * @module j-diamond-vertical-group\n     * @property {(Diamond~DiamondConfigs|GroupTemplate~GroupConfigs)} configs -  DiamondVerticalGroup \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'DiamondVerticalGroup',\n    /**\n     * JFlow {@link RhombusGroup}  vue  \n     * @module j-rhombus-group\n     * @property {(Rhombus~RhombusConfigs|GroupTemplate~GroupConfigs)} configs -  RhombusGroup \n     * @property {Boolean} visible - \n     * @property {String} jflowId - ID\n     */\n    'RhombusGroup',\n\n    'PointGroup',\n]\n\nconst components = [\n    {\n        name: 'Jflow',\n        component: JFlowComponent,\n    },\n    {\n        /**\n         * JFlow {@link RectangleGroup}  vue  \n         * @module j-group\n         * @property {RectangleGroup~RectangleGroupConfigs} configs -  RectangleGroup \n         */\n        name: 'Group',\n        component: JFlowGroup('Group'),\n    }, \n    ...JFLOW_GROUPS.map(name => ({\n        name,\n        component: JFlowGroup(name)\n    })),\n    ...JFLOW_NODES.map(name => ({\n        name,\n        component: JFlowInstance(name)\n    })),\n    ...JFLOW_LINKS.map(name => ({\n        name,\n        component: JFlowLink(name)\n    })),\n];\nconst componentPrefix = 'j';\ncustomElements.define('jflow-group', class extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({mode: 'open'});\n    }\n});\n/**\n * @module JFlowVuePlugin \n */\nexport default {\n    /**\n     *  JFlowVuePlugin\n     * @function\n     * @param {Vue} Vue - Vue\n     * @param {Object} options - Vue plugin \n     * @param {string} options.prefix -  j\n     * @param {Object} options.custom -  { key: {@link:Instance} }\n     */\n    install: (Vue, options = {}) => {\n        let prefixToUse = componentPrefix;\n        if(options && options.prefix){\n            prefixToUse = options.prefix;\n        };\n        components.forEach(k => {\n            Vue.component(`${prefixToUse}${k.name}`, k.component);\n        });\n\n        if(options.customInstance) {\n            Object.keys(options.customInstance).forEach(name => {\n                Vue.component(`${prefixToUse}${name}`, JFlowInstance(options.customInstance[name]));\n            })\n        }\n        if(options.customGroups) {\n            Object.keys(options.customGroups).forEach(name => {\n                Vue.component(`${prefixToUse}${name}`, JFlowGroup(options.customGroups[name]));\n            })\n        }\n    }\n}\n\n// export { * as JFlowInstance } from './components/JFlowInstance'; \n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('j-jflow',{ref:\"jflow\",class:_vm.$style.wrapper,attrs:{\"configs\":_vm.configs,\"loading\":_vm.jflowloading,\"genVueComponentKey\":_vm.genVueComponentKey},on:{\"update:loading\":function($event){_vm.jflowloading=$event}},scopedSlots:_vm._u([{key:\"LogicBasic\",fn:function(ref){\nvar source = ref.source;\nreturn [_c('logic-Node',{attrs:{\"node\":source}})]}},{key:\"Start\",fn:function(ref){\nvar source = ref.source;\nreturn [_c('start-Node',{attrs:{\"node\":source}})]}},{key:\"endpoint\",fn:function(ref){\nvar source = ref.source;\nreturn [_c('end-point-node',{attrs:{\"node\":source}})]}},{key:\"End\",fn:function(ref){\nvar source = ref.source;\nreturn [_c('end-Node',{attrs:{\"node\":source}})]}},{key:\"plainlink\",fn:function(ref){\nvar configs = ref.configs;\nreturn [_c('jLink',{attrs:{\"configs\":Object.assign({}, configs,\n                        {backgroundColor: '#919499'}),\"from\":configs.from.source,\"to\":configs.to.source},on:{\"contextclick\":function($event){return _vm.removelink(configs)}}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function getType(concept) {\n    switch (concept) {\n        case \"Assignment\":\n        case \"ForEach\":\n        case \"Switch\":\n        case \"While\":\n        case \"callInterface\":\n        case \"callLogic\":\n        case \"datasearch\":\n        case \"if\":\n            return \"LogicBasic\"\n        \n        default:\n            return concept\n    }\n}\n\nclass BaseNode {\n    constructor(source) {\n        this.source = source;\n        this.id = source.id;\n        this.type = getType(source.concept);\n        this.parent = undefined;\n        this.parentIterateType = undefined;\n        this.idx = undefined;\n    }\n\n    reflowPreCalculate(row, column, callback) {\n        callback({\n            row,\n            column,\n            layoutNode: this,\n        });\n    }\n\n    makeLink(callback) {\n        return this;\n    }\n\n    traverse(callback) {\n        callback(this);\n    }\n}\nclass Logic extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.body = (source.body || []).map(mapFunc('body').bind(this));\n        const playgrounditerator = mapFunc('playground').bind(this);\n        this.playground = (source.playground || []).map((s, idx) => {\n            const n = playgrounditerator(s, idx);\n            n.isFree = true;\n            return n;\n        });\n    }\n\n    makeLink(callback) {\n        let last;\n        this.body.forEach((b) => {\n            if (!last) {\n                last = b;\n                return;\n            }\n            callback({\n                from: last,\n                to: b,\n                part: 'body',\n                rootNode: 'bodyroot',\n            });\n\n            b = b.makeLink((configs) => {\n                configs.rootNode = 'bodyroot';\n                callback(configs);\n            });\n            last = b;\n        });\n\n        this.playground.forEach((n) => {\n            n.makeLink((configs) => {\n                configs.rootNode = n;\n                callback(configs);\n            });\n        });\n        return this;\n    }\n\n    traverse(callback) {\n        callback(this);\n        this.body.forEach(b => {\n            b.traverse(callback);\n        });\n        this.playground.forEach(b => {\n            b.traverse(callback);\n        })\n    }\n\n    reflowPreCalculate(row = 0, column = 0, callback) {\n        this.body.forEach((b, idx) => {\n            b.reflowPreCalculate(row + idx, column, callback);\n        });\n\n        // this.playground.forEach((proot) => {\n        //     const newCallback = (meta) => {\n        //         callback({\n        //             ...meta,\n        //             root: proot\n        //         });\n        //     }\n        //     proot.reflowPreCalculate(0, 0, newCallback);\n        // })\n    }\n}\n\nclass SwitchStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.hasEndPoint = true;\n        this.Endpoint = null;\n        this.cases = (source.cases || []).map(mapFunc('cases').bind(this));\n    }\n\n    makeLink(callback) {\n        let lastc\n        this.cases.forEach((c) => {\n            if(c.consequent.length) {\n                const firstConsquent = c.consequent[0];\n                callback({\n                    from: this,\n                    to: firstConsquent,\n                    content: c.source.content,\n                    part: 'consequent',\n                });\n                console.log(c)\n                lastc = c.makeLink(callback);\n            }\n            callback({\n                from: lastc || this,\n                to: this.Endpoint,\n                part: 'consequent',\n            });\n        });\n        return this.Endpoint\n        \n    }\n    traverse(callback) {\n        callback(this);\n        this.cases.forEach(b => {\n            b.traverse(callback);\n        });\n        this.Endpoint.traverse(callback);\n    }\n\n    reflowPreCalculate(row, column, callback) {\n        super.reflowPreCalculate(row, column, callback);\n        // const nextColumn = column + 1;\n        this.cases.forEach((c, idx) => {\n            c.reflowPreCalculate(row + 1, column + idx, callback);\n        });\n\n        this.Endpoint.reflowPreCalculate(row + 2, column, callback)\n    }\n}\n\nclass SwitchCase extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.consequent = (source.consequent || []).map(mapFunc('consequent').bind(this));\n    }\n\n    makeLink(callback) {\n        if(this.consequent.length) {\n            let last = this.consequent[0].makeLink(callback);\n            this.consequent.slice(1).forEach(c => {\n                callback({\n                    from: last,\n                    to: c,\n                    part: 'body',\n                    rootNode: 'bodyroot',\n                });\n                last = c.makeLink(callback);\n            });\n            return last;\n        }\n        \n        return null;\n    }\n    traverse(callback) {\n        callback(this);\n        this.consequent.forEach(b => {\n            b.traverse(callback);\n        });\n    }\n    reflowPreCalculate(row, column, callback) {\n        this.consequent.forEach((c, idx) => {\n            c.reflowPreCalculate(row + idx, column, callback);\n        });\n    }\n}\n\nclass ForEachStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.body = (source.body || []).map(mapFunc('body').bind(this));\n    }\n\n    makeLink(callback) {\n        let last;\n        if(this.body.length) {\n            this.body.forEach((b, idx) => {\n                callback({\n                    from: last || this,\n                    to: b,\n                    part: 'foreachbody',\n                });\n\n                b = b.makeLink(callback);\n                last = b;\n            });\n        }\n        callback({\n            from: last,\n            to: this,\n        })\n        return this;\n    }\n    traverse(callback) {\n        callback(this);\n        this.body.forEach(b => {\n            b.traverse(callback);\n        });\n    }\n    reflowPreCalculate(row, column, callback) {\n        super.reflowPreCalculate(row, column, callback);\n        const nextColumn = column + 1;\n        this.body.forEach((c, idx) => {\n            c.reflowPreCalculate(row + idx, nextColumn, callback);\n        });\n    }\n}\n\nclass WhileStatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        console.log('WhileStatement', source.body)\n        this.body = (source.body || []).map(mapFunc('body').bind(this));\n        console.log('WhileStatement', this.body)\n    }\n\n    makeLink(callback) {\n        let last;\n        if(this.body.length) {\n            console.log('while makeLink')\n            this.body.forEach((b, idx) => {\n                callback({\n                    from: last || this,\n                    to: b,\n                    part: 'whilebody',\n                });\n\n                b = b.makeLink(callback);\n                last = b;\n            });\n        }\n        callback({\n            from: last,\n            to: this,\n        })\n        return this;\n    }\n\n    traverse(callback) {\n        callback(this);\n        this.body.forEach(b => {\n            b.traverse(callback);\n        });\n    }\n    reflowPreCalculate(row, column, callback) {\n        super.reflowPreCalculate(row, column, callback);\n        const nextColumn = column + 1;\n        this.body.forEach((c, idx) => {\n            c.reflowPreCalculate(row + idx + 1, nextColumn, callback);\n        });\n    }\n}\n\n\nclass IFstatement extends BaseNode {\n    constructor(source) {\n        super(source);\n        this.consequent = (source.consequent || []).map(mapFunc('consequent').bind(this));\n        this.alternate = (source.alternate || []).map(mapFunc('alternate').bind(this));\n    }\n}\n\nconst TYPE_MAPPING = {\n    'if': IFstatement,\n    \"Switch\": SwitchStatement,\n    \"SwitchCase\": SwitchCase,\n    \"ForEach\": ForEachStatement,\n    \"While\": WhileStatement,\n    Logic,\n    other: BaseNode,\n};\n\nfunction mapFunc(type) {\n    return function (n, idx) {\n        const p = makeAST(n);\n        p.parent = this;\n        p.idx = idx;\n        p.parentIterateType = type;\n\n        if (p.hasEndPoint) {\n            if (!n.__endpoint__) {\n                n.__endpoint__ = {\n                    concept: 'endpoint',\n                    id: `${p.id}-endpoint`,\n                };\n            }\n            const e = makeAST(n.__endpoint__);\n            e.parent = this;\n            e.idx = idx;\n            e.parentIterateType = type;\n            p.Endpoint = e;\n        }\n\n        return p;\n    };\n}\nfunction makeAST(source) {\n    const type = source.concept;\n    const Constructor = TYPE_MAPPING[type] || TYPE_MAPPING.other;\n    const node = new Constructor(source);\n    return node;\n}\nexport {\n    makeAST,\n};","\nimport { makeAST } from './base-node';\n\nclass LogicLayout {\n    constructor(source) {\n        this.rowGap = 60;\n        this.columnGap = 20;\n        this.flowStack = [];\n        this.flowLinkStack = [];\n        this.source = null;\n        this.static = false;\n        this.reOrder(source)\n    }\n\n    reOrder(source) {\n        this.source = source;\n        this.flowStack = [];\n        this.flowLinkStack = [];\n\n        this.root = makeAST(this.source);\n\n        this.root.traverse((node) => {\n            if (node.type === 'SwitchCase') {\n                return;\n            }\n\n            this.flowStack.push({\n                type: node.type,\n                source: node.source,\n                layoutNode: node,\n            }); \n        });\n\n        this.root.makeLink((configs) => {\n            if (configs.from.type !== 'End') {\n                this.flowLinkStack.push(configs);\n            }\n        });\n\n        const columnMap = {};\n        this.root.reflowPreCalculate(0, 0, ({column, layoutNode }) => {\n            if(!columnMap[column]) {\n                columnMap[column] = [];\n            }\n            columnMap[column].push(layoutNode);\n        });\n\n        this.columnMap = columnMap;\n        console.log(columnMap)\n        console.log(this.source);\n        console.log(this.flowStack.map(t => t.type))\n    }\n\n    reflow(jflow) {\n        const rowGap = this.rowGap;\n        const columnGap = this.columnGap;\n\n        const columnMap = this.columnMap;\n        const columnAnchor = [];\n        let reduceWidth = 0;\n        \n        Object.keys(columnMap)\n            .sort((a, b) => parseInt(a) - parseInt(b))\n            .forEach((k, idx) => {\n                let w = 0;\n                columnMap[k].forEach(layoutNode => {\n                    const instance = jflow.getRenderNodeBySource(layoutNode.source);\n                    const { width } = instance.getBoundingDimension();\n                    w = Math.max(width, w);\n                });\n                reduceWidth += (idx === 0 ? 0 : w / 2);\n                columnAnchor.push(reduceWidth);\n                reduceWidth += (w / 2 + columnGap);\n            });\n        console.log(columnAnchor)\n        this.root.reflowPreCalculate(0, 0, ({ row, column, layoutNode }) => {\n            console.log(row, column, layoutNode.source.concept)\n            const instance = jflow.getRenderNodeBySource(layoutNode.source);\n            instance.setAnchor(columnAnchor[column], row * (rowGap + 32));\n        });\n        \n    }\n}\n\nexport default LogicLayout;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('j-group',{attrs:{\"source\":_vm.node,\"configs\":_vm.configs}},[_c('j-group',{attrs:{\"configs\":_vm.iconGroup}},[_c('j-icon',{attrs:{\"configs\":_vm.imageConfig}})],1),_c('j-group',{attrs:{\"configs\":_vm.textGroup}},[_c('j-text',{attrs:{\"configs\":{\n            fontSize: '12px',\n            textColor: '#222',\n            content: _vm.node.content,\n        }}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AssignmentIcon from './assets/Assignment.png'\nimport ForEachIcon from './assets/ForEach.png'\nimport SwitchIcon from './assets/Switch.png'\nimport WhileIcon from './assets/While.png'\nimport callInterfaceIcon from './assets/callInterface.png'\nimport callLogicIcon from './assets/callLogic.png'\nimport datasearchIcon from './assets/datasearch.png'\nimport ifIcon from './assets/if.png'\n\nfunction makeImage(icon) {\n    const p = new Image();\n    p.src = icon;\n    return p;\n}\n\nexport const ConceptIconMap = {\n    'Assignment': makeImage(AssignmentIcon),\n    'ForEach': makeImage(ForEachIcon),\n    'Switch': makeImage(SwitchIcon),\n    'While': makeImage(WhileIcon),\n    'callInterface': makeImage(callInterfaceIcon),\n    'callLogic': makeImage(callLogicIcon),\n    'datasearch': makeImage(datasearchIcon),\n    'if': makeImage(ifIcon),\n}\n\nexport const ConceptColorMap = {\n    'Assignment': '#EBBC00',\n    'ForEach': '#A567F5',\n    'Switch': '#4C88FF',\n    'While': '#97B20E',\n    'callInterface': '#756BFF',\n    'callLogic': '#F56CC7',\n    'datasearch': '#00B5D9',\n    'if': '#F2A130',\n}\n\nexport const ConceptSubColorMap = {\n    'Assignment': '#FDF9E6',\n    'ForEach': '#F6F0FE',\n    'Switch': '#EEF4FF',\n    'While': '#F5F8E7',\n    'callInterface': '#756BFF',\n    'callLogic': '#fff',\n    'datasearch': '#fff',\n    'if': '#fff',\n}","<template>\n    <j-group \n        :source=\"node\" \n        :configs=\"configs\">\n        <j-group :configs=\"iconGroup\">\n            <j-icon :configs=\"imageConfig\" />\n        </j-group>\n\n        <j-group :configs=\"textGroup\">\n            <j-text :configs=\"{\n                fontSize: '12px',\n                textColor: '#222',\n                content: node.content,\n            }\">\n        </j-text>\n        </j-group>\n    </j-group>\n</template>\n\n<script>\nimport { LinearLayout } from '@joskii/jflow';\nimport {\n    ConceptColorMap,\n    ConceptSubColorMap,\n    ConceptIconMap,\n} from './configs';\n\nexport default { \n    props: {\n        node: Object,\n    },\n    data() {\n        const node = this.node;\n        const color = ConceptColorMap[node.concept];\n        const subcolor = ConceptSubColorMap[node.concept]\n        const icon = ConceptIconMap[node.concept];\n        return {\n            configs: {\n                layout: new LinearLayout({\n                    direction: 'horizontal',\n                    gap: 10,\n                }),\n                borderWidth: 1,\n                borderColor: color,\n                backgroundColor: '#fff',\n                borderRadius: 4,\n            },\n            iconGroup: {\n                padding: 8,\n                backgroundColor: subcolor,\n            },\n            textGroup: {\n                paddingTop: 10,\n                paddingBottom: 10,\n                paddingLeft: 12,\n                paddingRight: 12,\n            },\n            imageConfig: {\n                image: icon,\n                width: 16,\n                height: 16,\n            }\n        }\n    },\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./logic-node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./logic-node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./logic-node.vue?vue&type=template&id=6297e718&\"\nimport script from \"./logic-node.vue?vue&type=script&lang=js&\"\nexport * from \"./logic-node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('j-group',{attrs:{\"source\":_vm.node,\"configs\":_vm.configs}},[_c('j-text',{attrs:{\"configs\":{\n        fontSize: '12px',\n        textColor: '#000',\n        content: '',\n    }}}),_c('j-group',{attrs:{\"configs\":_vm.iconGroup}},[_c('j-icon',{attrs:{\"configs\":_vm.imageConfig}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <j-group \n        :source=\"node\" \n        :configs=\"configs\">\n        <j-text :configs=\"{\n            fontSize: '12px',\n            textColor: '#000',\n            content: '',\n        }\">\n        </j-text>\n        <j-group :configs=\"iconGroup\">\n            <j-icon :configs=\"imageConfig\" />\n        </j-group>\n    </j-group>\n</template>\n\n<script>\nimport { LinearLayout } from '@joskii/jflow';\nimport logicIcon from './assets/start.png';\nconst p = new Image();\np.src = logicIcon;\nexport default {\n    props: {\n        node: Object,\n    },\n    data() {\n        return {\n            configs: {\n                layout: new LinearLayout({\n                    direction: 'vertical',\n                    gap: 10,\n                }),\n            },\n            iconGroup: {\n                padding: 10,\n                backgroundColor: '#fff',\n                borderColor: '#E0E0E0',\n                borderWidth: 1,\n            },\n            imageConfig: {\n                image: p,\n                width: 20,\n                height: 20,\n            }\n        }\n    },\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./start-node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./start-node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./start-node.vue?vue&type=template&id=93d85f90&\"\nimport script from \"./start-node.vue?vue&type=script&lang=js&\"\nexport * from \"./start-node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('j-point',{attrs:{\"source\":_vm.node,\"configs\":{\n        backgroundColor: '#666E80',\n        borderWidth: 1,\n        radius: 2,\n        ignoreHit: true,\n    }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <j-point\n        :source=\"node\"\n        :configs=\"{\n            backgroundColor: '#666E80',\n            borderWidth: 1,\n            radius: 2,\n            ignoreHit: true,\n        }\">\n    </j-point>\n</template>\n\n<script>\nexport default {\n    props: {\n        node: Object,\n    },\n    created() {\n        console.log(this.node)\n    }\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./endpoint-node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./endpoint-node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./endpoint-node.vue?vue&type=template&id=00ca0410&\"\nimport script from \"./endpoint-node.vue?vue&type=script&lang=js&\"\nexport * from \"./endpoint-node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('j-group',{attrs:{\"source\":_vm.node,\"configs\":_vm.configs}},[_c('j-text',{attrs:{\"configs\":{\n        fontSize: '12px',\n        textColor: '#000',\n        content: '',\n    }}}),_c('j-group',{attrs:{\"configs\":_vm.iconGroup}},[_c('j-icon',{attrs:{\"configs\":_vm.imageConfig}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <j-group \n        :source=\"node\" \n        :configs=\"configs\">\n        <j-text :configs=\"{\n            fontSize: '12px',\n            textColor: '#000',\n            content: '',\n        }\">\n        </j-text>\n        <j-group :configs=\"iconGroup\">\n            <j-icon :configs=\"imageConfig\" />\n        </j-group>\n    </j-group>\n</template>\n\n<script>\nimport { LinearLayout } from '@joskii/jflow';\nimport logicIcon from './assets/end.png';\nconst p = new Image();\np.src = logicIcon;\nexport default {\n    props: {\n        node: Object,\n    },\n    data() {\n        return {\n            configs: {\n                layout: new LinearLayout({\n                    direction: 'vertical',\n                    gap: 10,\n                }),\n            },\n            iconGroup: {\n                padding: 10,\n                backgroundColor: '#fff',\n                borderColor: '#E0E0E0',\n                borderWidth: 1,\n            },\n            imageConfig: {\n                image: p,\n                width: 20,\n                height: 20,\n            }\n        }\n    },\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./end-node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./end-node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./end-node.vue?vue&type=template&id=34ce3797&\"\nimport script from \"./end-node.vue?vue&type=script&lang=js&\"\nexport * from \"./end-node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div style=\"position: relative;\">\n    <j-jflow ref=\"jflow\" \n        :class=\"$style.wrapper\" \n        :configs=\"configs\"\n        :loading.sync=\"jflowloading\"\n        :genVueComponentKey=\"genVueComponentKey\">\n            <template #LogicBasic=\"{ source }\">\n                <logic-Node :node=\"source\"></logic-Node>\n            </template>\n            <template #Start=\"{ source }\">\n                <start-Node :node=\"source\"></start-Node>\n            </template>\n            <template #endpoint=\"{ source }\">\n                <end-point-node :node=\"source\"></end-point-node>\n            </template>\n            <template #End=\"{ source }\">\n                <end-Node :node=\"source\"></end-Node>\n            </template>\n            <template #plainlink=\"{ configs }\">\n                <jLink\n                    :configs=\"{\n                        ...configs,\n                        backgroundColor: '#919499',\n                    }\"\n                    :from=\"configs.from.source\"\n                    :to=\"configs.to.source\"\n                    @contextclick=\"removelink(configs)\">\n                </jLink>\n            </template>\n    </j-jflow>\n</div>\n</template>\n\n<script>\nimport sourceData from '../data/data.json';\nimport logicLayout from '../layout/logic-layout';\nimport logicNode from './logic-node.vue';\nimport startNode from './start-node.vue';\nimport EndPointNode from './endpoint-node.vue';\nimport endNode from './end-node.vue';\nlet uuid = 0;\nexport default {    \n    components: {\n        startNode,\n        endNode,\n        logicNode,\n        EndPointNode\n    },\n    provide() {\n        return {\n            renderJFlow: this.renderJFlow,\n        }\n    },\n    data() {\n        const layout = new logicLayout(sourceData);\n        const configs = Object.freeze({\n            allowDrop: true,\n            layout,\n            initialZoom: 1,\n            minZoom: .2,\n            NodeRenderTop: true,\n        })\n        return {\n            configs,\n            sourceData,\n            jflowloading: false,\n        }\n    },\n    methods: {\n        renderJFlow() {\n            this.$refs.jflow.renderJFlow();\n        },\n        onLink(event) {\n            const jflowInstance = this.$refs.jflow.getInstance()\n            const source = event.detail.payload.instance;\n            console.log(source)\n            const anchor = event.detail.anchor;\n            const newNode = { id: `auto-${uuid++}`};\n            this.sourceData.push(newNode);\n            if(!source.next) {\n                source.next = [];\n            }\n            source.next.push(newNode.id);\n            this.configs.layout.reOrder(this.sourceData);\n            this.$refs.jflow.reflow(() => {\n                const renderNode = jflowInstance.getRenderNodeBySource(newNode) \n                renderNode.anchor = anchor;\n            });\n        },\n        onLinking(meta) {\n            const { source, target } = meta;\n            if(!source.next) {\n                source.next = [];\n            }\n            const exist = source.next.find(t => t === target.id);\n            if(!exist) {\n                source.next.push(target.id);\n                this.configs.layout.reOrder(this.sourceData);\n                this.$refs.jflow.reflow();\n            }\n        },\n        genVueComponentKey(source){\n            return source.id;\n        },\n        removelink(linkConfigs) {\n            const sourceNext = linkConfigs.from.source.next;\n            const toId = linkConfigs.to.source.id;\n\n            const idx = sourceNext.indexOf(toId);\n            sourceNext.splice(idx, 1);\n\n            this.configs.layout.reOrder(this.sourceData);\n            this.$refs.jflow.reflow();\n        }\n    }\n}\n</script>\n\n<style module>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.wrapper{\n    width: 1200px;\n    height: 600px;\n    border: 1px solid #ccc;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=982ff1fa&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport { JFlowVuePlugin, Point } from '@joskii/jflow';\nimport App from './App.vue'\n\nVue.config.productionTip = false;\nVue.use(JFlowVuePlugin);\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASVSURBVHgB7ZlPTBxVHMe/b4bdlgArJdES/3UVrW3SBFqlpuqBRqMxLYV6NDGUi0pjUzb2oL1QDxZvi7HtticgPdSTUJCDiUnx0AuYAEljSyLJ+qemerC4XdJll5nn+y1d3H0zs/tmdvDS+VzIvv3N29+b9/19f28GICAgIOChZ3issREeYdgEzk/VtWmGFhfTRwGe1HUz9v6hlXlLjKl3gfMOittqaHt7jy4vwyUafObiZOQkM/RrIqkO8TFKfw1Dn0tMRgaK40RMBzjOFOIyNWtt8ICvC7g4EYlzjiGxrVZJiGQT30aGC3KpMYzpku9NrRse8EVCibHGKHQ+LrJsVQhPIpQ92Pd2JnlhInK3sFjO2fzxrn/2wiVVLyAxWd/BuTYm3/XdT/eg9bkTuPnLKBaWvpJ/dJmDx8CFfBh6CuOiDra5rQMdVXBJ6FrcuRGR0Nbi8fYXTueT17UtaG7aj/raJ/Hn3RkY5upGrmIZ3WCMbmBzYXBNMxenrmTnXaTgbQdIx/drjGHGWYlu62qfwMG2C2hq2GW5Jn3/Nr778T2siL+OyWgY+fBwqhcucF3EZH8Z3ZyTk2/eth9vvXTZNnmiXiyu88A4Wh5/x3lyE64L2dUOkEWawk3s9N6+67TyPAtL5yx1sUEo+wwVOBRR3gE7iwyFIkIy55WTz63dw9IfY0JGvyMsrrWD5UJxN5254g44WSTpnSRD0igHaf4n4US//fU90pnbUGTDaisFlt0Bskjo5jU5edJx54GrFZMnQqEG3Px1tGzyIetuRFkuPJeYaDiGCjjaKOld+PTXkPROFrlv58d5i1SB4u78PYMVaQFU7NHmQ3hx5ynse/4UHql71tZqD7+7BVNXVn9wmt8iIS8WWYnZxbP4WWh/x6OvY3vTy3jqsTcQrmmwxDlZLeOY5+HsUTtJlSxgXe8kGTqE/QdZ5Ct7vlCSjB1ZUbx2CdvHpjB7a1AU+zfyV7Z1UVoDmnkMUvJkkW+2X/acPKGa/HpsBK/uGURrywn5qyiy4X55ULMEFUGTuPF3P2lt+Shv0SUw62GxRvqcLP6w3my43d3YdEhCs4uDJWNMY0k5rmQHMqY2BMsizglNns3r+P+Civ76jU+RzaU2xjidYPXsZ3KsxYWcCrn+QeOqq6IWKkHuc/3GJ7gj7FTCsbE5duLE1ciQ+PZk8RgtgvoA2aDfUA+g5NOShYrjy2itqfU7PSeUPUpcmoj0G8CAfHijAvOzLqhTk0xlhGxix4+khspdq3gWskpqu+gNr4neUI2k6HA3c+vz/AFPIglm9vZ1pqcrzaF0nKZFMN2Ic5R252rqYuVB15Ulw8CneSjXq3qkdvU8IOrijLhiQB6nuti9o0d5noJFFrtMHo4v+7pS/XCB60fK/AmVa8Ow6dj0HFyp65JF0oN+MWSR4s7H+o7cG4FLPD0Te7FaLxapQlWvVVSt1qtFqlD1e6FKVluNRarg45s5e0mlra9RlC1SBd/eTjtZrfRzCwitdnvVu+2M8Bknq/VikSpsyv8HyGqZqcU5A70yT2pMi33QuTyOgICAgIAAn/kX98D8AlgkDYYAAAAASUVORK5CYII=\"","export { default } from  \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&module=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOaSURBVHgB7Zm/TxNhGMe/d6WUCoQyGAcHmxgdNJFzcMFBGHQGdzTdwAVJdOaYJSku4tYgfwDMMsAiJjpwmOigMdZBE3SwQPlR2t75PtcDez96996PdjD3SQjX9/rePc973/f7Pu8ViImJiflvKRckif7QRgS0AQpaFbHCDrNGUzGpYjSdU4qIGBERU16Splnw6/gXPJGtivi2W5AeI2IiewJaQcqUE5jVNLgGKQpY6HugzCAiIkngqCDRCK+ywyHOLpFJKrSE9gvSCAt+C5bghWQvem49RUqaYsd91m6U8PresjSGkIR6AvtL0qwGyNZ2sfcC0nfmIbD/hHawg6ONJ1APd2zXEETI/RPKHAISKAFD7wWmd9sIdl0cRoqNPD0BU59qGSdbL1H9/toehIDVrjpmgkjKdwIOFnkGySV5Zdy1/8mnZZx8XHY6FWhe+EpAt8iGZDLN7SQZGvXE+Rtc16n//oDKu2dOkippKuYGcsoCOOFOYP+VlHeySDFzGelh+UzvvOjzYlOGWvpqO+fHaj0TcLPI5NX7SA1NIgxhJeWaAFmk1tC7STI0QVPSI3Rl7yIKql9W9CRoolsoCipy/Tllo1XflgnwWmRUBLVaWwJBLDIqKImKsojaz03buVZWa0rA0Lu1ENPpvj6B7msT6ARu86Ku4uZgTimdNphKiSowAkvwNNrpkfmOBU/Qveie4jmbTLOiaHZCUwJaIwETpHdef48SumfPbdnWLmi41PzZWswVrR2O38q6NjsN3fP4jWxvF7Db/NmUAFtlaQUsmtrYhQ7XpnSr6xS14hq756STIxVVFaZV2uZCf9hETrSayEybNJnbCblQi8HaZhN4bNDNhZph278F5r/T1vagpYMXbqUFm5vPBx4qjjs915WY9rAsiVmELN68qP9ixd37YMWdZy3UbklVP6+gsr3odIo8f5xJRnHrz1WNUhJdCeSdVudk9h669W2jv9VZqx7oo1774bDqAhu1RvAlr+v42g8wScmGpEz4rY/c6h6m9zmmdxmc+N6R7RXYRlxEHrYVu0+Xk9eOjCyyorzQn4CFEqs8x90qTycC7YmDzgu/FslDqLcSvFbrZZFscZJ59O5E6BdbhtXmre2nVksRBrVIHiJ5M+cmqRZwWSQPkbzcJe2ygEZp0+H1XbJIo6YPHbxxvWhpZbWEX4vkoS2/DzhYbSCL5KEtCRBsXmQSxgapzmQT1GViYmJiYtrKX9S6vSHmMGiOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH4SURBVHgB7Zm/SitBFMa/M0mEm0vgWtziVjc2NhYGRLFcn8AUFmJlrY2g1q6tImjhA9hYWcQ3SCn+gVjY2LidhUXEoIKbnXFmbRSccc1EZ4X5wVbnHPb79uwss2cAj8fjcQllTbyZqQWMCnUGMS3LqvgaWukVl9YHG0dRloIPDbTrwR8M3K1B0BK+E6JtPHWlkdatMc0UVOJFqdOUSaNwg+xGMmUywYzl8sk7FK+oYaC4ZkrQdqA9O1lFEl8hDwiaGjw4bb4X0naAd+MQOYELXtfFtAYYkctX5w2M0bQ2pi8TNeSHqi5gXsQ/gB9voIg+wP7+Q3khRGFoGFSufJgfHzfxuLcFfnMNW6w7oMRXNvdRHBnLJF5RmghQ2dhPa63vD0t+zS9nFv4a+l1BeTGELdYGSuMBeqXwfxi2OF3Eqgu2+M+oa7wB13gDrvEGxEMHLrE2kESX6BW1qbPF2sDDbthTF1SN2pHaYm1AbYk7q3OIT5qZ8pXw7sVZWtOP7XRf/geUkPvNFbjAf4VcYzIQITdQSxfRD7a4OERuEJ83wIg1kBfiZF0X0hpQs0jOsQPXSA1yOh3pwsZFzJIkxMuhgxMEcI4XDVqMBtK5vJzPO+mEvCfFSWB1wPGa9mytyruFkFF6XvBFc1MRcdAhE9TQjdM9Ho8nXzwDBbGcWeR0jjkAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app_3cl75\",\"wrapper\":\"App_wrapper_pE_0j\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgB7ZkxaBNRGMf/L4kGHSRCJwVtndqpSjBTSyMOgraQujpYB12TTTMlWYxjnB2axbkBq6BQeqJTxWKmikMsgjjYIRRaDLZ5fl/itef17t1dcpdYuB8kl8t77/L93/u+l/u+A0JCQkLsyJTlKL8QIAI+kynKxN4pZOljDhIJ/k4CmxFAi0qUanmxCR/xTYCV4Ra/1qT3yvJDUYJP+CJgriwX2gIFutiom/6dFaHVeJEXVfRJXwJmyzJNVyjQx7RV++l497jbsh7PQoTEveW80NAjPQngwNwTWITC8PkUcGOye/7uM7C0Bmxtw86Iaq/x4UkA+/l+HAUpyM8tYMPZaH7ps6/DxutCFMZ4FuJKgJsATV4C7kwBI2fU12IhSx9IzIZ1e8etBKpuA91RQMddgBr1nLRqnzhPfVLdoxdYSOUV8G3Lup2FnJC45rQajgJuPZFfrXYXnun7170bbkYVHyxi5xeuaEXRtBsfhQLeHknigvE79u3ZJPCAjD93Fn1zceQwZn40/92xaOISJ6NofVkpaXbjY1BAM5A1nrOf86ybA9QPWERyDHj+HvjYMDQIzKjGRVSNNPiy8ZSDNAjjdXS3NJFWjVELsPiBoPE6QZ4E/I+EAoZNKGDYhAKGTShg2IQCho0nATstBM7PbW/9nQRoxpNnK/aJuR/wBPHttBHKvz+pxijzAUoI3tItdVo/XW90U0A9cfcLNvxNHXhdP1qCibTxVDVWmVJ2kvk4Vs15AcO31vNXgekJ9AUnLzzrdinly0diTDXeVVL/W2DVrup2gVLC3E3vucLGd6oUrHWPlkjUyT0yfSf1OnOPZa4dQdZOyNQ4cDvlLISDlGd8vQE7i5ogt4m1UKkpkvnD7h7g1dgHihRYd+36cEVuevyoEJWfHyA7hhfdGK7Tc2lRJcQcH2w0l0527bdhLUY10sBLi2a4uEsiFu3cyqm4C96mqZQ48OKumWNbXjdDK1Kkv8as8gGHhwB1g/+PmP7GB63IzMGKBGD4QBjEQ76QkJBjzh9lJR0IqhO8agAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATMSURBVHgB7VnPbxtFFH4zjt3YDYqLyCEgtS7hABQUS+WARFGTAzeQ6LG0hUQCnFv8HyS5ccO5xQgpgSrliBAnSKUYNUgcWqkRP9JD07qRIIdUjUvJOrZ3Z3hv3aS7s+PYa29sVfUXrZyZfbvz3ps3b958C9BFF882GASEy58WRxhYSR7iZwFkUkoZB8bi9k0pC/h/ngHLW1KuguC5S19HczXfNfFohEu+/ERJlvsoGxvVyfZAC5hPy3ivsTspwEoDE3EaSuJfdVSHb6qGJPFekjP4EEJiajG1k8e+XJnxmfG5aB6aRFMGkOJHisUpWTTSwtazqYlM4DUWkWIMjVlo1hAOPrGYMiYjxs5d9GYaggMZsrz42X9j4BO+ZuBKyvjSVpx5PR7uZTD4RggGTnLof5FD7PlqH6GyK8F4APBwU8DWuoDNPy27T0ECOJu/8rkxbIH1AzSIhub+cch8j8qPqPdixxi8ciYMx9/i+wo3go0bFqwtmWBsC+/N6qKPP1GyxUUcLu7kJLBhVx8q+9p7YRg6E4JmcPx0yL7WfzVh7WfTPSMO5euhrgGPw8alPHn93dQR+7dVDL3TA4Ovh+BatqyfjTo4cBHTolIXK8V3UMrvoeqQCPQP+s4ptWdgfqKYACmm1IHe/jjSkvJrSxUwClJ7LxwF36hpQFhY0xiLif12bzBhc/+OsC8/sHf1GtDOGXmfMfaJs48WbJBh4wsMkvPpba0RWgNs7ztAijebbYJCjxHRbpzaEELvn3W2yftBgd5lPJB15bYwzDZumPttrKEm8WdalfPEhFoJhqMM3p/uhXajUgT46Ytd1/4gLD6qVrHeEBJ8xNmkHN0JUEYaPOUem3GZVOU8BjAmXEIDQ/5zc1AYeNk9NmPeUsZrgOQnnO1mNpeg0P+SJ8KH1Q6ddglng6rKTiEW96jnSaVeA5hbyE+FGTQ0O3MDBjxl8BogoeBsag4ebQOlUgUFtUOThdxCdJLqFIyCUjNJyKsyHgMEiFVnu/CP/xo9KDz8W5l9BvdUGU0IsZyzef+OBZ3CllK1Cgk3VRmPAZJLl9DmX6Jj64AO/y4gIabKeAy4NPdczrmQK0UJ9663P4w2rqvMBcvr2DxtGhVczDrb6ysVaDfWrppKj8zp5LQGmLtmxtk2tiXcXmnfWri94qVbODJ3OlmtAeMLxzCBuWfh1tWKbchhg8a4taR6HxbO16Ada+7EZsmcVtfCtWzpUI2gdxO9osZ+Le8TahpAsyBDckYd4LdvD8eI6rs13BATM+cPIH3rVmqXU48yHPiksy9IYouw53kvsSVnL2T7DiSRG9IA2bllHS/65gcR5EVbO7HRgqWYV/cabK1ezB5N1nu+IW60VCqdi0Qiy0RvOPt//7GMKZbBq3hQP3G6cUNIWdpb1lf05C6RueVo9Fwj7/IVA7pw2oNNr5/i8MJQyD7FHVXo9R0sCv/FumrrrgWbfxy0u9cPm6YNICxO4EcIyZFylAkIEpjxMExnLn7Vl/HzmO8DzYW5vgXO2CjSfd9AYJCz5VjspF/lCS2lke+QgrSQxWPM/jKZ8PMseZxKFrO3LzOeYQVoEsF9ZkVCjDglnJ1hZGMTQOTA3vkalaWDEn4kuSml+IUqXrto7KKLLlrG/4VSAdWttKMUAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU+SURBVHgB7VnLbxtFGP/tI3FeTVJVcQX04aiihxaViANSuRCLptAjAsGRZ88p6h+QmntV51yEyhFExRFEimwucECCBEGEOFC3AQppozqtm8bperfft6mT2ZlZe9e7PlTNT7LsGc/O95hvvtcCO9jBkw0DKeHGHCYtYMIw8DJ9JuBh1ANGHxGpegYqNFdxPSyYQHlsCmWkgEQCXC1hdMjFtOHhTJPZGIQr9FV+YKHwVN7/3RE6EuAR4zOk0TNIAcTEpU4FiS3AyhVMk7bPxdV4BEYqrotC9iQuxXwuOm5+hwthWjfsYfTueQ32yEuwh47AzBzw5xiecwdu/ToatUU8WP0BGyvf+HMhHBXHXsFHSFMA32Qa+Ip+Tsr/WZn96Nv3IXqzb28xHAUb/3+B+9fOo1FfgoaredtEfnce1Xb7RBJg+VvMGyaeDzxIzPYfPIu+p08jCer/XsQaCaI5kfLYCeTbPd9WAJ3ZsNZ3HfsSZt9+pAF3fQl3f31TPY0I5mS2+pM0/67MvD14tGPmmVGd7fNevCfvHQDR/m+utacLPYEbJeR6GiiRt8k155Jonpm/Q1pm0xs+dll7X0JOompbGA+7D6EnYDm+q8w1x0wwKfMuMda49zv9fqPlSUjCjTocc0KgFYC1T+nAO+IcX9hObX7t6ozPfBPthBggWgGQKd0u6eOOVgDWfmDMrjKBtxl8tqjYdyshMkSLaYrYcPR3QSuASQmZOO6XNRITm+Z3OZYQHFsknqa1e8sTNymrpNmSSHz38T90z2Ltrxk4td8QFcwoMy3DIsHki81rqz+9GBTOQ17OYm15M5eirXgsvXtOIQwNYt5Z/RGJQUzKXqmZmtQpYm/Ro3SdvsriOp0JTYiDnpHj6DbCTJTzKhGGJpVRBDBNHBTH1tBRdBt2iJJsibZlBNMZf408QcVJzhPGZibcdQ4c+phsdBVJwKYS5p5l2roUXhFAXtQqw7QGu3s6GtqKAC1zoccBqglxAS5I6mk8RBPsEpOb0EjoSWrig5IP2eqOtMjbFoBTAMtWCXB+s/rzFJKCLzDHAB1cOb321JpZMaGGiwVx7NTUwMO4f/08ug2ZNsWoa/IaRQBDChS6QMXaFwNMt+BQ/SxhXp7Q3YHAoo2VrzHgFAL3wLdbcnFyBcVzZt8+xIE19Fzof1z8izChNsO0Bc2tK7gtXuSBQwUlG/XvwC9TgYvGfns4pVKTT/jen9sJKPFTyZ7AuLxO60Y9D7PieP3vT5Q1zOTQ4WJgji/d3cX3kQa4YxGgB30rUiuAbaMoM7ZO3QMZPZRsyXkMu9akF7z+z0XFA3HnTrdWKwDXn2RbgVNgjbDZyOg/cJayxle3xpzzZ7JvoVMwjTVJAdx6DGs7htfEFs4ZQuBgW/frWo0Qg4dnN6u2Z05j+IW5ju9As3YW7xXbfpj2GS37QsvU0qDa+II4x1Fz15FPFSZbRewo8DsSix+QCQYLJM/Fe636pW0bW+SRiqSFQDmXprdhiF0LEUR3ljxPZ30hESQE94cmAw+m1VqkC8s2L+c91Kle2HsyWFzpEEkAbmlQb6ZEKlE25NNgQTJ7o19cZra+/Lnvnl1dc5dcZs3C6+NpNXeb0JnT1kZ+DXvKT864kmLBgu31JT+3cdq016OYTccCMPx+qYkZQ+japYQqBdBCdioYg9ohdkHDHqFhIU/EPkNKYK2TyYzHZZ6R6CUftyD9Lh6/mYx/Ilx3zNYo6kex9TCk9pqVG2LcU+LOAb1SzRFzOWwnhFVjs1Cap9es33PGm9Zr1h3s4EnHQ/vALAsXKXDEAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH8SURBVHgB7dlPKERBHAfw72x7WDng5M/Fn4ty8efioNhSLiQKJ8pZygUHpZRywIHIwQVnDmxclEI5uAgHchEnnOxxlYz5WdTaN9vbmTH7ZD61tc3sq/m+95s/uws4juM4/xnL1Dk+zLs4x4h4G0VunINjcW6Frcs+IA0wNsQHRe8aAoAxdM8us22vvpD0qtDHnQ+EzyrwJA/AUYfgiMo6wvBpcgZWTU/4+1wIliUSMMpqgNMTYGkWeHqAMdYC3FwD+3vJJ7C6BFycwQgrAWjQsc3UttgWcHQAbVYCRCJAY1N6+/GBfgjfq5CXyyzKoLAIqK4RpXSV2k4hXsQTamuHEq0AO1swgiZ3bT1QXIasWV9GvRSXqg2eBCKA1/zwS6uEahtgRHkllGkF6OxBzgWihHRoPYH7WxhRXgVlygHoKBAztIzqnHSVS+jYwDHABKUAVDrxZwSCUglF8pLnm59n+wJxXCgqhFVKAWjnbOtInwN5IlTvQDKcLcpzgDaxltbUtkfxRWV/F1Zp7QPNrem7cUkprNLaBwiVEt15mg99/X8wANU7DZzQmd827QAkFwP/4juAqV3XtEwB4uL1vaqb+hVBUVzWIV2FOMMigoJhQ9YlDfAaxgKH/EJbxBgO88OYkvVn/H+AjA7zKHtDBXKAh3A3v8wO4TiO4/yWdxHwaVbarNdOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOeSURBVHgB7ZnPaxNBFMe/E5v0F2K8FRGbgmBPmoOCKNJs/4HivaA9NkXanAQvTQ968GJ6aNVTc/Degx68JSqe9NBWUATBLVTxILgisWna7vhmk2Ldnc3+miQF84GUyexs837NzJs3QJcu/zcMiugrPcww7KcZYmP0NQ3wJP37ZP0pNxiYzgGd2usmzHJVu1WGAiIpkCytJGuozgLm3F9hfaPTO2UTWKhq0zpCEkoBIfgutufJonNQAiuGVSSwAv2lR7MUKvkQFvdCZ+ALFW2mGOSlQAoMlpYfqLO6HBKoUNGyuQDjvamHTHWVg2fQBkiotTh2NEPLGV5jY/DBLt8ut0t4AXk5vYveVT9jPRWwwobhAtoMKZERv+01rmkIDZaWbnKwFXQQUiS3rWULbs9dFaCNKRUDL1Ezhc5iJLAz4jYfXEMoxnkenRdeQAtI77zbQ6kHGtb/jCMEeeGkzAtSDzSsH4rhvuM4Qx/V1JCQ7j/yEGIYQwjupC7h/eVJfKDP49FxxYqwWWmvvUNklY3JG5hKZvqf7z/3drC09Q539TdQgYl9zZ7FOjwQg5mBIk709JJXLlpemRw6h6gwHEvb+5whxGNpKEbMCxFSz9MTEcPKmQ04FWB8GC3iWvJUpPlBhyJHRiCbxCm0GBFOwhuTQ6MIiCOFj/kZ1ApEWN0/ewUB8aVA2zD2aoiKTAHPHFwFBi2x94Ivrw7ZeuwdlP1RBaG1YbS0tUHCv7WUCAbX7T0OBRhn6/QnhRbw0vhiCf7K+IowkHE37X1ODzBeJg9MQCGb1V+4/ek1nn6Plh+Ko6a9TxJCbI0JXUMgUgex+x5gWKnEBpYpnQgeLk5EQczeJ02nB0rLPxBiHsycPk9L41Wr/eTbR2uSCusrQv+tZUfsnT3ysXyRdHM9RLghrP2sESYKBa/DWFnWLd0HEqi5nkG9EIIrF54wORZk/VIFxMmHWV44IjBWdCs7uu7EcdTyaNOm5oHuZn2BqwLCC7QWub7YLigDbVr0bZoLiXpMJ0OJhF+saNPF5mN8QBWykqiUoY0wjvXKeNbzcOUrG6VC63VIdsFWQZYvx1l/xt/YAFCpscBdqgOqaISN7xJ+oPMAXT7MmWBTsK6HVMPFopELIrwg1BVTo3KXp+YNKEBYPY6+vKFNBV62I13yHVJEFMJSCAQXwi4mMFAII/gBSq9Z6zUlq3KQIgFTh69ZqS2EXKMweSEyXlrby+jSpUtk/gB2wEhpV3BI9QAAAABJRU5ErkJggg==\""],"sourceRoot":""}