{"version":3,"sources":["vue-plugin/JFlowPlugin.js"],"names":["JFLOW_NODES","JFLOW_LINKS","JFLOW_GROUPS","components","name","component","JFlowComponent","map","componentPrefix","install","Vue","options","prefixToUse","prefix","forEach","k","custom","Object","keys"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAMA,WAAW,GAAG;AAChB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,OARgB;AAShB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,WAhBgB;AAiBhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,SAxBgB;AAyBhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,SAhCgB;AAiChB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,SAxCgB;AAyChB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,MAhDgB;AAiDhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,MAxDgB,CAApB;AA0DA;AACA;AACA;AACA;AACA;;AACA,IAAMC,WAAW,GAAG,CAChB,MADgB,EAEhB,UAFgB;AAIhB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,YAXgB,CAApB;AAaA,IAAMC,YAAY,GAAG;AACjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,cARiB;AASjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,sBAhBiB;AAiBjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,cAxBiB;AAyBjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,sBAhCiB;AAiCjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,cAxCiB,CAArB;AA2CA,IAAMC,UAAU,IACZ;AACI;AACR;AACA;AACA;AACA;AACQC,EAAAA,IAAI,EAAE,OANV;AAOIC,EAAAA,SAAS,EAAEC;AAPf,CADY,EAUZ;AACI;AACR;AACA;AACA;AACA;AACQF,EAAAA,IAAI,EAAE,OANV;AAOIC,EAAAA,SAAS,EAAE,4BAAW,OAAX;AAPf,CAVY,4BAmBTH,YAAY,CAACK,GAAb,CAAiB,UAAAH,IAAI;AAAA,SAAK;AACzBA,IAAAA,IAAI,EAAJA,IADyB;AAEzBC,IAAAA,SAAS,EAAE,4BAAWD,IAAX;AAFc,GAAL;AAAA,CAArB,CAnBS,sBAuBTJ,WAAW,CAACO,GAAZ,CAAgB,UAAAH,IAAI;AAAA,SAAK;AACxBA,IAAAA,IAAI,EAAJA,IADwB;AAExBC,IAAAA,SAAS,EAAE,+BAAcD,IAAd;AAFa,GAAL;AAAA,CAApB,CAvBS,sBA2BTH,WAAW,CAACM,GAAZ,CAAgB,UAAAH,IAAI;AAAA,SAAK;AACxBA,IAAAA,IAAI,EAAJA,IADwB;AAExBC,IAAAA,SAAS,EAAE,2BAAUD,IAAV;AAFa,GAAL;AAAA,CAApB,CA3BS,EAAhB;AAgCA,IAAMI,eAAe,GAAG,GAAxB;AAEA;AACA;AACA;;eACe;AACX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,EAAAA,OAAO,EAAE,iBAACC,GAAD,EAAuB;AAAA,QAAjBC,OAAiB,uEAAP,EAAO;AAC5B,QAAIC,WAAW,GAAGJ,eAAlB;;AACA,QAAGG,OAAO,IAAIA,OAAO,CAACE,MAAtB,EAA6B;AACzBD,MAAAA,WAAW,GAAGD,OAAO,CAACE,MAAtB;AACH;;AAAA;AACDV,IAAAA,UAAU,CAACW,OAAX,CAAmB,UAAAC,CAAC,EAAI;AACpBL,MAAAA,GAAG,CAACL,SAAJ,WAAiBO,WAAjB,SAA+BG,CAAC,CAACX,IAAjC,GAAyCW,CAAC,CAACV,SAA3C;AACH,KAFD;;AAIA,QAAGM,OAAO,CAACK,MAAX,EAAmB;AACfC,MAAAA,MAAM,CAACC,IAAP,CAAYP,OAAO,CAACK,MAApB,EAA4BF,OAA5B,CAAoC,UAAAV,IAAI,EAAI;AACxCM,QAAAA,GAAG,CAACL,SAAJ,WAAiBO,WAAjB,SAA+BR,IAA/B,GAAuC,+BAAcO,OAAO,CAACK,MAAR,CAAeZ,IAAf,CAAd,CAAvC;AACH,OAFD;AAGH;AAEJ;AAxBU,C,EA2Bf","sourcesContent":["// import JFlowComponent from './components/JFlow';\nimport JFlowComponent from './components/JFlow';\nimport JFlowInstance from './components/JFlowInstance';\nimport JFlowLink from './components/JFlowLink';\nimport JFLowGroup from './components/JFlowGroup';\n \nconst JFLOW_NODES = [\n    /**\n     * JFlow {@link Point} 的 vue 封装 \n     * @module j-point\n     * @property {Point~PointConfigs} configs - 传给 Point 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Point',\n    /**\n     * JFlow {@link Rectangle} 的 vue 封装 \n     * @module j-rectangle\n     * @property {Rectangle~RectangleConfigs} configs - 传给 Rectangle 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Rectangle',\n    /**\n     * JFlow {@link Capsule} 的 vue 封装 \n     * @module j-capsule\n     * @property {Capsule~CapsuleConfigs} configs - 传给 Capsule 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Capsule',\n    /**\n     * JFlow {@link Diamond} 的 vue 封装 \n     * @module j-diamond\n     * @property {Diamond~DiamondConfigs} configs - 传给 Diamond 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Diamond',\n    /**\n     * JFlow {@link Rhombus} 的 vue 封装 \n     * @module j-rhombus\n     * @property {Rhombus~RhombusConfigs} configs - 传给 Diamond 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Rhombus',\n    /**\n     * JFlow {@link Text} 的 vue 封装 \n     * @module j-text\n     * @property {Text~TextConfigs} configs - 传给 Text 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Text',\n    /**\n     * JFlow {@link Icon} 的 vue 封装 \n     * @module j-icon\n     * @property {Icon~IconConfigs} configs - 传给 Icon 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'Icon',\n];\n/**\n * @typedef {BezierLink~Configs} j-bezier-link~Configs\n * @property {String} from   - 起始单元 jflowId\n * @property {String} to     - 终止单元 jflowId\n */\nconst JFLOW_LINKS = [\n    'Link',\n    'PolyLink',\n    \n    /**\n     * JFlow {@link BezierLink} 的 vue 封装 \n     * @module j-bezier-link\n     * @property {j-bezier-link~Configs} configs - 传给 BezierLink 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'BezierLink'\n]\nconst JFLOW_GROUPS = [\n    /**\n     * JFlow {@link CapsuleGroup} 的 vue 封装 \n     * @module j-capsule-group\n     * @property {CapsuleGroup~CapsuleGroupConfigs} configs - 传给 CapsuleGroup 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'CapsuleGroup',\n    /**\n     * JFlow {@link CapsuleVerticalGroup} 的 vue 封装 \n     * @module j-capsule-vertical-group\n     * @property {CapsuleGroup~CapsuleGroupConfigs} configs - 传给 CapsuleVerticalGroup 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'CapsuleVerticalGroup',\n    /**\n     * JFlow {@link DiamondGroup} 的 vue 封装 \n     * @module j-diamond-group\n     * @property {DiamondGroup~DiamondGroupConfigs} configs - 传给 DiamondGroup 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'DiamondGroup',\n    /**\n     * JFlow {@link DiamondVerticalGroup} 的 vue 封装 \n     * @module j-diamond-vertical-group\n     * @property {DiamondGroup~DiamondGroupConfigs} configs - 传给 DiamondVerticalGroup 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'DiamondVerticalGroup',\n    /**\n     * JFlow {@link RhombusGroup} 的 vue 封装 \n     * @module j-rhombus-group\n     * @property {RhombusGroup~RhombusGroupConfigs} configs - 传给 DiamondGroup 的配置\n     * @property {Boolean} visible - 可见状态\n     * @property {String} jflowId - 全局唯一ID，用于连线单元\n     */\n    'RhombusGroup',\n]\n\nconst components = [\n    {\n        /**\n         * JFlow {@link JFlow} 的 vue 封装 \n         * @module j-jflow\n         * @property {JFlow~JFlowConfigs} configs - 传给 JFlow 的配置\n         */\n        name: 'Jflow',\n        component: JFlowComponent,\n    },\n    {\n        /**\n         * JFlow {@link RectangleGroup} 的 vue 封装 \n         * @module j-group\n         * @property {RectangleGroup~RectangleGroupConfigs} configs - 传给 RectangleGroup 的配置\n         */\n        name: 'Group',\n        component: JFLowGroup('Group'),\n    }, \n    ...JFLOW_GROUPS.map(name => ({\n        name,\n        component: JFLowGroup(name)\n    })),\n    ...JFLOW_NODES.map(name => ({\n        name,\n        component: JFlowInstance(name)\n    })),\n    ...JFLOW_LINKS.map(name => ({\n        name,\n        component: JFlowLink(name)\n    })),\n];\nconst componentPrefix = 'j';\n\n/**\n * @module JFlowVuePlugin \n */\nexport default {\n    /**\n     * 安装 JFlowVuePlugin\n     * @function\n     * @param {Vue} Vue - Vue\n     * @param {Object} options - Vue plugin 配置\n     * @param {string} options.prefix - 组件前缀，默认是 j\n     * @param {Object} options.custom - 自定义组件，形式为 { key: {@link:Instance} }\n     */\n    install: (Vue, options = {}) => {\n        let prefixToUse = componentPrefix;\n        if(options && options.prefix){\n            prefixToUse = options.prefix;\n        };\n        components.forEach(k => {\n            Vue.component(`${prefixToUse}${k.name}`, k.component);\n        });\n\n        if(options.custom) {\n            Object.keys(options.custom).forEach(name => {\n                Vue.component(`${prefixToUse}${name}`, JFlowInstance(options.custom[name]));\n            })\n        }\n        \n    }\n}\n\n// export { * as JFlowInstance } from './components/JFlowInstance'; \n"],"file":"JFlowPlugin.js"}