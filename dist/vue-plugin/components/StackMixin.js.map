{"version":3,"sources":["vue-plugin/components/StackMixin.js"],"names":["provide","addToStack","addToLinkStack","removeFromStack","removeFromLinkStack","getInstanceByJFlowId","data","stack","methods","jflowId","obj","find","i","instance","_jflowInstance","push","link","onStackChangeHandler","recalculate","reflow"],"mappings":";;;;;;eAAe;AACXA,EAAAA,OADW,qBACF;AACL,WAAO;AACHC,MAAAA,UAAU,EAAE,KAAKA,UADd;AAEHC,MAAAA,cAAc,EAAE,KAAKA,cAFlB;AAGHC,MAAAA,eAAe,EAAE,KAAKA,eAHnB;AAIHC,MAAAA,mBAAmB,EAAE,KAAKA,mBAJvB;AAKHC,MAAAA,oBAAoB,EAAE,KAAKA;AALxB,KAAP;AAOH,GATU;AAUXC,EAAAA,IAVW,kBAUJ;AACH,WAAO;AACHC,MAAAA,KAAK,EAAE,EADJ,CACQ;;AADR,KAAP;AAGH,GAdU;AAeXC,EAAAA,OAAO,EAAE;AACLH,IAAAA,oBADK,gCACgBI,OADhB,EACyB;AAC1B,UAAMC,GAAG,GAAG,KAAKH,KAAL,CAAWI,IAAX,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACH,OAAF,KAAcA,OAAlB;AAAA,OAAjB,CAAZ;;AACA,UAAGC,GAAH,EAAQ;AACJ,eAAOA,GAAG,CAACG,QAAX;AACH;;AACD,aAAO,IAAP;AACH,KAPI;AAQLZ,IAAAA,UARK,sBAQMY,QARN,EAQgBJ,OARhB,EAQyB;AAC1B,WAAKK,cAAL,CAAoBb,UAApB,CAA+BY,QAA/B;;AACA,UAAG,CAACJ,OAAJ,EAAa;AACb,WAAKF,KAAL,CAAWQ,IAAX,CAAgB;AACZN,QAAAA,OAAO,EAAPA,OADY;AAEZI,QAAAA,QAAQ,EAARA;AAFY,OAAhB,EAH0B,CAO1B;AACH,KAhBI;AAiBLX,IAAAA,cAjBK,0BAiBUc,IAjBV,EAiBgB;AACjB,WAAKF,cAAL,CAAoBZ,cAApB,CAAmCc,IAAnC,EADiB,CAEjB;;AACH,KApBI;AAqBLb,IAAAA,eArBK,2BAqBWU,QArBX,EAqBqB;AACtB,WAAKC,cAAL,CAAoBX,eAApB,CAAoCU,QAApC,EADsB,CAEtB;;AACH,KAxBI;AAyBLT,IAAAA,mBAzBK,+BAyBeY,IAzBf,EAyBqB;AACtB,WAAKF,cAAL,CAAoBV,mBAApB,CAAwCY,IAAxC,EADsB,CAEtB;;AACH,KA5BI;AA6BLC,IAAAA,oBA7BK,kCA6BkB;AACnB,WAAKH,cAAL,CAAoBI,WAApB;;AACA,WAAKJ,cAAL,CAAoBK,MAApB,GAFmB,CAGnB;;AACH;AAjCI;AAfE,C","sourcesContent":["export default {\n    provide(){\n        return {\n            addToStack: this.addToStack,\n            addToLinkStack: this.addToLinkStack,\n            removeFromStack: this.removeFromStack,\n            removeFromLinkStack: this.removeFromLinkStack,\n            getInstanceByJFlowId: this.getInstanceByJFlowId,\n        }\n    },\n    data() {\n        return {\n            stack: [], // 主要是为了连线\n        }\n    },\n    methods: {\n        getInstanceByJFlowId(jflowId) {\n            const obj = this.stack.find(i => i.jflowId === jflowId);\n            if(obj) {\n                return obj.instance;\n            }\n            return null;\n        },\n        addToStack(instance, jflowId) {\n            this._jflowInstance.addToStack(instance);\n            if(!jflowId) return;\n            this.stack.push({\n                jflowId,\n                instance,\n            });\n            // this.$nextTick(this.onStackChangeHandler)\n        },\n        addToLinkStack(link) {\n            this._jflowInstance.addToLinkStack(link);\n            // this.$nextTick(this.onStackChangeHandler)\n        },\n        removeFromStack(instance) {\n            this._jflowInstance.removeFromStack(instance);\n            // this.$nextTick(this.onStackChangeHandler)\n        },\n        removeFromLinkStack(link) {\n            this._jflowInstance.removeFromLinkStack(link);\n            // this.$nextTick(this.onStackChangeHandler)\n        },\n        onStackChangeHandler() {\n            this._jflowInstance.recalculate();\n            this._jflowInstance.reflow();\n            // this.$nextTick(this.renderJFlow)\n        }\n    }\n}"],"file":"StackMixin.js"}