(function(t){function e(e){for(var i,r,s=e[0],c=e[1],h=e[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,h||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0dd9":function(t,e,n){"use strict";var i=n("87e5"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},1132:function(t,e,n){t.exports={root:"op-menu_root_omvQ4",title:"op-menu_title_1jWBs",list:"op-menu_list_1ohR4",icon:"op-menu_icon_1nkwD"}},1348:function(t,e,n){t.exports={root:"add-menu_root_3sqwT",title:"add-menu_title_7SCi7",list:"add-menu_list_x2GTu",icon:"add-menu_icon_1lZOX"}},"1eaf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWISURBVHgB7VndTxRXFD8zhQWKINv6EVqgYOJGwCjxxeiL60MjH/pgSupjbSLPYPkDgD+gcfuMjbxibXywKO0L24dC0sQGEi12m9SVtTaRtqyILuyyM54z68DM/Zi5uwxP7i8hy9y5c+f87j3fA1BGGe82NAgK9/6MgpnvwiXP4FUXmNCAvw1v76bxL4lvS+L4Auh6HHoOxyEA7IzA7ccNUL05CIYxBNvCqiKJr4+Dnh+DnvYklIjSCJDgVbkRMM0hCATaRKlEiicwnRiEvDkKxe+4H5Iozhj0RSaKeKZIAncT17x2vbm6Arr310JTTQX+Xwn1FfrWvYdrG/DwZRbm0uuQyuTk79C0GPRGroIi1AgUVOY2Ch8V3R5o3gvnUPDT4RpQwQMkc33pBdz856VsyjxkQ2fhYlvaby01Aj88msedOc4OnwpXQ6zjoLXzpSC1vglf//W/mIiGBt4bOeu3hj8BgdrUV+ow3BqGgZZgzGA8lYaRxH/8DQV18iYwlbgMYN5wDpHwt058DEf3hCBIkFr1//YMVnOG+4ZmXoXeIzHZc3IC9xZbwdRnMPC0Ood/OtkcuPA2JCTSaA9tMnvQpavl9VFW+LHDH+6a8ISje6pguC3MDhdijgTiE6DdN/THzqFLjXVwreMAeGE2nUGjXEF3uQGrm4blRjvrqqxnP8c/VXyGpzC3knEPZkNh0SmIT4B2n8FXhz4AGcib0Ev77xdeTMIT6Jeuh35/Did/eWIRU0FMtFGhrDD+iAnocMZ5STsoc5UkvC24F2ySKiToXQMte9nhQRCKysLKKt26f8XDXZLwqXWPyOoAnQiRsE/IC+f21bJDDXBnMcoO8gQMwzWpGdOCTonhUgASCU8BrhCd3+fukfDk9/1AUZ3SERfe07rYeSIVck063SBPD6aX17ix4UNh+B7jxFhkH9w41ohut4mbM45phAq6DzAbYEKUnSMgoH3ivOqok7vNWUzMnKCdH25zGzu5Rlaf6RTIJvzQxNkdn84ICJitzqtOFEAGNmq21FQK54nWULGDlmpuPc4YRSqknOBQWuHEUka8qyI7cabaMtTxc5QIKIPdWXKls4w7JVW5+cxtKyR8qRksC9Eq5CK2mHoddTd6Gdb/Uy5DceMUehESfnwpza3Rs78WSgTnvngCGk4ytwl4+fhLjfVwPbXKVViT6F4n5cUKLq8GquIYJNkBXbD6gvPyaUbuLUgVvj12kLMFP1D8oPTCD1SCMsI9Yefwb9bMuPNyevkVeIHc5K0TH2HAq4RioEJibmWdGdHm2Tk8gbzpmkR6POuT59gkKONkidDp2DUzCy8SpD6c+hpGnJ3H28CF9jhM/eEy5O/wRX4FO3kVO4sk0mQXRMbpbUhYtv6lVEUEQbROWrIxkCnvN86LSSvn8Y+cW0Kh0IVcxi0cEXTWBZR2sJGbYLlezglgkS+AmEA2xNWgKkanApuETHgCdSo4UOdOAHlNfOdRDHTNlYNTgkb6vJsYT73ADsW/zCi2HvsiX4rmy/3fZtUoMIGDdka1qioFD9ayAuFR9yW7T5AToPrTNF0P2gXJbpAg4fvv/y24Y3g2fb0j0Hnsxximy6CJxKe/PrWOOijQWiQ8l7bQu/vaJ7yeVWst3k3MiPqilPNQsb+T1iI5B2E9bZoLuIFdfmuoN3dDuRlcVbggEbmCRYtX7eAEtV9+fP5KforUF92ovBhcc9eGwDM5Yft/quKcZAoVWM7Kq6aXX3s3AUhtLhxR/nBS/AeOqcXLoOkjbOciABScxnl5H1SE0j4xUeeOml8afAFBgHad3LaCyrDY2Uc+mwg1woo/kTQmZyh4dawUwW0E95mVmk66HsUVj4Optb5tDmx/ZtWsoIiZrvmzlfEKErMyyiijeLwB4cdQiXqFZ0EAAAAASUVORK5CYII="},"2edc":function(t,e,n){"use strict";n("8364")},"56d7":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"Group",(function(){return Ae})),n.d(i,"CapsuleGroup",(function(){return Oe})),n.d(i,"RhombusGroup",(function(){return je})),n.d(i,"DiamondGroup",(function(){return _e})),n.d(i,"DiamondVerticalGroup",(function(){return Te})),n.d(i,"CapsuleVerticalGroup",(function(){return Se})),n.d(i,"PointGroup",(function(){return Ce})),n.d(i,"default",(function(){return Ee})),n.d(i,"JFLOW_MODE",(function(){return A})),n.d(i,"JFlowEvent",(function(){return dt})),n.d(i,"commonEventAdapter",(function(){return It})),n.d(i,"Instance",(function(){return V})),n.d(i,"Node",(function(){return Q})),n.d(i,"BaseLink",(function(){return Lt})),n.d(i,"Point",(function(){return kt})),n.d(i,"Rectangle",(function(){return Ot})),n.d(i,"Capsule",(function(){return _t})),n.d(i,"CapsuleVertical",(function(){return St})),n.d(i,"Diamond",(function(){return xt})),n.d(i,"Rhombus",(function(){return Pt})),n.d(i,"Text",(function(){return Yt})),n.d(i,"Icon",(function(){return Ht})),n.d(i,"ShadowDom",(function(){return qt})),n.d(i,"GroupFactory",(function(){return yt})),n.d(i,"Link",(function(){return Ut})),n.d(i,"PolyLink",(function(){return Kt})),n.d(i,"BezierLink",(function(){return te})),n.d(i,"LinearLayout",(function(){return ne})),n.d(i,"Lowcodelayout",(function(){return pe})),n.d(i,"ERLayout",(function(){return ke}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("2909"),r=n("d4ec"),s=n("bee2"),c=n("262e"),h=n("2caf"),l=n("9072");n("18a5"),n("9911"),n("d3b7"),n("159b"),n("99af");function u(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=t.getBoundingClientRect(),o=i.width,a=i.height,r=i.left,s=i.top;e.style.width=o+"px",e.style.height=a+"px",e.style.userSelect="none";var c=window.devicePixelRatio;return e.width=Math.floor(o*c),e.height=Math.floor(a*c),t&&(t.style.position="relative",t.style.overflow="hidden",t.append(e)),{canvas:e,width:o,height:a,raw_width:e.width,raw_height:e.height,left:r,top:s,ctx:n,scale:c}}function d(t,e){var n=e.getBoundingClientRect(),i=n.width,o=n.height;n.left,n.top;t.style.width=i+"px",t.style.height=o+"px";var a=window.devicePixelRatio;return t.width=Math.floor(i*a),t.height=Math.floor(o*a),{width:i,height:o,raw_width:t.width,raw_height:t.height}}var f=document.createElement("canvas");f.width=1,f.height=1;var v=f.getContext("2d"),g=window.devicePixelRatio;function p(t){v.clearRect(0,0,5,5),v.save(),t(v),v.restore(),v.clearRect(0,0,5,5)}v.scale(g,g);var m=n("3835"),b=n("4478"),y=(n("b64b"),n("caad"),n("2532"),n("bb46")),w={RIGHT:0,BOTTOM:1,LEFT:2,TOP:3,SELF:100};var k=6,A={DEFAULT:"DEFAULT",LINKING:"LINKING"};function O(t){if(0===t.length)return{width:1,height:1,x:0,y:0};var e=1/0,n=1/0,i=-1/0,o=-1/0;for(var a in t){var r=t[a];r[0]<e&&(e=r[0]),r[0]>i&&(i=r[0]),r[1]<n&&(n=r[1]),r[1]>o&&(o=r[1])}return{width:Math.max(i-e,10),height:Math.max(o-n,10),x:e,y:n}}function j(t){return t*t}function _(t,e){return j(t[0]-e[0])+j(t[1]-e[1])}function T(t,e,n){var i=_(e,n);if(0===i)return _(t,e);var o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/i;return o=Math.max(0,Math.min(1,o)),_(t,[e[0]+o*(n[0]-e[0]),e[1]+o*(n[1]-e[1])])}function S(t,e){var n={fromDir:null,fromP:null,toDir:null,toP:null,distMin:1/0};return Object.keys(t).forEach((function(i){if(+i!==w.SELF){var o=t[i];Object.keys(e).forEach((function(t){if(+t!==w.SELF){var a=e[t],r=_(o,a);r<n.distMin&&Object.assign(n,{distMin:r,fromDir:+i,fromP:o,toDir:+t,toP:a})}}))}})),n}function C(t,e,n,i){return e===w.TOP?[t[0],t[1]-i]:e===w.BOTTOM?[t[0],t[1]+i]:e===w.LEFT?[t[0]-n,t[1]]:e===w.RIGHT?[t[0]+n,t[1]]:void 0}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.TOP,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.TOP,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=Math.max(Math.abs((t[0]-e[0])/2),o),c=Math.max(Math.abs((t[1]-e[1])/2),r),h=C(t,n,s,c),l=C(e,i,s,c),u=[w.TOP,w.LEFT].includes(i)?-5:5,d=[w.TOP,w.BOTTOM].includes(i),f=d?e[0]:e[0]+u,v=d?e[1]+u:e[1];return[].concat(Object(a["a"])(h),Object(a["a"])(l),[f,v])}function E(t,e){var n=1-t,i=n*n*n*e[0]+3*n*n*t*e[2]+3*n*t*t*e[4]+t*t*t*e[6],o=n*n*n*e[1]+3*n*n*t*e[3]+3*n*t*t*e[5]+t*t*t*e[7],a=n*n*(e[2]-e[0])+2*t*n*(e[4]-e[2])+t*t*(e[6]-e[4]),r=n*n*(e[3]-e[1])+2*t*n*(e[5]-e[3])+t*t*(e[7]-e[5]),s=Math.atan2(r,a);return[i,o,s]}function x(t,e){var n=Object(b["a"])(y["Bezier"],Object(a["a"])(e)),i=n.project({x:t[0],y:t[1]}),o=_(t,[i.x,i.y]);return o}function M(t,e,n,i,o,a,r,s,c){var h=Math.pow(1-t,2)*(i-e)+2*t*(1-t)*(a-i)+t*t*(s-a),l=Math.pow(1-t,2)*(o-n)+2*t*(1-t)*(r-o)+t*t*(c-r);return-Math.atan2(h,l)+.5*Math.PI}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.TOP,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.TOP,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,r=arguments.length>6?arguments[6]:void 0,s=Math.abs(n-i),c=n===w.TOP||n===w.BOTTOM,h=[];switch(s){case 0:if(n===w.TOP){var l=Math.min(t[1],e[1]),u=l-a;h.push([t[0],u]),h.push([e[0],u])}if(n===w.BOTTOM){var d=Math.max(t[1],e[1]),f=d+a;h.push([t[0],f]),h.push([e[0],f])}if(n===w.LEFT){var v=Math.min(t[0],e[0]),g=v-o;h.push([g,t[1]]),h.push([g,e[1]])}if(n===w.RIGHT){var p=Math.max(t[0],e[0]),m=p+o;h.push([m,t[1]]),h.push([m,e[1]])}break;case 1:case 3:if(r)c?(h.push([t[0],t[1]+a]),h.push([e[0]+o,t[1]+a]),h.push([e[0]+o,e[1]])):(h.push([t[0]+o,t[1]]),h.push([t[0]+o,e[1]+a]),h.push([e[0],e[1]+a]));else{var b=c?[t[0],e[1]]:[e[0],t[1]];h.push(b)}break;case 2:var y=[(t[0]-e[0])/2+e[0],(t[1]-e[1])/2+e[1]];c?(h.push([t[0],y[1]]),h.push([e[0],y[1]])):(h.push([y[0],t[1]]),h.push([y[0],e[1]]));break;default:break}return h.unshift(t),h.push(e),h}function I(t,e){return[t[0]-e[0],t[1]-e[1]]}function D(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function L(t,e){return[t[0]*e,t[1]*e]}function R(t,e,n,i){var o=I(e,t),a=I(e,n),r=D(o),s=D(a);if(!r||!s)return{p1:null,p2:null};var c=L(o,i/r),h=L(a,i/s);return{p1:I(e,c),p2:I(e,h)}}function F(t,e){return t[0]!=t[2]&&t[1]!=t[3]&&e[0]!=e[2]&&e[1]!=e[3]&&!(t[2]<=e[0]||t[3]<=e[1]||t[0]>=e[2]||t[1]>=e[3])}function N(t,e){var n=t[0],i=t.length,o=1,a=Object(m["a"])(e,4),r=a[0],s=a[1],c=a[2],h=a[3];while(o<i){var l=t[o];if(n[0]===l[0]){if(n[0]<c&&n[0]>r&&!(n[1]>h&&l[1]>h||n[1]<s&&l[1]<s))return!0}else if(n[1]<h&&n[1]>s&&!(n[0]>c&&l[0]>c||n[0]<r&&l[0]<r))return!0;n=l,o++}return!1}var Y=n("ade3"),X=n("257e"),H=(n("a4d3"),n("e01a"),Symbol("ishit")),W=Symbol("isInViewBox"),G=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this),Object.assign(Object(X["a"])(t),i),t.visible=!0,t._belongs=void 0,t[H]=!1,t.borderWidth=i.borderWidth||0,t.borderColor=i.borderColor||"transparent",t.backgroundColor=i.backgroundColor||"transparent",t.shadowColor=i.shadowColor,t.shadowBlur=i.shadowBlur||5,t.shadowOffsetX=i.shadowOffsetX||0,t.shadowOffsetY=i.shadowOffsetY||0,t.opacity=i.opacity||1,t}return Object(s["a"])(n,[{key:"_isTargeting",get:function(){return this===(this._jflow._target.instance||this._jflow._target.link)}},{key:"_isMoving",get:function(){return this===this._jflow._getMovingTarget()}},{key:"_isHit",get:function(){return this[H]},set:function(t){this[H]!==t&&this.dispatchEvent(new CustomEvent(t?"mouseenter":"mouseleave",{detail:{instance:this,jflow:this._jflow}})),this[H]=t}},{key:"_jflow",get:function(){return"jflow"===this._belongs.uniqueName?this._belongs:this._belongs._jflow}},{key:"isInViewBox",get:function(){return this[W]}},{key:"_isInViewBox",set:function(t){var e=this[W];t!==e&&(t?this.onEnterViewbox():this.onLeaveViewbox()),this[W]=t}},{key:"onEnterViewbox",value:function(){}},{key:"onLeaveViewbox",value:function(){}},{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n])}))}},{key:"render",value:function(t){throw"require render implement"}},{key:"isHit",value:function(t){throw"require isHit implement"}},{key:"getBoundingRect",value:function(){throw"require getBoundingRect implement"}},{key:"calculateIntersection",value:function(){throw"require calculateIntersection implement"}},{key:"getIntersectionsInFourDimension",value:function(){throw"require getIntersectionsInFourDimension implement"}},{key:"getCenter",value:function(){return this.anchor}},{key:"getBoundingDimension",value:function(){var t=instance.getBoundingRect(),e=1/0,n=-1/0,i=1/0,o=-1/0;return t.forEach((function(t){n=Math.max(n,t[1]),e=Math.min(e,t[1]),o=Math.max(o,t[0]),i=Math.min(i,t[0])})),{height:n-e,width:o-i}}},{key:"bubbleEvent",value:function(t){t.detail.currentTarget=this,this.dispatchEvent(t),t.detail.bubbles&&(this._belongs.bubbleEvent?this._belongs.bubbleEvent(t):this._belongs.dispatchEvent(t))}},{key:"calculateToRealWorld",value:function(t){return this._belongs&&this._belongs.calculateToRealWorld?this._belongs.calculateToRealWorld(t):t}},{key:"calculateToRealWorldWithScalar",value:function(t){return this._jflow.scale*t}},{key:"recalculateUp",value:function(){this.belongs&&this.belongs.recalculateUp()}},{key:"destroy",value:function(){this._belongs=void 0}}]),n}(Object(l["a"])(EventTarget)),V=G,q=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this,i),t._rawConfigs=i,t.anchor=i.anchor||[0,0],t.absolutePosition=i.absolutePosition,t}return Object(s["a"])(n,[{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],e._rawConfigs[n]=t[n])}))}},{key:"setAnchorX",value:function(t){this.anchor[0]=t}},{key:"setAnchorY",value:function(t){this.anchor[1]=t}},{key:"setAnchor",value:function(t,e){this.anchor[0]=t,this.anchor[1]=e}},{key:"clone",value:function(){var t=this.constructor,e=new t(this._rawConfigs);return e.visible=this.visible,e}}]),n}(V),Q=q,U=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){return Object(r["a"])(this,n),e.call(this,t)}return Object(s["a"])(n,[{key:"render",value:function(t){}},{key:"isHit",value:function(t){return!1}},{key:"calculateIntersection",value:function(t){return this.anchor}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1];return t={},Object(Y["a"])(t,w.RIGHT,[n,i]),Object(Y["a"])(t,w.LEFT,[n,i]),Object(Y["a"])(t,w.BOTTOM,[n,i]),Object(Y["a"])(t,w.TOP,[n,i]),t}}]),n}(Q),J=U;n("3ca3"),n("10d1"),n("ddb0");function z(){return{layoutNode:void 0,jflowNode:void 0}}var K=function(){function t(){Object(r["a"])(this,t),this._map=new WeakMap}return Object(s["a"])(t,[{key:"get",value:function(t){return this._map.get(t)}},{key:"set",value:function(t){var e=z();return this._map.set(t,e),e}},{key:"has",value:function(t){return this._map.has(t)}},{key:"delete",value:function(t){this._map.delete(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Z={initNodeWeakMap:function(){this.source_Layout_Render_NodeMap=new K},getRenderNodeBySource:function(t){var e=this.source_Layout_Render_NodeMap.get(t);if(e)return e.jflowNode},getLayoutNodeBySource:function(t){var e=this.source_Layout_Render_NodeMap.get(t);if(e)return e.layoutNode},_getMap:function(t){var e,n=this.source_Layout_Render_NodeMap;return e=n.has(t)?n.get(t):n.set(t),e},setLayoutNodeBySource:function(t,e){var n=this._getMap(t);n.layoutNode=e},setRenderNodeBySource:function(t,e){var n=this._getMap(t);n.jflowNode=e}},$=(n("c740"),n("a434"),function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t._currentHit=null,t}return Object(s["a"])(n,[{key:"render",value:function(t,e){var n;this.forEach((function(i){i._isMoving?n=i:!i.visible||e&&!e(i)||(t.save(),i.render(t),t.restore())})),n&&(t.save(),n.render(t),t.restore())}},{key:"checkHit",value:function(t,e,n){var i=this.length-1;while(i>=0){var o=this[i];if(o.visible&&!o.ignoreHit){if(e&&e(o)){i--;continue}if(n&&!n(o)){i--;continue}var a=o.isHit(t,e);if(o._isHit=!!a,a)return this._currentHit!==o&&(this._currentHit&&(this._currentHit._isHit=!1),this._currentHit=o),"boolean"!==typeof a?a:o}i--}return this._currentHit=null,null}},{key:"getBoundingRectPoints",value:function(){var t=[];return this.forEach((function(e){if(e.visible&&!e.absolutePosition){var n=e.getBoundingRect();t.push([n[0],n[1]]),t.push([n[2],n[3]])}})),t}},{key:"getAnchorRectPoints",value:function(){var t=[];return this.forEach((function(e){e.visible&&!e.absolutePosition&&t.push(e.anchor)})),t}}]),n}(Object(l["a"])(Array))),tt=$,et={instances:[],links:[],_stack:null,_linkStack:null,initStack:function(t){var e=this,n=t.data;this._stack=new tt,this._linkStack=new tt,n&&(this.instances=n.instances,this.links=n.links,this.instances.forEach((function(t){e._stack.push(t),t._belongs=e})),this.links.forEach((function(t){e._linkStack.push(t),t._belongs=e})))},addToStack:function(t){t._belongs=this,this._stack.push(t)},replaceFromStack:function(t,e){var n=this._stack.findIndex((function(e){return e===t}));this._stack.splice(n,1,e),t._belongs=null,e._belongs=this},addToLinkStack:function(t){t._belongs=this,this._linkStack.push(t)},removeFromStack:function(t){var e=this._stack.findIndex((function(e){return e===t}));this._stack.splice(e,1)},removeFromLinkStack:function(t){var e=this._linkStack.findIndex((function(e){return e===t}));this._linkStack.splice(e,1)},emptyLink:function(){this._linkStack=new tt},resetChildrenPosition:function(){this._stack.forEach((function(t){t.anchor=[0,0]}))},addInstanceToLink:function(t,e){this.addToStack(e);var n=t.from,i=t.to,o=this._linkStack.findIndex((function(e){return e===t})),a=t.__proto__.constructor,r=new a({from:n,to:e});r._belongs=this;var s=new a({from:e,to:i});s._belongs=this,this._linkStack.splice(o,1,r,s)},interateNodeStack:function(t){this._stack.forEach((function(e){t(e)}))}},nt=et,it={_layout:null,initLayout:function(t){this._layout=t.layout},recalculateUp:function(){var t=!0;if(this.getBoundingDimension){var e=this.getBoundingDimension(),n=e.width,i=e.height;this.resetChildrenPosition&&this.resetChildrenPosition(),this._getBoundingGroupRect&&this._getBoundingGroupRect(),this.reflow(),this._getBoundingGroupRect&&this._getBoundingGroupRect();var o=this.getBoundingDimension(),a=o.width,r=o.height;t=n!==a||i!==r}else this.reflow();this._belongs&&t&&this._belongs.recalculateUp()},recalculate:function(){this.reflow(),this._getBoundingGroupRect&&this._getBoundingGroupRect()},staticCheck:function(t){return!!this._layout&&this._layout.staticCheck(t,this)},reflow:function(){this._layout&&this._layout.reflow(this)}},ot=it,at={_message:null,sendMessage:function(t){this._message=t},consumeMessage:function(){var t=this._message;return this._message=null,t},readMessage:function(){return this._message}},rt=at,st={initAnime:function(){this.anime_queue=[],this.__animeClock__=void 0},requestJFlowAnime:function(t){console.log("requestJFlowAnime");var e=this.enqueueAnime(t);return this._runAnime(),e},enqueueAnime:function(t){var e=this,n={start:void 0,callback:t,cancel:function(){e._cancelAnime(n),e._render()}};return this.anime_queue.push(n),n},_cancelAnime:function(t){var e=this.anime_queue.findIndex((function(e){return e===t}));~e&&this.anime_queue.splice(e,1)},runAnime:function(){this._runAnime()},_runAnime:function(){var t=this;this.anime_queue.length&&this.scheduleRender((function(e){t.__animeClock__!==e&&t._runAnime(),t.__animeClock__=e}))},runAnimeFrame:function(){this.anime_queue.forEach((function(t){var e=Date.now();t.start||(t.start=e);var n=e-t.start;t.callback(n)}))}},ct={captureMap:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._getBoundingGroupRect();var i=this.bounding_box,o=i.width,a=i.height,r=(i.x,i.y,this.miniMap);if(!r){this.miniMap=u(t);var s=this.miniMap,c=s.width,h=s.height,l=s.raw_width,d=s.raw_height;this.addEventListener("zoompan",(function(){e._renderMap&&e._renderMap()}));var f=!1;this.miniMap.canvas.addEventListener("pointerdown",(function(t){var n=t.offsetX,i=t.offsetY;t.deltaX,t.deltaY;f=!0,e._onMoveMap&&e._onMoveMap(n,i)})),this.miniMap.canvas.addEventListener("pointermove",(function(t){var n=t.offsetX,i=t.offsetY;t.deltaX,t.deltaY;f&&e._onMoveMap&&e._onMoveMap(n,i),(i<5||n<5||n>c-5||i>h-5)&&(f=!1)})),this.miniMap.canvas.addEventListener("pointerup",(function(){f=!1}));var v=document.createElement("canvas");v.width=l,v.height=d,this.cacheMinimapCtx=v.getContext("2d")}var g=this.miniMap,p=g.width,b=g.height,y=g.raw_width,w=g.raw_height,k=(g.left,g.top,g.scale),A=g.ctx,O=2*n,j=n,_=(p-O)/o,T=(b-O)/a,S=Math.min(_,T),C=0,P=0;_<T?(P=(b-a*S+j)/2,C=j):(C=(p-o*S+j)/2,P=j);var E=this.cacheMinimapCtx;E.setTransform(),E.clearRect(0,0,y,w),E.scale(k,k),E.transform(S,0,0,S,C,P);var x=[0,0,0,0];this.NodeRenderTop?(this._linkStack.render(E,(function(t){return t.isInViewBox(x),!0})),this._stack.render(E)):(this._stack.render(E),this._linkStack.render(E,(function(t){return t.isInViewBox(x),!0})));var M=E.getImageData(0,0,y,w);this._renderMap=function(){A.save(),A.setTransform(),A.clearRect(0,0,y,w),A.scale(k,k),A.putImageData(M,0,0),A.transform(S,0,0,S,C,P);var t=e._getViewBox(),n=Object(m["a"])(t,4),i=n[0],o=n[1],a=n[2],r=n[3];A.beginPath(),A.rect(i,o,a-i,r-o),A.setTransform(),A.rect(0,0,y,w),A.clip("evenodd"),A.fillStyle="rgba(0,0,0,0.4)",A.fillRect(0,0,y,w),A.restore()},this._renderMap(),this._onMoveMap=function(t,n){var i=e._getViewBox(),o=Object(m["a"])(i,4),a=o[0],r=o[1],s=o[2],c=o[3],h=(s-a)/2+a,l=(c-r)/2+r,u=[h*S+C,l*S+P];e._recalculatePosition((u[0]-t)/S*e.scale,(u[1]-n)/S*e.scale),e._render(),e._renderMap()}}},ht={initSchedule:function(){this.__clock__=void 0},scheduleRender:function(t){var e=this;requestAnimationFrame((function(n){var i=e.__clock__!==n;i&&e.__render(),t&&t(n),e.__clock__=n}))}},lt=n("5530"),ut=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["a"])(this,n);var o=Object(lt["a"])(Object(lt["a"])({},i),{},{originEvent:i.event,target:i.target,jflow:i.jflow,bubbles:i.bubbles||!1});return e.call(this,t,{detail:o})}return Object(s["a"])(n)}(Object(l["a"])(CustomEvent)),dt=ut;function ft(){return{canvas:{wheel:function(t,e){t.preventDefault();var n=t.offsetX,i=t.offsetY,o=t.deltaX,a=t.deltaY;t.ctrlKey?(a=-a,e.zoomHandler(n,i,o,a,t)):e.panHandler(-o,-a,t)},pointerdown:function(t,e){var n=t.offsetX,i=t.offsetY,o=(t.deltaY,t.button);0===o&&e.pressStartHandler(n,i,t)},pointermove:function(t,e){var n=t.offsetX,i=t.offsetY;e.pressMoveHandler(n,i,t)},pointerup:function(t,e){t.preventDefault(),t.stopPropagation();var n=t.button;0===n&&e.pressUpHanlder(!1,t)},contextmenu:function(t,e){t.preventDefault(),t.stopPropagation();var n=t.offsetX,i=t.offsetY;e.contextMenuHanlder(n,i,t)},dblclick:function(t,e){t.preventDefault(),t.stopPropagation();var n=t.offsetX,i=t.offsetY;e.dblclickHandler(n,i,t)},click:function(t,e){t.preventDefault(),t.stopPropagation();var n=t.offsetX,i=t.offsetY;e.clickHanlder(n,i,t)}},document:{pointerup:function(t,e){e.pressUpHanlder(!0,t)}}}}var vt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,t),this.plugin=ft(),this.use(e),this.canvasHandlers=[],this.documentHandlers=[]}return Object(s["a"])(t,[{key:"use",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.canvas,n=t.document;if(e)for(var i in e)e.hasOwnProperty(i)&&(this.plugin.canvas[i]=e[i]);if(n)for(var o in n)n.hasOwnProperty(o)&&(this.plugin.document[o]=n[o])}},{key:"apply",value:function(t){var e=this,n=this.plugin,i=n.canvas,o=n.document,a=t.canvas,r=function(n){var o=i[n];function r(e){o(e,t)}a.addEventListener(n,r),e.canvasHandlers.push({eventName:n,handlerWrapperd:r})};for(var s in i)r(s);var c=function(n){var i=o[n];function a(e){i(e,t)}document.addEventListener(n,a),e.documentHandlers.push({eventName:n,handlerWrapperd:a})};for(var h in o)c(h)}},{key:"unload",value:function(t){var e=t.canvas;this.canvasHandlers.forEach((function(t){var n=t.eventName,i=t.handlerWrapperd;e.removeEventListener(n,i)})),this.documentHandlers.forEach((function(t){var e=t.eventName,n=t.handlerWrapperd;document.removeEventListener(e,n)}))}}]),t}(),gt=vt,pt=Object(lt["a"])(Object(lt["a"])(Object(lt["a"])({},nt),ot),{},{_setPadding:function(t){this.padding={top:t.paddingTop||t.padding||0,right:t.paddingRight||t.padding||0,bottom:t.paddingBottom||t.padding||0,left:t.paddingLeft||t.padding||0}},_setMargin:function(t){this.margin={top:t.marginTop||t.margin||0,right:t.marginRight||t.margin||0,bottom:t.marginBottom||t.margin||0,left:t.marginLeft||t.margin||0}},_getCenter:function(){var t=this.anchor,e=this.padding,n=this.margin,i=(n.left-n.right)/2,o=(n.top-n.bottom)/2,a=(e.left-e.right)/2+i,r=(e.top-e.bottom)/2+o;return this._shape.anchor=[t[0]+i,t[1]+o],[t[0]+a,t[1]+r]},setAnchorX:function(t){this.anchor[0]=t,this._getCenter()},setAnchorY:function(t){this.anchor[1]=t,this._getCenter()},setAnchor:function(t,e){this.anchor[0]=t,this.anchor[1]=e,this._getCenter()},_calculatePointBack:function(t){var e=Object(m["a"])(t,2),n=e[0],i=e[1],o=this._getCenter(),a=Object(m["a"])(o,2),r=a[0],s=a[1],c=[n-r,i-s];return c},calculateToCoordination:function(t){var e=Object(m["a"])(t,2),n=e[0],i=e[1],o=this._getCenter(),a=Object(m["a"])(o,2),r=a[0],s=a[1],c=[n+r,i+s];return this._belongs&&this._belongs.calculateToCoordination?this._belongs.calculateToCoordination(c):c},calculateToRealWorld:function(t){var e=Object(m["a"])(t,2),n=e[0],i=e[1],o=this._getCenter(),a=Object(m["a"])(o,2),r=a[0],s=a[1],c=[n+r,i+s];if(this._belongs&&this._belongs.calculateToRealWorld)return this._belongs.calculateToRealWorld(c)},clone:function(){var t=this.constructor,e=Object.assign({},this._rawConfigs,{layout:this._layout&&this._layout.clone()}),n=new t(e);return this.interateNodeStack((function(t){n.addToStack(t.clone())})),n.recalculate(),n.visible=this.visible,n},getBoundingDimension:function(){return{width:this.width,height:this.height}},getBoundingRect:function(){var t=this.anchor,e=this.width/2,n=this.height/2,i=t[0]-e,o=t[1]-n,a=t[0]+e,r=t[1]+n;return[i,o,a,r]},getIntersectionsInFourDimension:function(){var t,e=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(e=this._belongs.calculateToCoordination(e));var n=e,i=Object(m["a"])(n,2),o=i[0],a=i[1],r=this.width/2,s=this.height/2;return t={},Object(Y["a"])(t,w.RIGHT,[o+r,a]),Object(Y["a"])(t,w.LEFT,[o-r,a]),Object(Y["a"])(t,w.BOTTOM,[o,a+s]),Object(Y["a"])(t,w.TOP,[o,a-s]),Object(Y["a"])(t,w.SELF,[o+.618*r,a+.618*s]),t},calculateIntersection:function(t){var e,n,i=Object(m["a"])(t,2),o=i[0],a=i[1],r=Object(m["a"])(this.anchor,2),s=r[0],c=r[1],h=this.width/2,l=this.height/2,u=s-o,d=c-a,f=l/h,v=Math.abs(d/u),g=o>s,p=a>c;return v<f?(e=s+(g?h:-h),n=h*(p?v:-v)+c):(n=c+(p?l:-l),e=l/(g?v:-v)+s),[e,n]},onEnterViewbox:function(){this.interateNodeStack((function(t){t.onEnterViewbox()}))},onLeaveViewbox:function(){this.interateNodeStack((function(t){t.onLeaveViewbox()}))},destroy:function(){this._shape.destroy(),this.interateNodeStack((function(t){t.destroy()}))}});function mt(t,e){return[t,e]}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="function"===typeof e.shapeShift?e.shapeShift:mt,i=function(e){Object(c["a"])(i,e);var n=Object(h["a"])(i);function i(e){var o,a;return Object(r["a"])(this,i),a=n.call(this,e),a.initStack(e),a.initLayout(e),a._shape=new t(e),a._shape.anchor=[0,0],a._shape._belongs=Object(X["a"])(a),a._setPadding(e),a._setMargin(e),a.definedWidth=e.width,a.minWidth=e.minWidth,a.definedHeight=e.height,a.lock=null===(o=e.lock)||void 0===o||o,a.display=e.display||"default",a._getBoundingGroupRect(),a.reflow(),a._getBoundingGroupRect(),a}return Object(s["a"])(i)}(Q);return Object.assign(i.prototype,pt),Object.assign(i.prototype,{reflow:function(){pt.reflow.call(this);var t=this.margin,e=n(this.width-t.left-t.right,this.height-t.top-t.bottom,this._shape),i=Object(m["a"])(e,2),o=i[0],a=i[1];this._shape.width=o,this._shape.height=a},setConfig:function(t){this._shape.setConfig(t),this._setPadding(t),this._setMargin(t),"opacity"in t&&(this.opacity=t.opacity),t.layout&&this._layout!==t.layout&&(this._layout=t.layout)},_getBoundingGroupRect:function(){var t=this._stack.getBoundingRectPoints(),e=O(t),i=this.padding,o=this.minWidth-i.left-i.right,a=this.definedWidth-i.left-i.right,r=e.width+i.left+i.right,s=e.height+i.top+i.bottom,c=o?Math.max(o,r):a||r,h=this.definedHeight||s;this._paddingWidth=c,this._paddingHeight=h;var l=n(c,h,this._shape),u=Object(m["a"])(l,2),d=u[0],f=u[1];this._shape.width=d,this._shape.height=f;var v=this.margin;this.width=d+v.left+v.right,this.height=f+v.top+v.bottom},render:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6);var e=this._getCenter(),n=Object(m["a"])(e,2),i=n[0],o=n[1];this._shape.render(t),t.translate(i,o),this._stack.render(t),this._linkStack.render(t),t.translate(-i,-o),t.restore()},isHit:function(t,e){var n=this._calculatePointBack(t);this._currentp=n;var i=this._stack.checkHit(n,e);return i||this._shape.isHit(t)}}),i}var yt=bt,wt=(n("cb29"),function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.type="Point",i.radius=t.radius||10,i}return Object(s["a"])(n,[{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6),t.beginPath(),t.arc(this.anchor[0],this.anchor[1],this.radius,0,2*Math.PI),t.fillStyle=this.backgroundColor,t.fill(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.restore()}},{key:"isHit",value:function(t){var e=this.anchor;return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)<this.radius*this.radius}},{key:"getBoundingRect",value:function(){var t=this.anchor,e=this.radius,n=t[0]-e,i=t[1]-e,o=t[0]+e,a=t[1]+e;return[n,i,o,a]}},{key:"calculateIntersection",value:function(t){var e=Object(m["a"])(t,2),n=e[0],i=e[1],o=Object(m["a"])(this.anchor,2),a=o[0],r=o[1],s=a-n,c=r-i,h=Math.sqrt(s*s+c*c),l=this.radius/h;return[a-l*s,r-l*c]}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1],o=this.radius;return t={},Object(Y["a"])(t,w.RIGHT,[n+o,i]),Object(Y["a"])(t,w.LEFT,[n-o,i]),Object(Y["a"])(t,w.BOTTOM,[n,i+o]),Object(Y["a"])(t,w.TOP,[n,i-o]),t}},{key:"calculateIntersectionInFourDimension",value:function(t,e){var n,i=Object(m["a"])(t,2),o=i[0],a=i[1],r=Object(m["a"])(this.anchor,2),s=r[0],c=r[1],h=this.radius,l=s-o,u=c-a,d=(n={},Object(Y["a"])(n,w.RIGHT,[s+h,c]),Object(Y["a"])(n,w.LEFT,[s-h,c]),Object(Y["a"])(n,w.BOTTOM,[s,c+h]),Object(Y["a"])(n,w.TOP,[s,c-h]),n),f=Math.abs(u)>Math.abs(l)?u<0?w.BOTTOM:w.TOP:l<0?w.RIGHT:w.LEFT;return{p:d[f],dir:f}}},{key:"getBoundingDimension",value:function(){return{width:2*this.radius,height:2*this.radius}}}]),n}(Q)),kt=wt,At=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this,i),t.type="Rectangle",t.width=i.width||10,t.height=i.height||10,t.borderRadius=i.borderRadius||0,t._setBorder(i),t}return Object(s["a"])(n,[{key:"_setBorder",value:function(t){var e,n,i,o,a,r,s,c,h,l,u,d,f,v,g,p,m,b,y,w,k,A,O,j;this.border={top:{color:(null===(e=t.border)||void 0===e||null===(n=e.top)||void 0===n?void 0:n.borderColor)||t.borderColor||"transparent",width:(null===(i=t.border)||void 0===i||null===(o=i.top)||void 0===o?void 0:o.borderWidth)||t.borderWidth||0,enable:null===(a=t.border)||void 0===a||null===(r=a.top)||void 0===r?void 0:r.borderWidth},right:{color:(null===(s=t.border)||void 0===s||null===(c=s.right)||void 0===c?void 0:c.borderColor)||t.borderColor||"transparent",width:(null===(h=t.border)||void 0===h||null===(l=h.right)||void 0===l?void 0:l.borderWidth)||t.borderWidth||0,enable:null===(u=t.border)||void 0===u||null===(d=u.right)||void 0===d?void 0:d.borderWidth},bottom:{color:(null===(f=t.border)||void 0===f||null===(v=f.bottom)||void 0===v?void 0:v.borderColor)||t.borderColor||"transparent",width:(null===(g=t.border)||void 0===g||null===(p=g.bottom)||void 0===p?void 0:p.borderWidth)||t.borderWidth||0,enable:null===(m=t.border)||void 0===m||null===(b=m.bottom)||void 0===b?void 0:b.borderWidth},left:{color:(null===(y=t.border)||void 0===y||null===(w=y.left)||void 0===w?void 0:w.borderColor)||t.borderColor||"transparent",width:(null===(k=t.border)||void 0===k||null===(A=k.left)||void 0===A?void 0:A.borderWidth)||t.borderWidth||0,enable:null===(O=t.border)||void 0===O||null===(j=O.left)||void 0===j?void 0:j.borderWidth}},this.borderColor=t.borderColor||"transparent",this.borderWidth=t.borderWidth||0}},{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],e._rawConfigs[n]=t[n])})),this._setBorder(t)}},{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6);var e=this.borderRadius,n=(this.anchor,this.width),i=this.height,o=this.anchor[0]-this.width/2,a=this.anchor[1]-this.height/2,r=this.anchor[0]+this.width/2,s=this.anchor[1]+this.height/2;this.borderRadius?(t.beginPath(),t.moveTo(o+e,a),t.lineTo(o+n-e,a),t.quadraticCurveTo(o+n,a,o+n,a+e),t.lineTo(o+n,a+i-e),t.quadraticCurveTo(o+n,a+i,o+n-e,a+i),t.lineTo(o+e,a+i),t.quadraticCurveTo(o,a+i,o,a+i-e),t.lineTo(o,a+e),t.quadraticCurveTo(o,a,o+e,a),t.closePath(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke())):(t.beginPath(),t.rect(this.anchor[0]-this.width/2,this.anchor[1]-this.height/2,this.width,this.height)),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),this.borderRadius?this.border.top.enable&&(t.save(),t.beginPath(),t.moveTo(o,a+e),t.quadraticCurveTo(o,a,o+e,a),t.lineTo(o+n-e,a),t.quadraticCurveTo(o+n,a,o+n,a+e),t.closePath(),t.clip(),t.beginPath(),t.rect(o,a,this.width,this.border.top.width),t.fillStyle=this.border.top.color,t.fill(),t.restore()):(this.border.top.width&&(t.beginPath(),t.moveTo(o,a),t.lineTo(r,a),t.strokeStyle=this.border.top.color,t.lineWidth=this.border.top.width,t.stroke()),this.border.right.width&&(t.beginPath(),t.moveTo(r,a),t.lineTo(r,s),t.strokeStyle=this.border.right.color,t.lineWidth=this.border.right.width,t.stroke()),this.border.bottom.width&&(t.beginPath(),t.moveTo(r,s),t.lineTo(o,s),t.strokeStyle=this.border.bottom.color,t.lineWidth=this.border.bottom.width,t.stroke()),this.border.left.width&&(t.beginPath(),t.moveTo(o,s),t.lineTo(o,a),t.strokeStyle=this.border.left.color,t.lineWidth=this.border.left.width,t.stroke())),t.restore()}},{key:"isHit",value:function(t){var e=this.anchor,n=this.width/2,i=this.height/2;return t[0]>e[0]-n&&t[0]<e[0]+n&&t[1]>e[1]-i&&t[1]<e[1]+i}},{key:"getBoundingRect",value:function(){var t=this.anchor,e=this.width/2,n=this.height/2,i=t[0]-e,o=t[1]-n,a=t[0]+e,r=t[1]+n;return[i,o,a,r]}},{key:"getBoundingDimension",value:function(){return{height:this.height,width:this.width}}},{key:"calculateIntersection",value:function(t){var e,n,i=Object(m["a"])(t,2),o=i[0],a=i[1],r=Object(m["a"])(this.anchor,2),s=r[0],c=r[1],h=this.width/2,l=this.height/2,u=s-o,d=c-a,f=l/h,v=Math.abs(d/u),g=o>s,p=a>c;return v<f?(e=s+(g?h:-h),n=h*(p?v:-v)+c):(n=c+(p?l:-l),e=l/(g?v:-v)+s),[e,n]}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(e=this._belongs.calculateToCoordination(e));var n=e,i=Object(m["a"])(n,2),o=i[0],a=i[1],r=this.width/2,s=this.height/2;return t={},Object(Y["a"])(t,w.RIGHT,[o+r,a]),Object(Y["a"])(t,w.LEFT,[o-r,a]),Object(Y["a"])(t,w.BOTTOM,[o,a+s]),Object(Y["a"])(t,w.TOP,[o,a-s]),t}},{key:"calculateIntersectionInFourDimension",value:function(t,e){var n,i=Object(m["a"])(t,2),o=i[0],a=i[1],r=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(r=this._belongs.calculateToCoordination(r));var s=r,c=Object(m["a"])(s,2),h=c[0],l=c[1],u=this.width/2,d=this.height/2,f=(n={},Object(Y["a"])(n,w.RIGHT,[h+u,l]),Object(Y["a"])(n,w.LEFT,[h-u,l]),Object(Y["a"])(n,w.BOTTOM,[h,l+d]),Object(Y["a"])(n,w.TOP,[h,l-d]),n),v=h-o,g=l-a,p=d/u,b=Math.abs(g/v),y=o>h,k=a>l,A=b>p?k?w.BOTTOM:w.TOP:y?w.RIGHT:w.LEFT;return{p:f[A],dir:A}}}]),n}(Q),Ot=At,jt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this,i),t.type="Capsule",t.width=i.width||20,t.height=i.height||10,t}return Object(s["a"])(n,[{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6),t.beginPath();var e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1],o=this.width/2,a=this.height/2,r=n-o+a,s=n+o-a,c=i-a,h=i+a;t.moveTo(r,c),t.lineTo(s,c),t.arc(s,i,a,-Math.PI/2,Math.PI/2),t.lineTo(r,h),t.arc(r,i,a,Math.PI/2,Math.PI/2*3),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.restore()}},{key:"isHit",value:function(t){var e=this.anchor,n=this.width/2,i=this.height/2,o=Math.abs(n-i),a=e[0]-n+i,r=e[0]+n-i,s=i*i;return t[0]>e[0]-o&&t[0]<e[0]+o&&t[1]>e[1]-i&&t[1]<e[1]+i||Math.pow(t[0]-a,2)+Math.pow(t[1]-e[1],2)<s||Math.pow(t[0]-r,2)+Math.pow(t[1]-e[1],2)<s}},{key:"getBoundingRect",value:function(){var t=this.anchor,e=this.width/2,n=this.height/2,i=t[0]-e,o=t[1]-n,a=t[0]+e,r=t[1]+n;return[i,o,a,r]}},{key:"getBoundingDimension",value:function(){return{height:this.height,width:this.width}}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(e=this._belongs.calculateToCoordination(e));var n=e,i=Object(m["a"])(n,2),o=i[0],a=i[1],r=this.width/2,s=this.height/2;return t={},Object(Y["a"])(t,w.RIGHT,[o+r,a]),Object(Y["a"])(t,w.LEFT,[o-r,a]),Object(Y["a"])(t,w.BOTTOM,[o,a+s]),Object(Y["a"])(t,w.TOP,[o,a-s]),t}}]),n}(Q),_t=jt,Tt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6),t.beginPath();var e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1],o=this.width/2,a=this.height/2,r=i-a+o,s=i+a-o,c=n-o,h=n+o;t.moveTo(c,r),t.arc(n,r,o,-Math.PI,0),t.lineTo(h,s),t.arc(n,s,o,0,Math.PI),t.closePath(),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.restore()}},{key:"isHit",value:function(t,e){var n=Object(m["a"])(this.anchor,2),i=n[0],o=n[1],a=this.width/2,r=this.height/2,s=Math.abs(r-a),c=o-r+a,h=o+r-a,l=a*a;return t[0]>i-a&&t[0]<i+a&&t[1]>o-s&&t[1]<o+s||Math.pow(t[0]-i,2)+Math.pow(t[1]-c,2)<l||Math.pow(t[0]-i,2)+Math.pow(t[1]-h,2)<l}}]),n}(_t),St=Tt,Ct=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this,i),t.type="Rhombus",t.height=i.diagonalsV||10,t.width=i.diagonalsH||20,t}return Object(s["a"])(n,[{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6);var e=this.width/2,n=this.height/2,i=this.anchor;t.translate(i[0],i[1]),t.beginPath(),t.moveTo(0,-n),t.lineTo(e,0),t.lineTo(0,n),t.lineTo(-e,0),t.closePath(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),t.translate(-i[0],-i[1]),t.restore()}},{key:"isHit",value:function(t){var e=this.height/2,n=this.width/2,i=this.anchor,o=Math.abs(t[0]-i[0]),a=Math.abs(t[1]-i[1]);return o/n+a/e<=1}},{key:"getBoundingRect",value:function(){var t=this.anchor,e=this.width/2,n=this.height/2,i=t[0]-e,o=t[1]-n,a=t[0]+e,r=t[1]+n;return[i,o,a,r]}},{key:"getBoundingDimension",value:function(){return{height:this.height,width:this.width}}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(e=this._belongs.calculateToCoordination(e));var n=e,i=Object(m["a"])(n,2),o=i[0],a=i[1],r=this.width/2,s=this.height/2;return t={},Object(Y["a"])(t,w.RIGHT,[o+r,a]),Object(Y["a"])(t,w.LEFT,[o-r,a]),Object(Y["a"])(t,w.BOTTOM,[o,a+s]),Object(Y["a"])(t,w.TOP,[o,a-s]),Object(Y["a"])(t,w.SELF,[o+.618*r,a+.618*s]),t}}]),n}(Q),Pt=Ct,Et=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this,i),t.type="Diamond",t.width=i.width||20,t.height=i.height||10,t.side=i.side||6,t._doCache(),t}return Object(s["a"])(n,[{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],e._rawConfigs[n]=t[n])})),this._doCache()}},{key:"_doCache",value:function(){this.sinSIDE=Math.sin(Math.PI/3)*this.side,this.cosSIDE=Math.cos(Math.PI/3)*this.side}},{key:"render",value:function(t){var e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1],o=this.width/2,a=this.height/2,r=a/1.732,s=n-o+r,c=n+o-r,h=n+o,l=n-o,u=i-a,d=i+a;this._cachePoints=[[c,u],[h,i],[c,d],[s,d],[l,i],[s,u]],t.save(),this._isMoving&&(t.globalAlpha=.6),t.beginPath();var f=this.side,v=this.sinSIDE,g=this.cosSIDE;t.moveTo(n,u),t.lineTo(c-f,u),t.quadraticCurveTo(c,u,c+g,u+v),t.lineTo(h-g,i-v),t.quadraticCurveTo(h,i,h-g,i+v),t.lineTo(c+g,d-v),t.quadraticCurveTo(c,d,c-f,d),t.lineTo(s+f,d),t.quadraticCurveTo(s,d,s-g,d-v),t.lineTo(l+g,i+v),t.quadraticCurveTo(l,i,l+g,i-v),t.lineTo(s-g,u+v),t.quadraticCurveTo(s,u,s+f,u),t.closePath(),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.restore()}},{key:"isHit",value:function(t){if(!this._cachePoints)return!1;for(var e=this._cachePoints,n=!1,i=0,o=e.length-1;i<e.length;i++)e[i][1]>t[1]!==e[o][1]>t[1]&&t[0]<(e[o][0]-e[i][0])*(t[1]-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(n=!n),o=i;return n}},{key:"getBoundingRect",value:function(){var t=this.anchor,e=this.width/2,n=this.height/2,i=t[0]-e,o=t[1]-n,a=t[0]+e,r=t[1]+n;return[i,o,a,r]}},{key:"getBoundingDimension",value:function(){return{height:this.height,width:this.width}}},{key:"getIntersectionsInFourDimension",value:function(){var t,e=this.anchor;this._belongs&&this._belongs.calculateToCoordination&&(e=this._belongs.calculateToCoordination(e));var n=e,i=Object(m["a"])(n,2),o=i[0],a=i[1],r=this.width/2,s=this.height/2;return t={},Object(Y["a"])(t,w.RIGHT,[o+r,a]),Object(Y["a"])(t,w.LEFT,[o-r,a]),Object(Y["a"])(t,w.BOTTOM,[o,a+s]),Object(Y["a"])(t,w.TOP,[o,a-s]),t}}]),n}(Q),xt=Et,Mt=(Math.sqrt(3),function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){return Object(r["a"])(this,n),e.call(this,t)}return Object(s["a"])(n,[{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6),t.beginPath();var e=Object(m["a"])(this.anchor,2),n=e[0],i=e[1],o=this.width/2,a=this.height/2,r=o/1.732,s=i-a,c=i+a,h=i-a+r,l=i+a-r,u=n-o,d=n+o;t.moveTo(n,s),t.lineTo(d,h),t.lineTo(d,l),t.lineTo(n,c),t.lineTo(u,l),t.lineTo(u,h),t.closePath(),t.fillStyle=this.backgroundColor,this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fill(),this.borderWidth&&(t.lineWidth=this.borderWidth,t.strokeStyle=this.borderColor,t.stroke()),t.restore(),this._cachePoints=[[n,s],[d,h],[d,l],[n,c],[u,l],[u,h]]}}]),n}(xt)),Bt=Mt,It={canvas:{wheel:function(t,e){t.preventDefault();var n=t.offsetX,i=t.offsetY,o=t.deltaX,a=t.deltaY;t.ctrlKey&&(a=-a),e.zoomHandler(n,i,o,a,t)}}},Dt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])(this,n),t=e.call(this),t.from=i.from,t.to=i.to,t.fromDir=i.fromDir,t.toDir=i.toDir,t._cachePoints=null,t.backgroundColor=i.backgroundColor||"#000",t.isSelf=!!i.isSelf,t}return Object(s["a"])(n,[{key:"isInViewBox",value:function(t){return!0}}]),n}(V),Lt=Dt;n("ac1f");function Rt(){var t=document.createElement("input");return t.setAttribute("style","\n        position: absolute;\n        left: 0;\n        top: 0;\n        border:none;\n        background-image:none;\n        background-color:transparent;\n        -webkit-box-shadow: none;\n        -moz-box-shadow: none;\n        box-shadow: none;"),t}var Ft={CENTER:"center",LEFT:"left",RIGHT:"right"},Nt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.type="Text",i.content=t.content||"",i.fontFamily=t.fontFamily||"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",i.fontSize=t.fontSize||"28px",i.textColor=t.textColor||"white",i.textAlign=t.textAlign||Ft.CENTER,i.textBaseline=t.textBaseline||"middle",i.lineHeight=t.lineHeight,i.indent=t.indent||0,i.backgroundColor=t.backgroundColor,i.editable=t.editable,i.minWidth=t.minWidth||0,i.maxWidth=t.maxWidth,i.ellipsis=t.ellipsis,i.placeholder=t.placeholder||"",i.emptyWhenInput=t.emptyWhenInput||!1,i.editting=!1,i.disabled=t.disabled,p((function(t){i.renderShadowText(t)})),i._makeEditable(),i}return Object(s["a"])(n,[{key:"_makeEditable",value:function(){var t=this;this.editable&&this.addEventListener("click",(function(e){if(!t.disabled){var n,i=t.width/2;n=t.textAlign===Ft.LEFT?t.anchor[0]-i+t.indent/2:t.textAlign===Ft.RIGHT?t.anchor[0]+i:t.anchor[0]+t.indent/2;var o=[n,-t.height/2],a=+/(\d+)/.exec(t.fontSize)[1],r=t.calculateToRealWorld(o),s=Object(m["a"])(r,2),c=s[0],h=s[1],l=Rt(),u=t._jflow.DOMwrapper,d=t.content;l.style.transform="translate(".concat(c,"px, ").concat(h,"px)"),l.style.width=t.calculateToRealWorldWithScalar(t.width+5)+"px",l.style.height=t.calculateToRealWorldWithScalar(t.height)+"px",l.style.fontFamily=t.fontFamily,u.style.fontSize="".concat(a*t._jflow.scale,"px"),l.style.fontSize="".concat(a*t._jflow.scale,"px"),l.style.lineHeight="".concat(t.lineHeight*t._jflow.scale,"px"),l.style.textIndent="".concat(t.indent*t._jflow.scale,"px"),l.value=t.emptyWhenInput?"":t.content,l.style.color=t.textColor,l.setAttribute("placeholder",t.placeholder),l.addEventListener("focus",(function(e){t.content="",t.editting=!0,t._jflow._render(),l.style.outline="none"}));var f=function(){t.editting=!1,t.dispatchEvent(new dt("blur",{target:t}));var e=l.value;t.dispatchEvent(new dt("change",{target:t,oldVal:d,val:e})),t.content=d,t._jflow._render(),t._jflow.removeEventListener("zoompan",f),l.removeEventListener("blur",f),u.removeChild(l),l=null,f=null,t.inputElement=null};t._jflow.addEventListener("zoompan",f),l.addEventListener("blur",f);var v=function t(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),l.removeEventListener("keypress",t),f())};l.addEventListener("keypress",v),l.addEventListener("input",(function(e){var n=!1;t.dispatchEvent(new dt("input",{target:t,oldVal:d,val:e.target.value,handler:function(t){d=t,l.value=t,n=!0}})),n||(d=e.target.value)})),u.append(l),l.focus({preventScroll:!0}),t.inputElement=l}}))}},{key:"renderShadowText",value:function(t){t.beginPath(),t.font="".concat(this.fontSize," ").concat(this.fontFamily),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.fillStyle=this.textColor;var e=parseInt(this.fontSize),n=t.measureText(this.content),i=n.actualBoundingBoxLeft,o=n.actualBoundingBoxRight,a=n.fontBoundingBoxAscent,r=n.fontBoundingBoxDescent;if(this._textWidth=this.indent+Math.abs(i)+Math.abs(o),this.maxWidth&&this.ellipsis){if(this._textWidth>this.maxWidth){var s=this.maxWidth/this._textWidth,c=Math.floor(this.content.length*s-3);this.ellipsisContent=this.content.substring(0,c)+"..."}else this.ellipsisContent=this.content;this.width=this.maxWidth}else this.width=Math.max(this.minWidth,this._textWidth);var h=Math.abs(a)+Math.abs(r)||e;this.lineHeight?this.height=this.lineHeight:this.height=h}},{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],e._rawConfigs[n]=t[n])})),p((function(t){e.renderShadowText(t)}))}},{key:"render",value:function(t){if(t.save(),this._isMoving&&(t.globalAlpha=.6),!this.editting){t.beginPath(),t.font="".concat(this.fontSize," ").concat(this.fontFamily),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.fillStyle=this.textColor;var e=this.content;if(this.ellipsisContent&&(e=this.ellipsisContent),this.textAlign===Ft.LEFT){var n=this.width/2;t.fillText(e,this.anchor[0]-n+this.indent/2,this.anchor[1])}else if(this.textAlign===Ft.RIGHT){var i=this.width/2;t.fillText(e,this.anchor[0]+i,this.anchor[1])}else t.fillText(e,this.anchor[0]+this.indent/2,this.anchor[1]);t.fill(),t.restore()}}}]),n}(Ot),Yt=Nt,Xt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.image=t.image,i.image.onload=function(){i._jflow._render()},i.imageBounding={width:t.imageWidth||t.width,height:t.imageHeight||t.height},i}return Object(s["a"])(n,[{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],e._rawConfigs[n]=t[n])})),t.image&&!t.image.complete&&(this.image.onload=function(){e._jflow._render()}),this.imageBounding={width:t.imageWidth||t.width||this.imageBounding.width,height:t.imageHeight||t.height||this.imageBounding.height}}},{key:"render",value:function(t){t.save(),this._isMoving&&(t.globalAlpha=.6),Ot.prototype.render.call(this,t);var e=this.anchor[0]-this.width/2,n=this.anchor[1]-this.height/2;this.opacity<1&&(t.globalAlpha=this.opacity),this.image.complete&&t.drawImage(this.image,e,n,this.imageBounding.width,this.imageBounding.height),t.restore()}}]),n}(Ot),Ht=Xt,Wt=n("45eb"),Gt=n("7e84"),Vt=(n("fb6a"),function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.domFactory=t.createDocument,i._dom=null,i}return Object(s["a"])(n,[{key:"getRealWorldPosition",value:function(){var t=this.getBoundingRect();return this.calculateToRealWorld(t.slice(0,2))}},{key:"render",value:function(t){var e=this;if(!this._dom&&this.domFactory)requestAnimationFrame((function(){if(!e._dom){var t=document.createElement("div"),n=e.getRealWorldPosition(),i=e._jflow.scale;t.setAttribute("style","\n                        position: absolute;\n                        width: ".concat(e.width,"px;\n                        height: ").concat(e.height,"px;\n                        transform-origin: left top;\n                        top: 0;\n                        left: 0;\n                        transform: translate(").concat(n[0],"px, ").concat(n[1],"px) scale(").concat(i,");")),e._dom=t,e._jflow.DOMwrapper.appendChild(t),e.domFactory(t)}}));else{var i=this.getRealWorldPosition(),o=this._jflow.scale;this._dom.style.transform="translate(".concat(i[0],"px, ").concat(i[1],"px) scale(").concat(o,")")}Object(Wt["a"])(Object(Gt["a"])(n.prototype),"render",this).call(this,t)}},{key:"onEnterViewbox",value:function(){this._dom&&(this._dom.style.display="block")}},{key:"onLeaveViewbox",value:function(){this._dom&&(this._dom.style.display="none")}},{key:"destroy",value:function(){this._dom&&this._jflow.DOMwrapper.removeChild(this._dom),Object(Wt["a"])(Object(Gt["a"])(n.prototype),"destroy",this).call(this)}}]),n}(Ot)),qt=Vt,Qt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.fontFamily=t.fontFamily="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",i.fontSize=t.fontSize||"12px",i.content=t.content||"",i.lineDash=t.lineDash,i.approximate=t.approximate||k,i}return Object(s["a"])(n,[{key:"_calculateAnchorPoints",value:function(){var t=this.from.calculateIntersection(this.to.getCenter()),e=this.to.calculateIntersection(this.from.getCenter());this._cachePoints=[t,e];var n=e[0]-t[0],i=e[1]-t[1],o=Math.atan2(i,n);this._cacheAngle=o}},{key:"isInViewBox",value:function(t){return this._calculateAnchorPoints(),!0}},{key:"render",value:function(t){var e=Object(m["a"])(this._cachePoints,2),n=e[0],i=e[1],o=this._cacheAngle,a=i[0]-n[0],r=i[1]-n[1];if(t.fillStyle=t.strokeStyle=this.backgroundColor,t.beginPath(),this.content){t.textAlign="center",t.font="".concat(this.fontSize," ").concat(this.fontFamily),t.textBaseline="middle";var s=t.measureText(this.content),c=s.actualBoundingBoxLeft,h=s.actualBoundingBoxRight,l=s.fontBoundingBoxAscent,u=s.fontBoundingBoxDescent,d=a/2+n[0],f=r/2+n[1];t.fillText(this.content,d,f);var v=Math.abs(c)+Math.abs(h)+20,g=1.5*(Math.abs(l)+Math.abs(u));t.beginPath();var p=new Path2D;p.rect(d-v/2,f-g/2,v,g);var b=Math.min(i[0],n[0])-10,y=Math.min(i[1],n[1])-10,w=Math.abs(a)+20,k=Math.abs(r)+20;p.rect(b,y,w,k),t.clip(p,"evenodd")}t.moveTo(n[0],n[1]),t.lineTo(i[0],i[1]),this.lineDash&&(t.save(),t.setLineDash(this.lineDash)),t.stroke(),this.lineDash&&t.restore(),t.translate(i[0],i[1]),t.rotate(o),t.moveTo(0,0),t.lineTo(-5,-4),t.lineTo(-5,4),t.lineTo(0,0),t.fill(),t.rotate(-o),t.translate(-i[0],-i[1])}},{key:"isHit",value:function(t){if(!this._cachePoints)return!1;var e=Object(m["a"])(this._cachePoints,2),n=e[0],i=e[1],o=T(t,n,i);return o<this.approximate}}]),n}(Lt),Ut=Qt,Jt=Math.PI/180,zt=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.approximate=t.approximate||k,i.radius=t.radius||0,i.minSpanX=t.minSpanX||10,i.minSpanY=t.minSpanY||10,i.lineDash=t.lineDash,i.doubleLink=t.doubleLink,i.fontFamily=t.fontFamily="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",i.fontSize=t.fontSize||"12px",i.content=t.content||"",i.isSelf=!!t.isSelf,i.noArrow=!!t.noArrow,i}return Object(s["a"])(n,[{key:"_calculateAnchorPoints",value:function(){var t=this.from.getIntersectionsInFourDimension(),e=this.to.getIntersectionsInFourDimension();if(this.isSelf){var n=B(t[this.fromDir],e[w.SELF],this.fromDir,this.toDir,this.minSpanX,this.minSpanY,!0);this._cachePoints=n,this._cacheAngle=[this.fromDir,this.toDir]}else if(void 0!==this.fromDir&&void 0!==this.toDir){var i=B(t[this.fromDir],e[this.toDir],this.fromDir,this.toDir,this.minSpanX,this.minSpanY);this._cachePoints=i,this._cacheAngle=[this.fromDir,this.toDir]}else{var o=S(t,e),a=B(o.fromP,o.toP,o.fromDir,o.toDir,this.minSpanX,this.minSpanY);this._cachePoints=a,this._cacheAngle=[o.fromDir,o.toDir]}}},{key:"isInViewBox",value:function(t){return this._calculateAnchorPoints(),N(this._cachePoints,t)}},{key:"render",value:function(t){var e=this,n=this.radius,i=this._cachePoints,o=i[0],a=i[i.length-1],r=(this._cacheAngle[1]+2)%4*90*Jt;if(t.fillStyle=t.strokeStyle=this.backgroundColor,this.doubleLink){var s=(this._cacheAngle[0]+2)%4*90*Jt;t.beginPath(),t.translate(o[0],o[1]),t.rotate(s),t.moveTo(5,0),t.lineTo(0,-4),t.lineTo(0,4),t.lineTo(5,0),t.fill(),t.rotate(-s),t.translate(-o[0],-o[1])}if(t.beginPath(),t.moveTo(o[0],o[1]),i.slice(1,i.length-1).forEach((function(o,a){if(e.radius){var r=i[a],s=i[a+2],c=R(r,o,s,n),h=c.p1,l=c.p2;h&&l?(t.lineTo(h[0],h[1]),t.quadraticCurveTo(o[0],o[1],l[0],l[1])):t.lineTo(o[0],o[1])}else t.lineTo(o[0],o[1])})),t.lineTo(a[0],a[1]),this.lineDash&&(t.save(),t.setLineDash(this.lineDash)),t.stroke(),this.lineDash&&t.restore(),this.noArrow||(t.beginPath(),t.translate(a[0],a[1]),t.rotate(r),t.moveTo(0,0),t.lineTo(-5,-4),t.lineTo(-5,4),t.lineTo(0,0),t.fill(),t.rotate(-r),t.translate(-a[0],-a[1])),this.content)switch(t.beginPath(),t.font="".concat(this.fontSize," ").concat(this.fontFamily),this.fromDir){case w.BOTTOM:t.textAlign="left",t.fillText(this.content,o[0]+2,o[1]+10);break;case w.RIGHT:t.textAlign="left",t.fillText(this.content,o[0]+10,o[1]-2);break;default:break}}},{key:"isHit",value:function(t){var e=this._cachePoints,n=e[0],i=e.slice(1);do{var o=i.shift();if(o){var a=T(t,n,o);if(a<this.approximate)return!0}n=o}while(n);return!1}}]),n}(Lt),Kt=zt,Zt=Math.PI/180,$t=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.approximate=t.approximate||k,i.minSpanX=t.minSpanX||0,i.minSpanY=t.minSpanY||0,i.lineDash=t.lineDash,i.doubleLink=t.doubleLink,i.fontFamily=t.fontFamily="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",i.fontSize=t.fontSize||"12px",i.content=t.content||"",i.isSelf=!!t.isSelf,i}return Object(s["a"])(n,[{key:"_calculateAnchorPoints",value:function(){var t=this.from.getIntersectionsInFourDimension(),e=this.to.getIntersectionsInFourDimension();if(this.isSelf){var n=P(t[this.fromDir],e[w.SELF],this.fromDir,w.BOTTOM,this.minSpanX,this.minSpanY);this._cachePoints=[].concat(Object(a["a"])(t[this.fromDir]),Object(a["a"])(n)),this._cacheAngle=[this.fromDir,w.BOTTOM]}else if(void 0!==this.fromDir&&void 0!==this.toDir){var i=P(t[this.fromDir],e[this.toDir],this.fromDir,this.toDir,this.minSpanX,this.minSpanY);this._cachePoints=[].concat(Object(a["a"])(t[this.fromDir]),Object(a["a"])(i)),this._cacheAngle=[this.fromDir,this.toDir]}else{var o=S(t,e),r=P(o.fromP,o.toP,o.fromDir,o.toDir);this._cachePoints=[].concat(Object(a["a"])(o.fromP),Object(a["a"])(r)),this._cacheAngle=[o.fromDir,o.toDir]}}},{key:"render",value:function(t){this._calculateAnchorPoints();var e=this._cachePoints,n=M.apply(null,[1].concat(Object(a["a"])(e)));if(t.fillStyle=t.strokeStyle=this.backgroundColor,this.doubleLink){var i=(this._cacheAngle[0]+2)%4*90*Zt;t.beginPath(),t.translate(e[0],e[1]),t.rotate(i),t.moveTo(5,0),t.lineTo(0,-4),t.lineTo(0,4),t.lineTo(5,0),t.fill(),t.rotate(-i),t.translate(-e[0],-e[1])}if(t.beginPath(),t.moveTo(e[0],e[1]),t.bezierCurveTo.apply(t,Object(a["a"])(e.slice(2))),this.lineDash&&(t.save(),t.setLineDash(this.lineDash)),t.stroke(),this.lineDash&&t.restore(),t.beginPath(),t.translate(e[6],e[7]),t.rotate(n),t.moveTo(5,0),t.lineTo(0,-4),t.lineTo(0,4),t.lineTo(5,0),t.fill(),t.rotate(-n),t.translate(-e[6],-e[7]),this.content){t.beginPath();var o=e[0]>e[6],r=E(.5,e),s=Object(m["a"])(r,3),c=s[0],h=s[1],l=s[2];t.translate(c,h),t.rotate(l),o&&t.rotate(Math.PI),t.font="".concat(this.fontSize," ").concat(this.fontFamily),t.textAlign="center",t.fillText(this.content,0,-(parseInt(this.fontSize)||12)/4),o&&t.rotate(Math.PI),t.rotate(-l),t.translate(-c,-h)}}},{key:"isHit",value:function(t){if(!this._cachePoints)return!1;var e=this._cachePoints,n=x(t,e);return n<this.approximate}}]),n}(Lt),te=$t,ee=(n("4de4"),function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,t),this.direction=n.direction||"vertical",this.gap=null!==(e=n.gap)&&void 0!==e?e:5,this.alignment=n.alignment||"center",this.justify=n.justify||"center",this._rawConfigs=n}return Object(s["a"])(t,[{key:"reflow",value:function(t){var e=this,n=t._stack.filter((function(t){return t.visible&&!t.absolutePosition})),i=t._stack.filter((function(t){return t.visible&&t.absolutePosition})),o=t.width-t.padding.left-t.padding.right;if("vertical"===this.direction){var a=0,r=0,s=0,c=0,h=n.concat(i);h.forEach((function(t,e){"block"===t.display&&(t.width=0,t.resetChildrenPosition(),t.reflow(),t._getBoundingGroupRect())})),n.forEach((function(t,n){var i=t.getBoundingDimension(),o=i.width,h=i.height,l=n>0?e.gap:0;"outstretch"!==t.display&&(s=Math.max(o,s)),c+=h+l,a+=h/2+l+r,r=h/2,t.anchor=[0,a]})),h.forEach((function(e,n){if("block"===e.display)e.resetChildrenPosition(),e.width=s,e.reflow();else if("outstretch"===e.display){var i=t._belongs.width-t._belongs.padding.left-t._belongs.padding.right;e.resetChildrenPosition(),e.width=Math.max(i,s),e.reflow()}})),s=Math.max(o,s),c/=2,"start"===this.alignment&&n.forEach((function(t,e){var n=t.getBoundingDimension(),i=n.width;t.anchor[0]=-(s-i)/2,t.anchor[1]-=c})),"end"===this.alignment&&n.forEach((function(t,e){var n=t.getBoundingDimension(),i=n.width;t.anchor[0]=(s-i)/2,t.anchor[1]-=c})),"center"===this.alignment&&n.forEach((function(t,e){var n=t.getBoundingDimension();n.width;t.anchor[1]-=c}))}if("horizontal"===this.direction){var l=0,u=0,d=0,f=0;if(n.forEach((function(t,n){var i=t.getBoundingDimension(),o=i.width,a=i.height,r=n>0?e.gap:0;d=Math.max(a,d),f+=o+r,o,l+=o/2+r+u,u=o/2,t.anchor=[l,0]})),"start"===this.justify){var v=o/2;n.forEach((function(t,e){t.anchor[0]-=v}))}if("end"===this.justify){var g=o/2-f;n.forEach((function(t,e){t.anchor[0]+=g}))}if("center"===this.justify){var p=f/2;n.forEach((function(t,e){t.anchor[0]-=p}))}if("space-between"===this.justify&&n.length>1){var m=Math.max(o,f),b=(m-f)/(n.length-1),y=m/2;n.forEach((function(t,e){t.anchor[0]+=b*e-y}))}"start"===this.alignment&&n.forEach((function(t,e){var n=t.getBoundingDimension(),i=n.height;t.anchor[1]=-(d-i)/2})),"end"===this.alignment&&n.forEach((function(t,e){var n=t.getBoundingDimension(),i=n.height;t.anchor[1]=(d-i)/2}))}if(i.length){"block"===t.display?t.getBoundingDimension():t._getBoundingGroupRect();var w=t.width/2,k=t.height/2;i.forEach((function(t){t.anchor=e._resolveAbsoluteAnchor(t.absolutePosition,t,w,k)}))}}},{key:"_resolveAbsoluteAnchor",value:function(t,e,n,i){var o=t.top,a=t.right,r=t.bottom,s=t.left,c=e.getBoundingDimension(),h=c.width,l=c.height,u=h/2,d=l/2,f=0,v=0;return"number"===typeof o&&(f=o+d-i),"number"===typeof a&&(v=n-a-u),"number"===typeof r&&(f=i-r-d),"number"===typeof s&&(v=s+u-n),[v,f]}},{key:"clone",value:function(){return new t(this._rawConfigs)}}]),t}()),ne=ee,ie=(n("7db0"),n("07ac"),n("d81d"),function(){function t(e){Object(r["a"])(this,t),this.source=e,this.id=e.id,this.type=e.type,this.level=void 0,this.sequence=void 0,this.isFree=!1,this.parent=void 0,this.idx=void 0,this.parentIterateType=void 0,this.hasEndPoint=!1}return Object(s["a"])(t,[{key:"reflowPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return this.level=t,this.sequence=e,this.spanX=1,this.spanY=1,n&&n(t,e,this),{spanX:this.spanX,spanY:this.spanY,level:t,sequence:e}}},{key:"makeLink",value:function(t){return this}},{key:"makeEndpoint",value:function(){}},{key:"traverse",value:function(t){t(this)}},{key:"getNodes",value:function(t){var e=[];return this.traverse((function(n){var i=t.getRenderNodeBySource(n.source);i&&e.push(i)})),e}},{key:"linkSource",value:function(t){this.parent.source[this.parentIterateType].splice(this.idx+1,0,t)}},{key:"remove",value:function(){this.parent.source[this.parentIterateType].splice(this.idx,1)}}]),t}()),oe=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;Object(r["a"])(this,n),i=e.call(this,t),i.isroot=!0,i.body=(t.body||[]).map(ue("body").bind(Object(X["a"])(i)));var o=ue("playground").bind(Object(X["a"])(i));return i.playground=(t.playground||[]).map((function(t,e){var n=o(t,e);return n.isFree=!0,n})),i}return Object(s["a"])(n,[{key:"reflowBodyPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=1,o=1;return this.level=t,this.sequence=e,n&&n(t,e,this),this.body.forEach((function(a){var r=a.reflowPreCalculate(t+1,e,n),s=r.spanX,c=r.spanY;i=Math.max(s,i),o+=c,t+=c})),this.spanX=i,this.spanY=o,{spanX:i,spanY:o,level:t,sequence:e}}},{key:"reflowPlaygroundPreCalculate",value:function(t,e){this.playground.forEach((function(n){t(n),n.reflowPreCalculate(0,0,e)}))}},{key:"makeLink",value:function(t){var e;return this.body.forEach((function(n){e?(t({from:e,to:n,part:"body",fromDir:w.BOTTOM,toDir:w.TOP}),n=n.makeLink(t),e=n):e=n})),this.playground.forEach((function(e){e.makeLink(t)})),this}},{key:"traverse",value:function(t){this.body.forEach((function(e){e.traverse(t)})),this.playground.forEach((function(e){e.traverse(t)}))}}]),n}(ie),ae=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.consequent=(t.consequent||[]).map(ue("consequent").bind(Object(X["a"])(i))),i.alternate=(t.alternate||[]).map(ue("alternate").bind(Object(X["a"])(i))),i.isLocked=!0,i.hasEndPoint=!0,i}return Object(s["a"])(n,[{key:"reflowPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=1,o=1;this.level=t,this.sequence=e,n&&n(t,e,this);var a=1,r=0,s=0,c=0;this.consequent.forEach((function(i,o){var s=i.reflowPreCalculate(t+1,e,n),c=s.spanX,h=s.spanY;a=Math.max(a,c),r+=h,t+=h}));var h=e+a;t=this.level,this.alternate.forEach((function(e,i){var o=e.reflowPreCalculate(t+1,h,n),a=o.spanX,r=o.spanY;s=Math.max(s,a),c+=r,t+=r})),i=Math.max(1,a+s),o+=Math.max(r,c),t=this.level+o-1;var l=this.Endpoint.reflowPreCalculate(t+1,e,n),u=l.spanY;return o+=u,this.spanX=i,this.spanY=o,{spanX:i,spanY:o,level:t,sequence:e}}},{key:"makeLink",value:function(t){var e=this,n=this;this.consequent.forEach((function(e){t({from:n,to:e,part:"consequent",fromDir:w.BOTTOM,toDir:w.TOP}),e=e.makeLink(t),n=e})),t({from:n,to:this.Endpoint,fromDir:w.BOTTOM,toDir:w.TOP,part:"consequent"});var i=this;return this.alternate.forEach((function(n){t({from:i,to:n,fromDir:i===e?w.RIGHT:w.BOTTOM,toDir:w.TOP,part:"alternate"}),n=n.makeLink(t),i=n})),t({from:i,to:this.Endpoint,fromDir:i===this?w.RIGHT:w.BOTTOM,toDir:w.RIGHT,part:"alternate"}),this.Endpoint}},{key:"traverse",value:function(t){t(this),this.consequent.forEach((function(e){e.traverse(t)})),this.alternate.forEach((function(e){e.traverse(t)})),console.log(this.Endpoint),t(this.Endpoint)}},{key:"linkSource",value:function(t,e){this.source[e.part].unshift(t)}}]),n}(ie),re=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.cases=(t.cases||[]).map(ue("case").bind(Object(X["a"])(i))),i.cases.length&&(i.cases[i.cases.length-1].lastCase=!0),i.isLocked=!0,i.hasEndPoint=!0,i}return Object(s["a"])(n,[{key:"reflowPreCalculate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,o=1,a=1;this.level=e,this.sequence=n,i&&i(e,n,this);var r=1,s=0;if(this.cases.length){var c=this.cases[this.cases.length-1].consequent;e=this.level,c.forEach((function(t){var o=t.reflowPreCalculate(e+1,n,i),a=o.spanX,c=o.spanY;r=Math.max(r,a),s+=c,e+=c}))}var h=r,l=0;this.cases.forEach((function(o,a){var r=n+h,s=0,c=0;e=t.level,o.alternate.forEach((function(t){var n=t.reflowPreCalculate(e+1,r,i),o=n.spanX,a=n.spanY;s=Math.max(s,o),c+=a,e+=a})),h+=s,l=Math.max(l,c)})),o=Math.max(1,h),a=Math.max(s,l),e=this.level+a;var u=this.Endpoint.reflowPreCalculate(e+1,n,i),d=u.spanY;return a+=d,a+=1,this.spanX=o,this.spanY=a,{spanX:o,spanY:a,level:e,sequence:n}}},{key:"makeLink",value:function(t){var e=this,n=this;if(this.cases.length){var i=this.cases[this.cases.length-1].consequent;i.forEach((function(e,i){t({from:n,to:e,fromDir:w.BOTTOM,toDir:w.TOP,part:"consequent"}),n=e.makeLink(t)}))}return console.log(n),t({from:n,to:this.Endpoint,fromDir:w.BOTTOM,toDir:w.TOP,part:"consequent"}),this.cases.forEach((function(n,i){var o=n;n.alternate.forEach((function(e){t({from:o,to:e,fromDir:o===n?w.RIGHT:w.BOTTOM,toDir:w.TOP,part:"alternate"}),o=e.makeLink(t)})),t({from:o,to:e.Endpoint,fromDir:o===n?w.RIGHT:w.BOTTOM,toDir:w.RIGHT,part:"alternate",minSpanX:32*(i+1)})})),this.Endpoint}},{key:"traverse",value:function(t){t(this),this.cases.forEach((function(e){e.traverse(t)})),t(this.Endpoint)}},{key:"getNodes",value:function(t){var e=[];return this.traverse((function(n){if("SwitchCase"!==n.type){var i=t.getRenderNodeBySource(n.source);i&&e.push(i)}})),e}},{key:"linkSource",value:function(t,e){var n=this.source.cases,i=n[n.length-1].consequent;i.unshift(t)}}]),n}(ie),se=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n)}(ie),ce=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.body=(t.body||[]).map(ue("body").bind(Object(X["a"])(i))),i.isLocked=!0,i}return Object(s["a"])(n,[{key:"reflowPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=1,o=1;this.level=t,this.sequence=e,n&&n(t,e,this);var a=e+1;return this.body.forEach((function(e){var r=e.reflowPreCalculate(t+1,a,n),s=r.spanX,c=r.spanY;i=Math.max(s,i),o+=c,t+=c})),this.spanX=i+1,this.spanY=o,{spanX:i,spanY:o,level:t,sequence:e}}},{key:"makeLink",value:function(t){var e=this,n=this;return this.body.forEach((function(i,o){t({from:n,to:i,part:"body",fromDir:n===e?w.RIGHT:w.BOTTOM,toDir:w.TOP}),i=i.makeLink(t),n=i})),t({from:n,to:this,part:"body",fromDir:n===this?w.RIGHT:w.BOTTOM,anticlock:n===this,toDir:w.BOTTOM,isSelf:!0,minSpanX:20,minSpanY:20}),this}},{key:"traverse",value:function(t){t(this),this.body.forEach((function(e){e.traverse(t)}))}},{key:"linkSource",value:function(t,e){this.source[e.part].unshift(t)}}]),n}(ie),he=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.consequent=(t.consequent||[]).map(ue("consequent").bind(Object(X["a"])(i))),i.alternate=(t.alternate||[]).map(ue("alternate").bind(Object(X["a"])(i))),i.lastCase=!1,i}return Object(s["a"])(n,[{key:"reflowPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=1,o=1;this.level=t,this.sequence=e,n&&n(t,e,this);var a=0,r=0,s=0,c=0;this.lastCase&&this.consequent.forEach((function(i,o){var s=i.reflowPreCalculate(t+1,e,n),c=s.spanX,h=s.spanY;a=Math.max(a,c),r+=h,t+=h}));var h=e+Math.max(a,1);return t=this.level,this.alternate.forEach((function(e,i){var o=e.reflowPreCalculate(t+1,h,n),a=o.spanX,r=o.spanY;s=Math.max(s,a),c+=r,t+=r})),i=Math.max(1,a+s),o+=Math.max(r,c),this.spanX=i,this.spanY=o,{spanX:i,spanY:o,level:t,sequence:e}}},{key:"traverse",value:function(t){t(this),this.consequent.forEach((function(e){e.traverse(t)})),this.alternate.forEach((function(e){e.traverse(t)}))}},{key:"linkSource",value:function(t,e){this.source[e.part].unshift(t)}}]),n}(ie),le={IfStatement:ae,SwitchStatement:re,SwitchCase:he,ForEachStatement:se,WhileStatement:ce,Root:oe,other:ie};function ue(t){return function(e,n){var i=de(e);if(i.parent=this,i.idx=n,i.parentIterateType=t,i.hasEndPoint){e.__endpoint__||(e.__endpoint__={type:"endpoint",id:"".concat(i.id,"-endpoint")});var o=de(e.__endpoint__);o.parent=this,o.idx=n,o.parentIterateType=t,i.Endpoint=o}return i}}function de(t){var e=t.type,n=le[e]||le.other,i=new n(t);return i}function fe(t){return t*t}function ve(t,e){return fe(t[0]-e[0])+fe(t[1]-e[1])}var ge=function(){function t(e){var n;Object(r["a"])(this,t),this.linkLength=e.linkLength||18,this.gap=e.gap||30,this.treeItemDraggable=null===(n=e.treeItemDraggable)||void 0===n||n,this.reOrder(e.ast),this.static=!0}return Object(s["a"])(t,[{key:"reOrder",value:function(t){var e=this;this.ast=t,this.flowStack=[],this.flowLinkStack=[],this.root=de(this.ast),this.root.traverse((function(t){"playground"!==t.parentIterateType&&(t.isDraggable=e.treeItemDraggable),e.flowStack.push({type:t.type,source:t.source,layoutNode:t})}));var n,i={vertical:{},horizontal:{}},o={};this.root.reflowBodyPreCalculate(0,0,(function(t,e,n){n.isroot||(i.vertical[t]||(i.vertical[t]={}),i.vertical[t][e]=n,i.horizontal[e]||(i.horizontal[e]={}),i.horizontal[e][t]=n)})),this.root.reflowPlaygroundPreCalculate((function(t){n=t.id,o[t.id]={vertical:{},horizontal:{},node:t}}),(function(t,e,i){var a=o[n];a.vertical[t]||(a.vertical[t]={}),a.vertical[t][e]=i,a.horizontal[e]||(a.horizontal[e]={}),a.horizontal[e][t]=i})),this.layoutMapping=i,this.playgroundLayoutMapping=o,this.root.makeLink((function(t){e.flowLinkStack.push(t)}))}},{key:"staticCheck",value:function(t,e){if(t._layoutNode&&t._layoutNode.isFree)return!1;var n=e._linkStack.find((function(e){return e.from===t||e.to===t}));if(!n)return!1;var i=t.anchor.slice();if(e.reflow(),!(e._linkStack.length<2)){var o=t.anchor,a=ve(i,o);return a>1e3&&(t.dispatchEvent(new dt("outOfFlow",{anchor:i,instance:t,jflow:e,point:i})),!0)}}},{key:"reflowByMapping",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this.linkLength,a=this.gap,r=e.vertical,s=e.horizontal,c=n;Object.keys(s).forEach((function(e,n){var i=s[e],o=0,r=Object.keys(i);r.forEach((function(e){var n=i[e],a=t.getRenderNodeBySource(n.source),r=a.getBoundingDimension(),s=r.width;o=Math.max(s,o)})),c+=0===n?0:o/2,r.forEach((function(e){var n=i[e],o=t.getRenderNodeBySource(n.source);o.anchor[0]=c})),c+=o/2+a}));var h=i;Object.keys(r).forEach((function(e,n){var i=r[e],a=0,s=Object.keys(i);s.forEach((function(e){var n=i[e],o=t.getRenderNodeBySource(n.source),r=o.getBoundingDimension(),s=r.height;r.width;a=Math.max(s,a)})),h+=0===n?0:a/2,s.forEach((function(e){var n=i[e],o=t.getRenderNodeBySource(n.source);o.anchor[1]=h})),h+=a/2+o}))}},{key:"findLayoutNode",value:function(t){var e=this.flowStack.find((function(e){return e.configs===t}));return e?e.layoutMeta:null}},{key:"reflow",value:function(t){var e=this;this.reflowByMapping(t,this.layoutMapping),Object.values(this.playgroundLayoutMapping).forEach((function(n){var i=t.getRenderNodeBySource(n.node.source);e.reflowByMapping(t,n,i.anchor[0],i.anchor[1])}))}}]),t}(),pe=ge;n("b0c0");var me=Object(s["a"])((function t(e,n,i){Object(r["a"])(this,t),this.type="ERProperty",this.source=e,this.node=n,this.ref=e.ref,this.type=e.type,this.association=e.association,this.id=i?"".concat(n.id,"-").concat(e.name,"-navigation"):"".concat(n.id,"-").concat(e.name),this._selfLink=!1,this.parentPropertyRef=void 0,this.getJflowInstance=void 0,this.doubleRef=void 0})),be=function(){function t(e){var n=this;Object(r["a"])(this,t),this.type="ERNode",this.source=e,this.id=e.name,this.isDraggable=!0,this.getJflowInstance=void 0,this.propertyList=e.propertyList.map((function(t){return new me(t,n)})),this.navigationPropertyList=e.navigationPropertyList.map((function(t){return new me(t,n,!0)})),this.idProperty=this.propertyList.find((function(t){return"id"===t.source.name}))}return Object(s["a"])(t,[{key:"_traverseProperty",value:function(t){var e=this;this.propertyList.forEach((function(n){var i=n.source.idRef;n.source.isParentRef;if(i&&"Array"!==n.source.type&&t[i]){var o=t[i];n.source.isParentRef&&(e.parentRef=o),o===e&&(n._selfLink=!0),n.parentPropertyRef=o.idProperty}})),this.navigationPropertyList.forEach((function(n){var i=n.source.objectRef;if(i&&t[i]){var o=t[i],a=o.navigationPropertyList.find((function(t){return t.source.objectRef===e.id}));o===e&&(n._selfLink=!0),n.doubleRef=a}}))}},{key:"traverse",value:function(e){e(this),this.propertyList.forEach((function(n){n.ref instanceof t&&e(n)}))}},{key:"makeLink",value:function(t){this.propertyList.forEach((function(e){if(e.parentPropertyRef instanceof me){var n=e.parentPropertyRef;e._selfLink?t({from:e.id,to:n.id,part:"property",fromDir:w.LEFT,toDir:w.LEFT,content:e.association,minSpanX:80,meta:{from:e,to:n}}):t({from:e.id,to:n.id,part:"property",content:e.association,meta:{from:e,to:n}})}})),this.navigationPropertyList.forEach((function(e){if(e.doubleRef instanceof me){var n=e.doubleRef;e._selfLink?t({from:e.id,to:n.id,part:"property",fromDir:w.LEFT,toDir:w.TOP,lineDash:[10,5],doubleLink:!0,content:e.association,minSpanX:80,minSpanY:80,meta:{from:e,to:n}}):t({from:e.id,to:n.id,part:"property",lineDash:[10,5],doubleLink:!0,content:e.association,meta:{from:e,to:n,isObjectRef:!0}})}}))}}]),t}();function ye(t){var e={},n=t.map((function(t){var n=new be(t);return e[t.name]=n,n}));return n.forEach((function(t){t._traverseProperty(e)})),n}var we=function(){function t(e){Object(r["a"])(this,t),this.static=!1,this.flowStack=[],this.flowLinkStack=[],this.erNodes=[],this.reOrder(e.entityRelationship)}return Object(s["a"])(t,[{key:"reOrder",value:function(t){var e=this;this.er=t,this.flowStack=[],this.flowLinkStack=[];var n=ye(this.er),i=[];n.forEach((function(t){t.traverse((function(t){e.flowStack.push({type:t.type,configs:t.source,layoutMeta:t})})),t.makeLink((function(t){var n=t.from,o=t.to,a=t.meta;if(a.isObjectRef){var r="".concat(n,"-").concat(o),s="".concat(o,"-").concat(n),c=a.from;if(i.includes(r)||i.includes(s))return;c.source.isParentRef||(i.push(r),i.push(s),e.flowLinkStack.push(t))}else e.flowLinkStack.push(t)}))})),this.erNodes=n}},{key:"staticCheck",value:function(t,e){return!1}},{key:"reflow",value:function(t){this.flowLinkStack,this.erNodes;var e={},n=1e3;function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[0,0];return t.parentRef?e.includes(t.parentRef)?[o[0]-n/2+t.source.diagramWeight*n,o[1]]:(e.push(t.parentRef),o=i(t.parentRef,e),[o[0]-n/2+t.source.diagramWeight*n,o[1]+600]):o}this.erNodes.forEach((function(t){var n=t.getJflowInstance(),o=i(t),a=Object(m["a"])(o,2),r=a[0],s=a[1];e[s]||(e[s]=[]),e[s].push(t),n.anchor=[r+500*e[s].length,s],300}))}}]),t}(),ke=we,Ae=yt(Ot),Oe=yt(_t),je=yt(Pt),_e=yt(xt,{shapeShift:function(t,e){return[t+.28865*e,e]}}),Te=yt(Bt,{shapeShift:function(t,e){return[t,e+.5773*t]}}),Se=yt(St),Ce=yt(kt,{shapeShift:function(t,e,n){var i=Math.ceil(Math.sqrt(t*t+e*e)/2);n.radius=i;var o=2*i;return[o,o]}}),Pe=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this),i.uniqueName="jflow",i.eventAdapter=new gt(t.eventAdapter),i.initNodeWeakMap(),i.initAnime(),i.initStack(t),i.initLayout(t),i.ctx=null,i.canvas=null,i.dpr=1,i.padding=20,i.position=null,i.scale=null,i.initialZoom=t.initialZoom,i.initialPosition=t.setInitialPosition,i.maxZoom=t.maxZoom||3,i.minZoom=t.minZoom||.5,i.NodeRenderTop=!!t.NodeRenderTop,i.worldMargin=t.worldMargin,i.offeset=null,i._lastState={x:null,y:null,dragging:!1,processing:!1},i._lastDragState={target:null,targetLink:null,processing:!1},i._target={instance:null,link:null,moving:null,isInstanceDirty:!1,isLinkDirty:!1,cache:{stack:null,belongs:null,point:null},meta:{x:void 0,y:void 0,initialX:void 0,initialY:void 0},status:{dragovering:!1,dragging:!1,processing:!1}},i._focus={instance:null},i._dragOverTarget=null,i.allowDrop=t.allowDrop,i._tempNode=null,i._tempLink=null,i.mode=A.DEFAULT,i}return Object(s["a"])(n,[{key:"setMovingTargets",value:function(t){Object.assign(this._target,{moving:t})}},{key:"setTempDraggingInstance",value:function(t){t._belongs=this,this._tempNode=t,Object.assign(this._target,{moving:[this._tempNode],dragging:!0})}},{key:"removeTempDraggingInstance",value:function(){if(this._tempNode){var t=this._tempNode.anchor;return this._tempNode=null,t}}},{key:"$mount",value:function(t){var e=u(t),n=e.canvas,i=e.ctx,o=e.scale,a=e.width,r=e.height,s=e.raw_width,c=e.raw_height;e.left,e.top;this.reflow(),this.ctx=i,this.DOMwrapper=t,this.canvas=n,this.canvasMeta={width:s,height:c,actual_width:a,actual_height:r},this.dpr=o,this._createEventHandler(),this._getBoundingGroupRect();var h,l=this.padding,d=this.bounding_box,f=d.width,v=d.height,g=d.x,p=d.y,m={x:l,y:l,width:a-2*l,height:r-2*l},b={x:0,y:0,offsetX:0,offsetY:0},y=m.width/f,w=m.height/v,k=y<=w?"x":"y";h=this.initialZoom?this.initialZoom:Math.min(y,w),this.scale=h,h>this.maxZoom&&(this.maxZoom=h),h<this.minZoom&&(this.minZoom=h);var A=g*h,O=p*h,j=m.width,_=m.height;if(this.initialPosition){var T=this.initialPosition(A,O,j,_,m.x,m.y,a,r,g,p,f,v),S=T.x,C=T.y;b.x=S,b.y=C}else b.x="x"===k?m.x:(j-f*h)/2+l,b.y="y"===k?m.y:(_-v*h)/2+l;b.offsetX=b.x-A,b.offsetY=b.y-O,this.position=b,this._readyToRender=!0,this._render()}},{key:"setLinkingMode",value:function(t,e){var n=this.getRenderNodeBySource(t);this._tempNode=new J,this._tempLink=e({from:n,to:this._tempNode}),this.sendMessage({instance:t}),this.mode=A.LINKING}},{key:"setLinkingLink",value:function(t){this.mode===A.LINKING&&this._tempLink.setConfig(t)}},{key:"resetLinkingLink",value:function(){this.mode===A.LINKING&&this._tempLink.setConfig({to:this._tempNode})}},{key:"resizeCanvas",value:function(){var t=d(this.canvas,this.DOMwrapper),e=t.width,n=t.height,i=t.raw_width,o=t.raw_height;this.canvasMeta={width:i,height:o,actual_width:e,actual_height:n}}},{key:"focusOn",value:function(t){var e=this._calculatePointBack([this.canvasMeta.actual_width/2,this.canvasMeta.actual_height/2]),n=t.anchor;t._belongs.calculateToCoordination&&(n=t._belongs.calculateToCoordination(n));var i=(e[0]-n[0])*this.scale,o=(e[1]-n[1])*this.scale;this._recalculatePosition(i,o),this._render()}},{key:"_getBoundingGroupRect",value:function(){var t=this._stack.getBoundingRectPoints();if(this.bounding_box){this.bounding_box=O(t);var e=this.bounding_box,n=e.x,i=e.y,o=this.scale;this.position.x=this.position.offsetX+n*o,this.position.y=this.position.offsetY+i*o}else this.bounding_box=O(t)}},{key:"_createEventHandler",value:function(){var t,e=this,n=this.canvas;this.eventAdapter.apply(this);var i=function(){e.eventAdapter.unload(e)};if(t=i,this.allowDrop){var o=this._onDragover.bind(this),a=this._onDrop.bind(this);n.addEventListener("dragover",o),n.addEventListener("drop",a),t=function(){i(),n.removeEventListener("dragover",o),n.removeEventListener("drop",a)}}this.destroy=t}},{key:"_targetLockOn",value:function(t,e){var n=this,i=this._calculatePointBack(t),o=i;this._currentp=i;var a,r=this._stack,s=this._getViewBox(),c=r.checkHit(i,(function(t){return n._target.status.dragging&&t===n._getMovingTarget()}),(function(t){return F(s,t.getBoundingRect())})),h=this._linkStack,l=this;if(c&&c._belongs!==this||(a=h.checkHit(i,(function(t){if(!n._target.status.dragging)return!1;var e=n._getMovingTarget();return t.from===e||t.to===e}))),Object.assign(this._target,{instance:c,link:a,isInstanceDirty:c===this._target.instance,isLinkDirty:a===this._target.link}),Object.assign(this._target.cache,{stack:r,belongs:l,point:i,topLayerPoint:o}),Object.assign(this._target.meta,{x:t[0],y:t[1]}),"pressStart"===e&&!this._target.status.dragging&&!this._target.status.dragovering){var u=c;while(u&&u._belongs.lock&&u!==this)u=u._belongs;this.setMovingTargets(u&&[u]),u&&c.bubbleEvent(new dt("afterResolveMovingTarget",{event:e,target:u,jflow:this,bubbles:!0}))}return this._target}},{key:"_getMovingTarget",value:function(){return this._target.moving&&this._target.moving[0]}},{key:"_processDragOver",value:function(t,e){if(this._dragOverTarget!==t){var n,i=null===(n=this.readMessage())||void 0===n?void 0:n.instance;if(this._dragCurrentData=i,this._dragOverTarget){var o=this._dragOverTarget;o.dispatchEvent(new dt("dragleave",{event:e,instance:o,target:i}))}t&&t.dispatchEvent(new dt("dragenter",{event:e,instance:t,target:i})),this._dragOverTarget=t}else this._dragOverTarget&&this._dragOverTarget.dispatchEvent(new dt("dragover",{event:e,instance:t,target:this._dragCurrentData}))}},{key:"_onDragover",value:function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!this._lastDragState.processing){this._lastDragState.processing=!0;var n=t.offsetX,i=t.offsetY;Object.assign(this._target.status,{dragovering:!0}),this._targetLockOn([n,i]);var o=this._target.instance||this._target.link;this._processDragOver(o,t),this._target.isLinkDirty||this._target.isInstanceDirty?Promise.resolve().then((function(){e._render(),e._target.isLinkDirty=!1,e._target.isInstanceDirty=!1,e._lastDragState.processing=!1})):this._lastDragState.processing=!1}}},{key:"_onDrop",value:function(t){var e=this,n=(t.offsetX,t.offsetY,t.clientX,t.clientY,this.consumeMessage()),i=n.instance;if(this._dragOverTarget){var o=this._dragOverTarget;o.dispatchEvent(new dt("dragoverend",{event:t,instance:o})),this._dragOverTarget=null}var a=this._target,r=a.link,s=a.instance,c=this._target.cache,h=c.point,l=c.belongs;r?(i.anchor=h,r.dispatchEvent(new dt("drop",{event:t,instance:i,link:r,jflow:this,belongs:l,point:h}))):s?s.dispatchEvent(new dt("drop",{event:t,instance:i,jflow:this,target:s,point:h})):this.dispatchEvent(new dt("drop",{event:t,instance:i,jflow:this,target:s,point:h})),requestAnimationFrame((function(){e._target.instance=null,e._target.link=null,Object.assign(e._target.status,{dragovering:!1})}))}},{key:"zoomHandler",value:function(t,e,n,i,o){var a=this;if(!this._zooming){this._zooming=!0;var r=this.bounding_box,s=r.width,c=r.height,h=(r.x,r.y,this.canvasMeta),l=h.actual_width,u=h.actual_height,d=this.minZoom;if(this.worldMargin){var f=this.worldMargin,v=s+2*f,g=c+2*f;d=Math.max(d,Math.max(l/v,u/g))}var p=this.scale,m=i>0?1.1:1/1.1;p*=m,p=Math.min(this.maxZoom,Math.max(d,p));var b=p-this.scale,y=s*this.scale,w=c*this.scale,k=s*b,A=c*b,O=t-this.position.x,j=e-this.position.y,_=-O/y,T=-j/w;this.scale=p,this._recalculatePosition(_*k,T*A),this.dispatchEvent(new dt("zoompan")),this.scheduleRender((function(){a._zooming=!1}))}}},{key:"panHandler",value:function(t,e,n){var i=this;this._panning||(this._panning=!0,this._recalculatePosition(t,e),this.dispatchEvent(new dt("zoompan")),this.scheduleRender((function(){i._panning=!1})))}},{key:"pressStartHandler",value:function(t,e,n){if(Object.assign(this._target.meta,{initialX:t,initialY:e}),this._targetLockOn([t,e],"pressStart"),this.mode!==A.LINKING){if(Object.assign(this._target.status,{dragging:!0,processing:!1}),this._target.moving){var i=this._getMovingTarget();i.dispatchEvent(new dt("pressStart",{event:n,instance:i,jflow:this}))}if(this._target.instance){var o=this._target.instance;o.bubbleEvent(new dt("instancePressStart",{event:n,target:o,jflow:this,bubbles:!0}))}}}},{key:"pressMoveHandler",value:function(t,e,n){var i=this,o=this._target.status,a=o.dragging,r=o.processing,s=this._target.meta,c=s.x,h=s.y;if(this.canvas.style.cursor="default",!a&&!r){var l=this._targetLockOn([t,e]),u=l.link,d=l.instance,f=d||u;if(f&&f.bubbleEvent(new dt("instancemousemove",{event:n,instance:f,jflow:this,bubbles:!0})),this.mode===A.LINKING)return this._tempNode.anchor=this._currentp,void this.scheduleRender((function(){i._target.isLinkDirty=!1,i._target.isInstanceDirty=!1,i._target.status.processing=!1}))}if(this.dispatchEvent(new dt("canvasmousemove",{event:n,jflow:this})),a&&(this.canvas.style.cursor="grabbing",!r)){var v=this._target.moving;this._target.status.processing=!0;var g=t-c,p=e-h;v?v.forEach((function(t){t.anchor[0]+=g/i.scale,t.anchor[1]+=p/i.scale})):(this._recalculatePosition(g,p),this.dispatchEvent(new dt("zoompan")));var m=this._targetLockOn([t,e]),b=m.instance,y=m.link;this._processDragOver(b||y,n),this.scheduleRender((function(){i._target.isLinkDirty=!1,i._target.isInstanceDirty=!1,i._target.status.processing=!1}))}}},{key:"pressUpHanlder",value:function(t,e){this._target.meta;if(this.mode===A.LINKING){var n=this._target.instance,i=this.consumeMessage();if(n)n.bubbleEvent(new dt("link",{event:e,target:n,jflow:this,payload:i,bubbles:!0}));else{var o=e.offsetX,a=e.offsetY;this.dispatchEvent(new dt("link",{event:e,jflow:this,payload:i,anchor:this._calculatePointBack([o,a])}))}return this._clearTarget(),this._tempNode&&(this._tempNode.destroy(),this._tempNode=null),this._tempLink&&(this._tempLink.destroy(),this._tempLink=null),this.mode=A.DEFAULT,void this._render()}if(this._target.moving){var r=!1;if(this._layout.static&&(r=this.staticCheck(this._getMovingTarget())),!r&&this._target.link){var s=this._target.cache,c=(s.point,s.belongs),h=this._target.link,l=this._getMovingTarget();h.dispatchEvent(new dt("drop",{event:e,instance:l,link:h,jflow:this,belongs:c})),this._target.link=null,this._target.instance=null}this._target.moving&&(this._target.instance?this._target.instance.bubbleEvent(new dt("pressEnd",{event:e,instance:this._getMovingTarget(),jflow:this,target:this._target.instance,bubbles:!0})):this.dispatchEvent(new dt("pressEnd",{event:e,instance:this._getMovingTarget(),jflow:this}))),this._target.moving=null,this.removeTempDraggingInstance(),this._render()}this._clearTarget()}},{key:"clickHanlder",value:function(t,e,n){var i=this._targetLockOn([t,e]),o=i.link,a=i.instance,r=i.meta;if(Math.abs(r.initialX-r.x)<1&&Math.abs(r.initialY-r.y)<1){if(n.target!==this.canvas)return this._clearTarget(),void Object.assign(this._target.meta,{initialX:void 0,initialY:void 0});var s=this._target.cache.topLayerPoint;if(a||o){var c=a||o;c.bubbleEvent(new dt("click",{event:n,jflow:this,target:c,topLayerPoint:s,bubbles:!0}))}else this.dispatchEvent(new dt("click",{event:n,jflow:this,topLayerPoint:s}));this._clearTarget(),Object.assign(this._target.meta,{initialX:void 0,initialY:void 0})}}},{key:"contextMenuHanlder",value:function(t,e,n){var i=this._targetLockOn([t,e]),o=i.link,a=i.instance,r=this._target.cache.topLayerPoint;if(a||o){var s=a||o;s.bubbleEvent(new dt("contextclick",{event:n,jflow:this,target:s,topLayerPoint:r,bubbles:!0}))}else this.dispatchEvent(new dt("contextclick",{event:n,jflow:this,topLayerPoint:r}))}},{key:"dblclickHandler",value:function(t,e,n){var i=this._targetLockOn([t,e]),o=i.link,a=i.instance,r=this._target.cache.topLayerPoint;if(a||o){var s=a||o;s.bubbleEvent(new dt("dblclick",{event:n,jflow:this,target:s,topLayerPoint:r,bubbles:!0}))}else this.dispatchEvent(new dt("dblclick",{event:n,jflow:this,topLayerPoint:r}))}},{key:"_clearTarget",value:function(){Object.assign(this._target.meta,{x:void 0,y:void 0}),Object.assign(this._target.status,{dragging:!1,processing:!1}),Object.assign(this._target,{instance:null,link:null,moving:null})}},{key:"_recalculatePosition",value:function(t,e,n){var i=this.bounding_box,o=i.x,a=i.y,r=i.width,s=i.height,c=this.canvasMeta,h=c.actual_width,l=c.actual_height;if(void 0===n&&(n=this.scale),this.worldMargin){var u=this.worldMargin,d=(o+r+u)*n-h,f=(o-u)*n,v=o*n,g=this.position.x+t,p=g-v;this.position.offsetX=Math.min(Math.max(-d,p),-f),this.position.x=this.position.offsetX+v;var m=(a+s+u)*n-l,b=(a-u)*n,y=a*n,w=this.position.y+e,k=w-y;this.position.offsetY=Math.min(Math.max(-m,k),-b),this.position.y=this.position.offsetY+y}else this.position.x+=t,this.position.y+=e,this.position.offsetX=this.position.x-o*n,this.position.offsetY=this.position.y-a*n}},{key:"calculateToRealWorld",value:function(t){var e=this.scale,n=this.position;return[t[0]*e+n.offsetX,t[1]*e+n.offsetY]}},{key:"_calculatePointBack",value:function(t){var e=this.scale,n=this.position;return[(t[0]-n.offsetX)/e,(t[1]-n.offsetY)/e]}},{key:"_calculateDistance",value:function(t){var e=this.scale;return e*t}},{key:"_resetTransform",value:function(){var t=this.canvasMeta,e=t.width,n=t.height,i=this.position,o=this.scale,a=this.ctx;a.setTransform(),a.clearRect(0,0,e,n),a.scale(this.dpr,this.dpr),a.transform(o,0,0,o,i.offsetX,i.offsetY)}},{key:"_getViewBox",value:function(){var t=[].concat(Object(a["a"])(this._calculatePointBack([0,0])),Object(a["a"])(this._calculatePointBack([this.canvasMeta.actual_width,this.canvasMeta.actual_height])));return this._cacheViewBox=t,t}},{key:"getCacheViewBox",value:function(){return this._cacheViewBox}},{key:"_render",value:function(){this.scheduleRender()}},{key:"__render",value:function(){if(this._readyToRender){this.runAnimeFrame(),this._resetTransform();var t=this.ctx,e=this._getViewBox();this._viewBox=e,this.NodeRenderTop?(this._linkStack.render(t,(function(t){return t.isInViewBox(e)})),this._stack.render(t,(function(t){var n=F(e,t.getBoundingRect());return t._isInViewBox=n,n}))):(this._stack.render(t,(function(t){var n=F(e,t.getBoundingRect());return t._isInViewBox=n,n})),this._linkStack.render(t,(function(t){return t.isInViewBox(e)}))),this._tempNode&&(t.save(),this._tempNode.render(t),t.restore()),this._tempLink&&(t.save(),this._tempLink.isInViewBox(e),this._tempLink.render(t),t.restore())}}}]),n}(Object(l["a"])(EventTarget));Object.assign(Pe.prototype,rt),Object.assign(Pe.prototype,nt),Object.assign(Pe.prototype,ot),Object.assign(Pe.prototype,Z),Object.assign(Pe.prototype,st),Object.assign(Pe.prototype,ct),Object.assign(Pe.prototype,ht);var Ee=Pe,xe={provide:function(){return{addToStack:this.addToStack,addToLinkStack:this.addToLinkStack,removeFromStack:this.removeFromStack,removeFromLinkStack:this.removeFromLinkStack}},data:function(){return{stack:[]}},methods:{addToStack:function(t,e){this._jflowInstance.addToStack(t),e&&t._jflow.setRenderNodeBySource(e,t)},addToLinkStack:function(t){this._jflowInstance.addToLinkStack(t)},removeFromStack:function(t){this._jflowInstance.removeFromStack(t)},removeFromLinkStack:function(t){this._jflowInstance.removeFromLinkStack(t)},onStackChangeHandler:function(){this._jflowInstance.recalculate(),this._jflowInstance.reflow()}}},Me={mixins:[xe],provide:function(){return{renderJFlow:this.renderJFlow,getJFlow:this.getInstance}},props:{configs:{type:Object,default:function(){return{}}},loading:Boolean,genVueComponentKey:{type:Function}},data:function(){return{renderNodes:[],renderLinks:[]}},render:function(t){var e=this;if(this.renderNodes.length){var n=this.renderNodes.map((function(t){var n=t.type,i=t.source,o=t.layoutNode;if(!e.$scopedSlots[n]){if(!e.$scopedSlots["jflowcommon"])return;n="jflowcommon"}if(o.__vnode__)return o.__vnode__;var a=e.$scopedSlots[n]({source:i,layoutNode:o}),r=Object(m["a"])(a,1),s=r[0];return e.genVueComponentKey&&(s.key=e.genVueComponentKey(i)),o.__vnode__=s,s})),i=this.renderLinks.map((function(t){var n=t.type||"plainlink";if(!e.$scopedSlots[n])return null;if(t.__vnode__)return t.__vnode__;var i=e.$scopedSlots[n]({configs:t}),o=Object(m["a"])(i,1),a=o[0];if(e.genVueComponentKey){var r=e.genVueComponentKey(t.from.source),s=e.genVueComponentKey(t.to.source),c=t.part;a.key="".concat(r,"-").concat(s,"-").concat(c)}return t.__vnode__=a,a}));return t("div",[].concat(Object(a["a"])(n),Object(a["a"])(i)))}return t("div",this.$slots.default)},created:function(){this._jflowInstance=new Ee(this.configs),this.genNodeLinkMeta(),this.loadingNodes()},beforeDestroy:function(){this._jflowInstance.destroy()},methods:{loadingNodes:function(){var t=this;this.$emit("update:loading",!0);var e=0,n=function n(){var i=e+100,o=t.links.slice(e,i);o.length?(t.renderLinks=t.renderLinks.concat(o),e=i,requestAnimationFrame(n)):requestAnimationFrame(t.mountJFlow.bind(t))},i=function i(){var o=e+100,a=t.nodes.slice(e,o);a.length?(t.renderNodes=t.renderNodes.concat(a),e=o,requestAnimationFrame(i)):(e=0,requestAnimationFrame(n))};requestAnimationFrame(i)},mountJFlow:function(){var t=this;this._jflowInstance.$mount(this.$el),Object.keys(this.$listeners).map((function(e){var n=t.$listeners[e].bind(t);t._jflowInstance.addEventListener(e,n)})),this.$emit("update:loading",!1)},genNodeLinkMeta:function(){var t=this;this.nodes=this._jflowInstance._layout.flowStack.map((function(e){e.type;var n,i=e.layoutNode,o=e.source,a=t._jflowInstance.source_Layout_Render_NodeMap;return n=a.has(o)?a.get(o):a.set(o),n.layoutNode=i,e})),this.links=this._jflowInstance._layout.flowLinkStack.slice()},syncNodeLink:function(){this.renderNodes=this.nodes.slice(),this.renderLinks=this.links.slice()},reflow:function(t,e){var n=this;this.genNodeLinkMeta(),this.syncNodeLink(),this.$nextTick((function(){t&&t(),n._jflowInstance.recalculate(),n._jflowInstance.scheduleRender((function(){e&&e()}))}))},getInstance:function(){return this._jflowInstance},renderJFlow:function(){var t=this;this.__renderInSchedule__||(this.__renderInSchedule__=!0,this.$nextTick((function(){t._jflowInstance._render(),t.__renderInSchedule__=!1})))}}},Be=n("dd43"),Ie=n.n(Be),De=function(t){var e="string"===typeof t?i[t]:t;return{inject:["addToStack","removeFromStack"],props:{configs:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!0},source:{type:Object}},watch:{configs:function(t,e){var n=Ie()(t,e);0!==Object.keys(n).length&&this._jflowInstance.setConfig(t)},$listeners:function(t,e){var n=this,i=[],o=[],a=Object.keys(t).map((function(e){return{event:e,handler:t[e]}})),r=Object.keys(e).map((function(t){return{event:t,handler:e[t]}}));a.forEach((function(t){var e=t.handler;r.find((function(t){return t.handler===e}))||i.push(t)})),r.forEach((function(t){var e=t.handler;a.find((function(t){return t.handler===e}))||o.push(t)})),i.forEach((function(t){n._jflowInstance.addEventListener(t.event,t.handler)})),o.forEach((function(t){n._jflowInstance.removeEventListener(t.event,t.handler)}))},visible:function(t){this._jflowInstance.visible=t},source:function(t){this._jflowInstance._jflow.setRenderNodeBySource(t,this._jflowInstance)}},render:function(t){return null},created:function(){this._jflowInstance=new e(this.configs),this._jflowInstance.visible=this.visible,this.bindListeners(),this.addToStack(this._jflowInstance,this.source)},destroyed:function(){this._jflowInstance.destroy(),this.removeFromStack(this._jflowInstance)},methods:{bindListeners:function(){var t=this;Object.keys(this.$listeners).map((function(e){var n=t.$listeners[e];t._jflowInstance.addEventListener(e,n)}))}}}},Le=function(t,e){var n="string"===typeof t?i[t]:t;return{inject:["addToLinkStack","removeFromLinkStack","getJFlow"],props:{configs:{type:Object,default:function(){return{}}},from:Object,to:Object},render:function(t){return null},created:function(){var t=this.getJFlow(),e=t.getRenderNodeBySource(this.from),i=t.getRenderNodeBySource(this.to);e&&i&&(this._jflowInstance=new n(Object(lt["a"])(Object(lt["a"])({},this.configs),{},{from:e,to:i})),this.bindListeners(),this.addToLinkStack(this._jflowInstance))},mounted:function(){var t=this;this.unwatch=this.$watch((function(){return[t.from,t.to,t.configs]}),(function(){t.refreshConfig()}))},methods:{refreshConfig:function(){var t=this.getJFlow(),e=t.getRenderNodeBySource(this.from),n=t.getRenderNodeBySource(this.to);this._jflowInstance.setConfig(Object(lt["a"])(Object(lt["a"])({},this.configs),{},{from:e,to:n}))},bindListeners:function(){var t=this;Object.keys(this.$listeners).map((function(e){var n=t.$listeners[e];t._jflowInstance.addEventListener(e,n)}))}},destroyed:function(){this.unwatch(),this._jflowInstance&&this.removeFromLinkStack(this._jflowInstance)}}},Re=(n("e9c4"),function(t){var e="string"===typeof t?i[t]:t;return{mixins:[xe],inject:{addToBelongStack:{from:"addToStack"},removeFromBelongStack:{from:"removeFromStack"},renderJFlow:{from:"renderJFlow"}},render:function(t){return t("jflow-group",this.$slots.default)},props:{configs:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!0},source:{type:Object}},watch:{configs:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&this._jflowInstance.setConfig(t)},$listeners:function(t,e){var n=this,i=[],o=[],a=Object.keys(t).map((function(e){return{event:e,handler:t[e]}})),r=Object.keys(e).map((function(t){return{event:t,handler:e[t]}}));a.forEach((function(t){var e=t.handler;r.find((function(t){return t.handler===e}))||i.push(t)})),r.forEach((function(t){var e=t.handler;a.find((function(t){return t.handler===e}))||o.push(t)})),i.forEach((function(t){n._jflowInstance.addEventListener(t.event,t.handler)})),o.forEach((function(t){n._jflowInstance.removeEventListener(t.event,t.handler)}))},visible:function(t){this._jflowInstance.visible=t},source:function(t){this._jflowInstance._jflow.setRenderNodeBySource(t,this._jflowInstance)}},created:function(){var t=this;this._jflowInstance=new e(this.configs),this._jflowInstance.visible=this.visible,Object.keys(this.$listeners).map((function(e){var n=t.$listeners[e].bind(t);t._jflowInstance.addEventListener(e,n)})),this.addToBelongStack(this._jflowInstance,this.source)},mounted:function(){this._jflowInstance.recalculate()},updated:function(){this._jflowInstance.recalculateUp()},destroyed:function(){this._jflowInstance.destroy(),this.removeFromBelongStack(this._jflowInstance)}}}),Fe=["Point","Rectangle","Capsule","Diamond","Rhombus","Text","Icon","ShadowDom"],Ne=["Link","PolyLink","BezierLink"],Ye=["CapsuleGroup","CapsuleVerticalGroup","DiamondGroup","DiamondVerticalGroup","RhombusGroup","PointGroup"],Xe=[{name:"Jflow",component:Me},{name:"Group",component:Re("Group")}].concat(Object(a["a"])(Ye.map((function(t){return{name:t,component:Re(t)}}))),Object(a["a"])(Fe.map((function(t){return{name:t,component:De(t)}}))),Object(a["a"])(Ne.map((function(t){return{name:t,component:Le(t)}})))),He="j";customElements.define("jflow-group",function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.attachShadow({mode:"open"}),t}return Object(s["a"])(n)}(Object(l["a"])(HTMLElement)));var We,Ge={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=He;e&&e.prefix&&(n=e.prefix),Xe.forEach((function(e){t.component("".concat(n).concat(e.name),e.component)})),e.customInstance&&Object.keys(e.customInstance).forEach((function(i){t.component("".concat(n).concat(i),De(e.customInstance[i]))})),e.customGroups&&Object.keys(e.customGroups).forEach((function(i){console.log("".concat(n).concat(i)),t.component("".concat(n).concat(i),Re(e.customGroups[i]))})),e.customLink&&Object.keys(e.customLink).forEach((function(i){console.log("".concat(n).concat(i)),t.component("".concat(n).concat(i),Le(e.customLink[i]))}))}},Ve=Math.PI/180,qe={RIGHT:0,BOTTOM:1,LEFT:2,TOP:3,STARTLOOP:6,ENDLOOP:16},Qe=(We={},Object(Y["a"])(We,qe.RIGHT,180*Ve),Object(Y["a"])(We,qe.BOTTOM,270*Ve),Object(Y["a"])(We,qe.LEFT,0),Object(Y["a"])(We,qe.TOP,90*Ve),Object(Y["a"])(We,qe.STARTLOOP,180*Ve),Object(Y["a"])(We,qe.ENDLOOP,180*Ve),We);function Ue(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.TOP,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qe.TOP,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:15,c=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,l=[];if(n===qe.BOTTOM){if(i===qe.RIGHT)if(c&&2===c.length){var u=c[0]+h[0],d=c[1]+h[1];l.push([t[0],d]),l.push([u,d]),l.push([u,e[1]])}else l.push([t[0],e[1]]);i===qe.ENDLOOP&&(l.push([t[0],t[1]+s]),l.push([e[0]+r,t[1]+s]),l.push([e[0]+r,e[1]]))}if(n===qe.RIGHT&&(i===qe.TOP&&l.push([e[0],t[1]]),i===qe.RIGHT))if(c&&4===c.length){var f=c[0]+h[0],v=c[2]+h[0],g=c[1]+h[1],p=c[3]+h[1];l.push([f,g]),l.push([f,p]),l.push([v,p]),l.push([v,e[1]])}else l.push([t[0]+o,t[1]]),l.push([t[0]+o,e[1]]);return n===qe.STARTLOOP&&(i===qe.TOP&&l.push([e[0],t[1]]),i===qe.ENDLOOP&&(l.push([t[0]+o,t[1]]),l.push([t[0]+o,t[1]+a]),l.push([t[0]+r,t[1]+a]),l.push([t[0]+r,e[1]]))),l.unshift(t),l.push(e),l}function Je(t,e){return[t[0]-e[0],t[1]-e[1]]}function ze(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ke(t,e){return[t[0]*e,t[1]*e]}function Ze(t){var e=[],n=t.length,i=1,o=0;while(i<n){var a=t[i-1],r=t[i],s=Math.sqrt(on(a,r));o+=s,e.push({p1:a,p2:r,dist:s,reducedDist:o}),i++}return e}function $e(t,e,n,i){var o=Je(e,t),a=Je(e,n),r=ze(o),s=ze(a);if(!r||!s)return{p1:null,p2:null};var c=Ke(o,i/r),h=Ke(a,i/s);return{p1:Je(e,c),p2:Je(e,h)}}function tn(t,e){var n=t[0],i=t.length,o=1,a=Object(m["a"])(e,4),r=a[0],s=a[1],c=a[2],h=a[3];while(o<i){var l=t[o];if(n[0]===l[0]){if(n[0]<c&&n[0]>r&&!(n[1]>h&&l[1]>h||n[1]<s&&l[1]<s))return!0}else if(n[1]<h&&n[1]>s&&!(n[0]>c&&l[0]>c||n[0]<r&&l[0]<r))return!0;n=l,o++}return!1}function en(t,e,n){var i=on(e,n);if(0===i)return on(t,e);var o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/i;return o=Math.max(0,Math.min(1,o)),on(t,[e[0]+o*(n[0]-e[0]),e[1]+o*(n[1]-e[1])])}function nn(t){return t*t}function on(t,e){return nn(t[0]-e[0])+nn(t[1]-e[1])}var an=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"getIntersectionsSeprate",value:function(){var t,e=this.anchor,n=Object(m["a"])(e,2),i=n[0],o=n[1],a=this.width/2,r=this.height/2,s=r/2;return t={},Object(Y["a"])(t,qe.RIGHT,[i+a,o]),Object(Y["a"])(t,qe.LEFT,[i-a,o]),Object(Y["a"])(t,qe.BOTTOM,[i,o+r]),Object(Y["a"])(t,qe.TOP,[i,o-r]),Object(Y["a"])(t,qe.STARTLOOP,[i+a,o-s]),Object(Y["a"])(t,qe.ENDLOOP,[i+a,o+s]),t}},{key:"render",value:function(t){t.save(),1!==this.opacity&&(t.globalAlpha=this.opacity),Object(Wt["a"])(Object(Gt["a"])(n.prototype),"render",this).call(this,t),t.restore()}}]),n}(Ae),rn=20;function sn(t){var e=1;while(e<t.length){if(t[e-1][1]-t[e][1])return[t[e-1].slice(),t[e].slice()];e++}}function cn(t,e){return t[0]===e[0]&&t[1]===e[1]}var hn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.approximate=t.approximate||rn,i.radius=t.radius||0,i.minSpanX=t.minSpanX||10,i.minSpanY=t.minSpanY||10,i.lineDash=t.lineDash,i.doubleLink=t.doubleLink,i.fontFamily=t.fontFamily="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,Noto Sans,PingFang SC,Microsoft YaHei,Hiragino Sans GB,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",i.fontSize=t.fontSize||"12px",i.content=t.content||"",i.noArrow=!!t.noArrow,i.bendPoint=t.bendPoint,i.iterateEndY=t.iterateEndY,i.minGapY=t.minGapY,i.showAdd=!1,i.showDragover=!1,i.tailPoint=t.tailPoint,i.tailRadius=t.tailRadius,i.arrowSegment=t.arrowSegment,i.animePoint=t.animePoint||{enable:!1},i}return Object(s["a"])(n,[{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){if(void 0!==t[n]&&null!==t[n]&&(e[n]=t[n],"animePoint"===n)){var i,o=t.animePoint.enable;null===(i=e.anime)||void 0===i||i.cancel(),o&&(e.anime=e._jflow.requestJFlowAnime((function(t){e.animePoint.offset=t/10%e.animePoint.gap})))}}))}},{key:"_calculateAnchorPoints",value:function(){var t=this.from.getIntersectionsSeprate(),e=this.to.getIntersectionsSeprate(),n=this.from.getCenter(),i=Ue(t[this.fromDir],e[this.toDir],this.fromDir,this.toDir,this.minSpanX||100,this.minSpanY||55,20,this.minGapY||15,this.bendPoint,n);this._cachePoints=i,this._cacheAngle=[this.fromDir,this.toDir],this._cacheInteractableSegment=sn(i),this.iterateEndY&&(this._cacheInteractableSegment[1][1]=Math.min(this.iterateEndY+n[1],this._cacheInteractableSegment[1][1])),this._cacheSegment=Ze(i)}},{key:"isInViewBox",value:function(t){return this._calculateAnchorPoints(),tn(this._cachePoints,t)}},{key:"render",value:function(t){var e=this;t.save(),1!==this.opacity&&(t.globalAlpha=this.opacity);var n=this.radius,i=this._cachePoints,o=this._cacheInteractableSegment,a=i[0],r=i[i.length-1],s=Qe[this._cacheAngle[1]];if(t.fillStyle=t.strokeStyle=this.animePoint.enable?this.animePoint.color:this.backgroundColor,t.beginPath(),t.moveTo(a[0],a[1]),i.slice(1,i.length-1).forEach((function(o,a){if(e.radius){var r=i[a],s=i[a+2],c=$e(r,o,s,n),h=c.p1,l=c.p2;h&&l?(t.lineTo(h[0],h[1]),t.quadraticCurveTo(o[0],o[1],l[0],l[1])):t.lineTo(o[0],o[1])}else t.lineTo(o[0],o[1])})),t.lineTo(r[0],r[1]),this.tailPoint){var c=i[i.length-2],h=this.to.anchor,l=$e(c,h,[h[0],h[1]+50],this.tailRadius),u=l.p1,d=l.p2;t.lineTo(u[0],u[1]),t.quadraticCurveTo(h[0],h[1],d[0],d[1])}if(this.lineDash&&(t.save(),t.setLineDash(this.lineDash)),t.stroke(),this.lineDash&&t.restore(),this.arrowSegment){console.log(this.arrowSegment),t.save();var f=0,v=0,g=this._cacheSegment.length;console.log(this._cacheSegment);while(v<g){var p=this._cacheSegment[v],m=p.p1,b=p.p2,y=p.dist,w=p.reducedDist,k=b[0]-m[0],A=b[1]-m[1];while(f<w){if(f>0){var O=1-(w-f)/y,j=void 0,_=void 0,T=void 0;k?(j=m[0]+O*k,_=m[1],T=k>0?Qe[qe.RIGHT]:Qe[qe.LEFT]):A&&(j=m[0],_=m[1]+O*A,T=A>0?Qe[qe.BOTTOM]:Qe[qe.TOP]),t.beginPath(),t.translate(j,_),t.rotate(T),t.moveTo(-5,0),t.lineTo(0,-4),t.lineTo(0,4),t.lineTo(-5,0),t.fill(),t.rotate(-T),t.translate(-j,-_)}f+=this.arrowSegment}v++}t.restore()}if(this.animePoint.enable){var S=this.animePoint.gap,C=this.animePoint.offset,P=C,E=0,x=this._cacheSegment.length;while(E<x){var M=this._cacheSegment[E],B=M.p1,I=M.p2,D=M.dist,L=M.reducedDist,R=I[0]-B[0],F=I[1]-B[1];while(P<L){if(P>0){var N=1-(L-P)/D;t.beginPath();var Y=void 0,X=void 0;R?(Y=B[0]+N*R,X=B[1],R<0?(t.moveTo(Y-4,X),t.lineTo(Y+2,X-4),t.lineTo(Y+2,X+4)):(t.moveTo(Y+4,X),t.lineTo(Y-2,X-4),t.lineTo(Y-2,X+4))):F&&(Y=B[0],X=B[1]+N*F,F<0?(t.moveTo(Y,X-4),t.lineTo(Y-4,X+2),t.lineTo(Y+4,X+2)):(t.moveTo(Y,X+4),t.lineTo(Y-4,X-2),t.lineTo(Y+4,X-2))),t.closePath(),t.fill()}P+=S}E++}}if(this.showAdd){t.beginPath(),t.moveTo(o[0][0],o[0][1]),t.lineTo(o[1][0],o[1][1]),t.save(),t.lineWidth=2,t.fillStyle="#fff",t.strokeStyle="#4C88FF",t.stroke();var H=o[0][0],W=(o[1][1]-o[0][1])/2+o[0][1];t.translate(H,W),t.beginPath(),t.moveTo(-4,-6),t.lineTo(4,-6),t.quadraticCurveTo(6,-6,6,-4),t.lineTo(6,4),t.quadraticCurveTo(6,6,4,6),t.lineTo(-4,6),t.quadraticCurveTo(-6,6,-6,4),t.lineTo(-6,-4),t.quadraticCurveTo(-6,-6,-4,-6),t.closePath(),t.stroke(),t.fill(),t.lineWidth=1,t.beginPath(),t.moveTo(-4,0),t.lineTo(4,0),t.stroke(),t.beginPath(),t.moveTo(0,-4),t.lineTo(0,4),t.stroke(),t.translate(-H,-W),t.restore()}if(this.showDragover){t.save(),t.lineWidth=2,t.fillStyle="#fff",t.strokeStyle="#4C88FF",t.setLineDash([5,5]);var G=o[0][0],V=(o[1][1]-o[0][1])/2+o[0][1];t.translate(G,V),t.beginPath(),t.rect(-33,-5,66,10),t.fill(),t.stroke(),t.translate(-G,-V),t.restore()}if(!this.noArrow){var q=cn(o[1],i[i.length-1]);q&&this.showAdd&&(t.save(),t.fillStyle=t.strokeStyle="#4C88FF"),t.beginPath(),t.translate(r[0],r[1]),t.rotate(s),t.moveTo(0,0),t.lineTo(-5,-4),t.lineTo(-5,4),t.lineTo(0,0),t.fill(),t.rotate(-s),t.translate(-r[0],-r[1]),q&&t.restore()}if(this.content)switch(t.beginPath(),t.font="".concat(this.fontSize," ").concat(this.fontFamily),this.fromDir){case qe.BOTTOM:t.textAlign="left",t.fillText(this.content,a[0]+2,a[1]+10);break;case qe.RIGHT:case qe.STARTLOOP:t.textAlign="left",t.fillText(this.content,a[0]+10,a[1]-2);break;default:break}t.restore()}},{key:"isHit",value:function(t){var e=this._cacheInteractableSegment,n=en(t,e[0],e[1]);return n<this.approximate}}]),n}(Lt),ln=hn,un=6,dn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.approximate=t.approximate||un,i.showAdd=!1,i}return Object(s["a"])(n,[{key:"_calculateAnchorPoints",value:function(){var t=this.from.getIntersectionsSeprate(),e=this.to.getIntersectionsSeprate(),n=[t[this.fromDir],e[this.toDir]];this._cachePoints=n}},{key:"isInViewBox",value:function(t){return this._calculateAnchorPoints(),tn(this._cachePoints,t)}},{key:"render",value:function(t){t.save();var e=Object(m["a"])(this._cachePoints,2),n=e[0],i=e[1];if(t.fillStyle=t.strokeStyle=this.backgroundColor,t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(i[0],i[1]),t.save(),t.setLineDash([2,2]),t.stroke(),t.restore(),t.fillStyle="#fff",t.beginPath(),t.arc(n[0],n[1]+4,4,0,2*Math.PI),t.fill(),t.stroke(),t.beginPath(),t.arc(i[0],i[1]-4,4,0,2*Math.PI),t.fill(),t.stroke(),this.showAdd){t.save(),t.lineWidth=2,t.fillStyle="#fff";var o=n[0],a=(i[1]-n[1])/2+n[1];t.translate(o,a),t.beginPath(),t.moveTo(0,-8),t.lineTo(6.9,-4),t.lineTo(6.9,4),t.lineTo(0,8),t.lineTo(-6.9,4),t.lineTo(-6.9,-4),t.closePath(),t.stroke(),t.fill(),t.lineWidth=1,t.beginPath(),t.moveTo(-4,0),t.lineTo(4,0),t.stroke(),t.beginPath(),t.moveTo(0,-4),t.lineTo(0,4),t.stroke(),t.translate(-o,-a),t.restore()}t.restore()}},{key:"isHit",value:function(t){var e=this._cachePoints,n=en(t,e[0],e[1]);if(n<this.approximate)return!0}}]),n}(Lt),fn=dn,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:t.$style.body},[n("div",{class:t.$style.sidebar},t._l(t.conceptList,(function(e){return n("div",{key:e.concept},[n("div",{class:t.$style.part,attrs:{draggable:"true",type:"IfStatement"},on:{dragstart:function(n){return t.onDragStart(n,e.concept)},dragend:t.onDragEnd}},[t._v(" "+t._s(e.concept)+" ")]),n("div",{ref:"templete-"+e.concept,refInFor:!0,class:[t.$style.literalRef]},[n("div",{class:t.$style.part},[t._v(" "+t._s(e.concept)+" ")])])])})),0),n("div",{staticStyle:{position:"relative"}},[n("j-jflow",{ref:"jflow",class:t.$style.wrapper,attrs:{configs:t.configs,loading:t.jflowloading,genVueComponentKey:t.genVueComponentKey},on:{"update:loading":function(e){t.jflowloading=e},click:t.onClickCanvas,drop:t.onDrop,pressEnd:t.onPressEnd},scopedSlots:t._u([{key:"LogicBasic",fn:function(e){var i=e.source,o=e.layoutNode;return[n("logic-Node",{attrs:{node:i,layoutNode:o},on:{pressStart:function(e){return t.onPressStart(i)},outOfFlow:function(e){return t.onOutOfFlow(e,i)}}})]}},{key:"Start",fn:function(e){var i=e.source;return[n("start-Node",{attrs:{node:i},on:{click:t.startAllAnimate}})]}},{key:"endpoint",fn:function(t){var e=t.source;return[n("end-point-node",{attrs:{node:e}})]}},{key:"End",fn:function(t){var e=t.source;return[n("end-Node",{attrs:{node:e}})]}},{key:"switchcaselink",fn:function(t){var e=t.configs;return[n("switch-link",{attrs:{linkConfigs:e}})]}},{key:"plainlink",fn:function(e){var i=e.configs;return[n("logic-link",{attrs:{linkConfigs:i},on:{drop:function(e){return t.onDropToLink(e,i)}}})]}}])}),n("div",{class:t.$style.minimap},[n("div",{ref:"minimap",class:t.$style.content})])],1),n("poppup-comp",{attrs:{meta:t.poppups.selectionMeta}}),n("modal-comp",{attrs:{meta:t.modal.modalMeta}})],1),n("div",[n("div",[t._v("参数设置")]),n("div",[n("ul",[n("li",[t._v(" 行间距: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.rowGap},on:{change:function(e){return t.onChange(e,"rowGap")}}})]),n("li",[t._v(" 列间距: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.columnGap},on:{change:function(e){return t.onChange(e,"columnGap")}}})]),n("li",[t._v(" 逻辑块高度: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.rowHeight},on:{change:function(e){return t.onChange(e,"rowHeight")}}})]),n("li",[t._v(" 逻辑块宽度: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.columnWidth},on:{change:function(e){return t.onChange(e,"columnWidth")}}})]),n("li",[t._v(" 折线最小延伸距离X: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.minSpanX},on:{change:function(e){return t.onChange(e,"minSpanX")}}})]),n("li",[t._v(" 折线最小延伸距离Y: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.minSpanY},on:{change:function(e){return t.onChange(e,"minSpanY")}}})]),n("li",[t._v(" 循环回来的线最小延伸距离Y: "),n("input",{attrs:{type:"number"},domProps:{value:t.layoutConstance.minGapY},on:{change:function(e){return t.onChange(e,"minGapY")}}})])])])])])},gn=[],pn=(n("dca8"),n("6afe")),mn={rowGap:50,columnGap:75,columnWidth:189,rowHeight:32,minSpanX:163,minSpanY:50,minGapY:50};function bn(){Object.keys(mn).forEach((function(t){var e=localStorage.getItem(t);console.log(e),null!==e&&(mn[t]=e)}))}function yn(t,e){mn[t]=e,localStorage.setItem(t,e)}function wn(t){return+mn[t]}function kn(t,e,n){var i="Switch"===e.concept;if(i){var o=t.getRenderNodeBySource(e.cases[0]);o.anchor=n}else{var a=t.getRenderNodeBySource(e);a.anchor=n}}function An(t,e){var n="Switch"===e.concept;if(n){var i=e.cases[0],o=t.getRenderNodeBySource(i);return o.anchor}var a=t.getRenderNodeBySource(e);return a.anchor}function On(t){switch(t){case"Assignment":case"ForEach":case"Switch":case"While":case"callInterface":case"callLogic":case"datasearch":case"SwitchCase":case"If":return"LogicBasic";default:return t}}function jn(t){return"Switch"===t.concept?t.cases[0]:t}function _n(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0,c=o,h=o;return e.forEach((function(t,e){var o=t.reflowPreCalculate(a+c,r,s),l=o.spanX,u=o.spanY;n&&"Switch"===n.concept||1!==u||1!==l?(c=h,h+=u,t.reflowPreCalculate(a+c,r,s),"While"===t.concept||"ForEach"===t.concept?c+=1:c+=u,h=Math.max(c,h)):(c+=1,h=Math.max(c,h)),i=Math.max(l,i),n=t})),o=h,{spanX:i,spanY:o}}var Tn=function(){function t(e){Object(r["a"])(this,t),this.source=e,this.id=e.id,this.concept=e.concept,this.type=On(e.concept),this.parent=void 0,this.parentIterateType=void 0,this.idx=void 0,this.row=void 0,this.column=void 0,this.spanX=void 0,this.spanY=void 0,this.rootNode=null}return Object(s["a"])(t,[{key:"reflowPreCalculate",value:function(t,e,n){return this.row=t,this.column=e,this.spanX=1,this.spanY=1,n&&n(t,e,this),{spanX:this.spanX,spanY:this.spanY,row:t,column:e}}},{key:"makeLink",value:function(t){return this}},{key:"traverse",value:function(t){t(this)}},{key:"linkSource",value:function(t){this.parent.source[this.parentIterateType].splice(this.idx+1,0,t)}},{key:"delete",value:function(){this.parent.source[this.parentIterateType].splice(this.idx,1)}},{key:"getNodes",value:function(t){var e=[];return this.traverse((function(n){var i=t.getRenderNodeBySource(n.source);i&&e.push(i)})),e}}]),t}(),Sn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;Object(r["a"])(this,n),i=e.call(this,t),i.body=(t.body||[]).map(In("body").bind(Object(X["a"])(i)));var o=In("playground").bind(Object(X["a"])(i));return i.playground=(t.playground||[]).map((function(t,e){var n=o(t,e);return n.isFree=!0,n})),i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e;return this.body.forEach((function(n){e?(t({from:e,to:jn(n),fromDir:qe.BOTTOM,toDir:qe.TOP}),n=n.makeLink(t),e=n):e=n})),this.playground.forEach((function(e){e.makeLink(t)})),this}},{key:"traverse",value:function(t){t(this),this.body.forEach((function(e){e.traverse(t)})),this.playground.forEach((function(e){e.traverse(t)}))}},{key:"reflowBodyPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;this.row=t,this.column=e;var i=_n(this,this.body,0,0,0,0,n),o=i.spanX,a=i.spanY;return this.spanX=o,this.spanY=a,{spanX:o,spanY:a,row:t,column:e}}},{key:"reflowPlaygroundPreCalculate",value:function(t){this.playground.forEach((function(t){t.reflowPreCalculate(0,0,(function(e,n,i){i.rootLayoutNode=t}))}))}}]),n}(Tn),Cn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.hasEndPoint=!0,i.Endpoint=null,i.cases=(t.cases||[]).map(In("cases").bind(Object(X["a"])(i))),i.preCases=i.cases.slice(0,i.cases.length-1),i.defaultCase=i.cases[i.cases.length-1],i.defaultCase.isDefault=!0,i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e=this.defaultCase.spanX,n=this.defaultCase.makeLink(t);t({from:n||this.defaultCase,to:this.Endpoint,fromDir:qe.BOTTOM,toDir:qe.TOP,part:"consequent"});var i,o,a=this.preCases.length,r=0;this.cases.forEach((function(t){r=Math.max(r,t.spanX)}));var s=this.defaultCase,c=s.spanX<2;while(a--){i=this.preCases[a];var h=i.makeLink(t),l=void 0;if(r>=2){var u=h?s.row-h.row:1;l=[r-(h?2:1),u],0!==i.consequent.length||c||(l.unshift(0),l.unshift(1))}i.consequent.length&&(c=!1),t({from:h||i,to:this.Endpoint,fromDir:h?qe.BOTTOM:qe.RIGHT,toDir:qe.RIGHT,noArrow:!0,tailPoint:!0,tailRadius:6,roundCorner:l,minSpanX:wn("minSpanX"),endRow:o?o.row:this.Endpoint.row,part:"consequent"}),t({type:"switchcaselink",from:i,to:s,fromDir:qe.BOTTOM,toDir:qe.TOP,lineDash:[5,5],part:"cases"}),e=Math.max(e,i.spanX),o=i,s=i}return this.Endpoint}},{key:"traverse",value:function(t){t(this),this.cases.forEach((function(e){e.traverse(t)})),this.Endpoint.traverse(t)}},{key:"reflowPreCalculate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=1,o=0;this.row=t,this.column=e,this.preCases.forEach((function(a,r){var s=a.reflowPreCalculate(t+o,e,n),c=s.spanY,h=s.spanX;o+=c,i=Math.max(i,h)}));var a=this.defaultCase.reflowPreCalculate(t+o,e,n),r=a.spanY,s=a.spanX;o+=r,i=Math.max(i,s);var c=this.Endpoint.reflowPreCalculate(t+o,e,n),h=c.spanY,l=c.spanX;return o+=h,i=Math.max(i,l),this.spanX=Math.max(i,2),this.spanY=o,{spanX:this.spanX,spanY:o,row:t,column:e}}}]),n}(Tn),Pn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.isDefault=!1,i.consequent=(t.consequent||[]).map(In("consequent").bind(Object(X["a"])(i))),i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e,n=this;return this.consequent.length&&this.consequent.forEach((function(i,o){t({from:e||n,to:jn(i),fromDir:e||n.isDefault?qe.BOTTOM:qe.RIGHT,toDir:qe.TOP,part:"consequent"}),i=i.makeLink(t),e=i})),e}},{key:"traverse",value:function(t){t(this),this.consequent.forEach((function(e){e.traverse(t)}))}},{key:"reflowPreCalculate",value:function(t,e,n){var i=this.isDefault;this.row=t,this.column=e,n&&n(t,e,this);var o=_n(this,this.consequent,0,0,t+1,e+(i?0:1),n),a=o.spanX,r=o.spanY;return this.spanX=Math.max(a,1)+(i?0:1),this.spanY=r+1,{spanX:this.spanX,spanY:this.spanY,row:t,column:e}}},{key:"linkSource",value:function(t,e){"cases"===e.part?Object(Wt["a"])(Object(Gt["a"])(n.prototype),"linkSource",this).call(this,t):this.source.consequent.unshift(t)}},{key:"getNodes",value:function(t){return this.parent.getNodes(t)}},{key:"delete",value:function(){2===this.parent.cases.length?this.parent.delete():Object(Wt["a"])(Object(Gt["a"])(n.prototype),"delete",this).call(this)}}]),n}(Tn),En=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.body=(t.body||[]).map(In("body").bind(Object(X["a"])(i))),i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e,n=this;return this.body.length&&this.body.forEach((function(i,o){t({from:e||n,to:jn(i),fromDir:e?qe.BOTTOM:qe.STARTLOOP,toDir:qe.TOP,part:"foreachbody"}),i=i.makeLink(t),e=i})),t({from:e||this,to:this,fromDir:e?qe.BOTTOM:qe.STARTLOOP,toDir:qe.ENDLOOP,minSpanX:wn("minSpanX"),minSpanY:wn("minSpanY"),minGapY:wn("minGapY"),part:"foreachbody"}),this}},{key:"traverse",value:function(t){t(this),this.body.forEach((function(e){e.traverse(t)}))}},{key:"reflowPreCalculate",value:function(t,e,n){this.row=t,this.column=e,n&&n(t,e,this);var i=_n(this,this.body,0,0,t+1,e+1,n),o=i.spanX,a=i.spanY;return this.spanX=Math.max(o+1,2),this.spanY=a+1,{spanX:this.spanX,spanY:this.spanY,row:t,column:e}}},{key:"linkSource",value:function(t,e){"foreachbody"!==e.part?Object(Wt["a"])(Object(Gt["a"])(n.prototype),"linkSource",this).call(this,t,e):this.source.body.unshift(t)}}]),n}(Tn),xn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.body=(t.body||[]).map(In("body").bind(Object(X["a"])(i))),i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e,n=this;return this.body.length&&this.body.forEach((function(i,o){t({from:e||n,to:jn(i),fromDir:e?qe.BOTTOM:qe.STARTLOOP,toDir:qe.TOP,part:"whilebody"}),i=i.makeLink(t),e=i})),t({from:e||this,to:this,fromDir:e?qe.BOTTOM:qe.STARTLOOP,toDir:qe.ENDLOOP,minSpanX:wn("minSpanX"),minSpanY:wn("minSpanY"),minGapY:wn("minGapY"),part:"whilebody"}),this}},{key:"traverse",value:function(t){t(this),this.body.forEach((function(e){e.traverse(t)}))}},{key:"reflowPreCalculate",value:function(t,e,n){this.row=t,this.column=e,n&&n(t,e,this);var i=_n(this,this.body,0,0,t+1,e+1,n),o=i.spanX,a=i.spanY;return this.spanX=Math.max(o+1,2),this.spanY=a+1,{spanX:this.spanX,spanY:this.spanY,row:t,column:e}}},{key:"linkSource",value:function(t,e){"whilebody"!==e.part?Object(Wt["a"])(Object(Gt["a"])(n.prototype),"linkSource",this).call(this,t,e):this.source.body.unshift(t)}}]),n}(Tn),Mn=function(t){Object(c["a"])(n,t);var e=Object(h["a"])(n);function n(t){var i;return Object(r["a"])(this,n),i=e.call(this,t),i.hasEndPoint=!0,i.Endpoint=null,i.consequent=(t.consequent||[]).map(In("consequent").bind(Object(X["a"])(i))),i.alternate=(t.alternate||[]).map(In("alternate").bind(Object(X["a"])(i))),i}return Object(s["a"])(n,[{key:"makeLink",value:function(t){var e,n=this;return this.alternate.length&&this.alternate.forEach((function(i,o){t({from:e||n,to:jn(i),fromDir:e?qe.BOTTOM:qe.RIGHT,toDir:qe.TOP,part:"alternate"}),i=i.makeLink(t),e=i})),t({from:e||this,to:this.Endpoint,fromDir:e?qe.BOTTOM:qe.RIGHT,toDir:qe.RIGHT,part:"alternate",minSpanColumn:this.spanConsquent,minSpanX:wn("minSpanX"),noArrow:!0,tailPoint:!0,tailRadius:6}),e=null,this.consequent.length&&this.consequent.forEach((function(i,o){t({from:e||n,to:jn(i),fromDir:qe.BOTTOM,toDir:qe.TOP,part:"consequent"}),i=i.makeLink(t),e=i})),t({from:e||this,to:this.Endpoint,fromDir:qe.BOTTOM,toDir:qe.TOP,part:"consequent"}),this.Endpoint}},{key:"traverse",value:function(t){t(this),this.consequent.forEach((function(e){e.traverse(t)})),this.alternate.forEach((function(e){e.traverse(t)})),this.Endpoint.traverse(t)}},{key:"reflowPreCalculate",value:function(t,e,n){this.row=t,this.column=e,n&&n(t,e,this);var i=_n(this,this.consequent,0,0,t+1,e,n),o=i.spanX,a=i.spanY;this.spanConsquent=Math.max(o,1);var r=_n(this,this.alternate,0,0,t+1,e+Math.max(o,1),n),s=r.spanX,c=r.spanY;this.spanAlternate=Math.max(s,1);var h=Math.max(a,c)+1,l=Math.max(o,1)+Math.max(s,1),u=this.Endpoint.reflowPreCalculate(t+h,e,n),d=u.spanY,f=u.spanX;return h+=d,l=Math.max(l,f),this.spanX=l,this.spanY=h,{spanX:this.spanX,spanY:this.spanY,row:t,column:e}}},{key:"linkSource",value:function(t,e){this.source[e.part].unshift(t)}}]),n}(Tn),Bn={If:Mn,Switch:Cn,SwitchCase:Pn,ForEach:En,While:xn,Logic:Sn,other:Tn};function In(t){return function(e,n){var i=Dn(e);if(i.parent=this,i.idx=n,i.parentIterateType=t,i.hasEndPoint){e.__endpoint__||(e.__endpoint__={concept:"endpoint",id:"".concat(i.id,"-endpoint")});var o=Dn(e.__endpoint__);o.parent=this,o.idx=n,o.parentIterateType=t,i.Endpoint=o}return i}}function Dn(t){var e=t.concept,n=Bn[e]||Bn.other,i=new n(t);return i}var Ln=function(){function t(e){Object(r["a"])(this,t),this.flowStack=[],this.flowLinkStack=[],this.source=null,this.static=!0,this.reOrder(e)}return Object(s["a"])(t,[{key:"staticCheck",value:function(t,e){console.log(this.flowStack[0].source);for(var n=t.anchor.slice(),i=null,o=0;o<this.flowStack.length;o++){console.log(this.flowStack[o].source);var a=this.flowStack[o],r=a.source,s=a.layoutNode,c=e.getRenderNodeBySource(r);if(c===t){var h=wn("rowGap"),l=wn("rowHeight"),u=wn("columnWidth"),d=wn("columnGap"),f=s.rootLayoutNode,v=0,g=0;if(f){var p=An(e,f.source),b=Object(m["a"])(p,2),y=b[0],w=b[1];v=y,g=w}var k=s.row,A=s.column;s.source;i=[A*(u+d)+v,k*(l+h)+g];break}}if(!i)return e.reflow(),!1;var O=on(n,i);return O>1e3?(t.dispatchEvent(new dt("outOfFlow",{anchor:n,instance:t,jflow:e,point:n})),!0):(e.reflow(),!1)}},{key:"reOrder",value:function(t){var e=this;this.source=t,this.flowStack=[],this.flowLinkStack=[],this.root=Dn(this.source),this.root.traverse((function(t){"Switch"!==t.concept&&"Logic"!==t.concept&&e.flowStack.push({type:t.type,source:t.source,layoutNode:t})})),this.root.reflowBodyPreCalculate(0,0,(function(t,e,n){})),this.root.reflowPlaygroundPreCalculate((function(){}));var n=wn("rowGap"),i=wn("rowHeight"),o=wn("columnWidth"),a=wn("columnGap");this.root.makeLink((function(t){var r=t.from,s=(r.column,r.row);if(t.roundCorner){if(2===t.roundCorner.length){var c=Object(m["a"])(t.roundCorner,2),h=c[0],l=c[1];t.bendPoint=[h*(o+a)+o/2+15,l*(i+n)-i/2+10]}if(4===t.roundCorner.length){var u=Object(m["a"])(t.roundCorner,4),d=u[0],f=u[1],v=u[2],g=u[3];t.bendPoint=[d*(o+a),f*(i+n),v*(o+a)+o/2+15,g*(i+n)-i/2+10]}}else t.bendPoint=[];if(t.endRow){var p=(t.endRow-s)*(i+n);t.iterateEndY=p}else t.iterateEndY=void 0;void 0!==t.minSpanColumn&&(console.log("spanConsquent",t.minSpanColumn),t.minSpanX+=(t.minSpanColumn-1)*(o+a)),"If"===r.source.concept&&(t.content="alternate"===t.part?"No":"Yes"),"While"===r.source.concept&&(t.content="whilebody"===t.part?"Yes":"No"),e.flowLinkStack.push(t)}))}},{key:"reflow",value:function(t){var e=wn("rowGap"),n=wn("rowHeight"),i=wn("columnWidth"),o=wn("columnGap");this.flowStack.forEach((function(a){var r=a.layoutNode,s=r.rootLayoutNode,c=0,h=0;if(s){var l=An(t,s.source),u=Object(m["a"])(l,2),d=u[0],f=u[1];c=d,h=f}var v=r.row,g=r.column,p=r.source,b=t.getRenderNodeBySource(p);b.anchor=[g*(i+o)+c,v*(n+e)+h]}))}}]),t}(),Rn=Ln,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.layoutNode.isDefault?n("j-logic-node-group",{attrs:{source:t.node}}):n("j-logic-node-group",t._g({attrs:{source:t.node,configs:t.configs},on:{click:t.onClickWrapper,contextclick:t.onContextClick,instancemousemove:t.setPointerCursor,dblclick:t.onDblclick,afterResolveMovingTarget:t.onAfterResolveMovingTarget,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},t.$listeners),[n("j-group",{attrs:{configs:t.iconGroup}},[n("j-icon",{attrs:{configs:t.imageConfig}})],1),n("j-group",{attrs:{configs:t.textGroup}},[n("j-text",{attrs:{configs:{fontSize:"12px",textColor:"#222",content:t.node.content,maxWidth:159,ellipsis:!0,textAlign:"left"}}})],1)],1)},Nn=[],Yn=n("cd6b"),Xn=n.n(Yn),Hn=n("cacb"),Wn=n.n(Hn),Gn=n("c322"),Vn=n.n(Gn),qn=n("b2fd"),Qn=n.n(qn),Un=n("56ec"),Jn=n.n(Un),zn=n("dfe4"),Kn=n.n(zn),Zn=n("bb21"),$n=n.n(Zn),ti=n("1eaf"),ei=n.n(ti),ni=n("76c8"),ii=n.n(ni);function oi(t){var e=new Image;return e.src=t,e}var ai={Assignment:oi(Xn.a),ForEach:oi(Wn.a),Switch:oi(Vn.a),While:oi(Jn.a),callInterface:oi(Kn.a),callLogic:oi($n.a),datasearch:oi(ei.a),SwitchCase:oi(Qn.a),If:oi(ii.a)},ri={Assignment:Xn.a,ForEach:Wn.a,Switch:Vn.a,While:Jn.a,callInterface:Kn.a,callLogic:$n.a,datasearch:ei.a,SwitchCase:Qn.a,If:ii.a},si={Assignment:"#EBBC00",ForEach:"#A567F5",Switch:"#4C88FF",SwitchCase:"#4C88FF",While:"#97B20E",callInterface:"#756BFF",callLogic:"#F56CC7",datasearch:"#00B5D9",If:"#F2A130"},ci={Assignment:"#FDF9E6",ForEach:"#F6F0FE",Switch:"#EEF4FF",SwitchCase:"#EEF4FF",While:"#F5F8E7",callInterface:"#756BFF",callLogic:"#fff",datasearch:"#fff",If:"#fff"};function hi(t){var e=[-t.width/2,-t.height/2],n=t.calculateToRealWorld(e),i=t._jflow.DOMwrapper.getBoundingClientRect(),o=i.x,a=i.y;return[n[0]+o,n[1]+a]}var li=new ne({direction:"horizontal",gap:10}),ui={inject:["renderJFlow","poppups","modal","closePopper","setFocus","isOnFocus"],props:{node:Object,layoutNode:Object},data:function(){var t=this.node,e=ci[t.concept],n=ai[t.concept];return{iconGroup:{borderRadius:4,padding:4,backgroundColor:e},textGroup:{width:159,paddingTop:10,paddingBottom:10},imageConfig:{image:n,width:24,height:24}}},computed:{selectionMeta:function(){return this.poppups.selectionMeta},selectionActive:function(){return this.selectionMeta.active&&this.selectionMeta.target===this.node},modalMeta:function(){return this.modal.modalMeta},isFocused:function(){return this.isOnFocus(this.node)},configs:function(){var t=si[this.node.concept],e=this.isFocused,n={shadowColor:"transparent"};return e&&(n={shadowColor:"rgba(81, 124, 255)",shadowBlur:15}),console.log("opacity",this.layoutNode.rootLayoutNode?.5:1),Object(lt["a"])({layout:li,borderWidth:2,borderColor:e?"#517CFF":t,backgroundColor:"#fff",borderRadius:4,height:32,opacity:this.layoutNode.rootLayoutNode?.5:1},n)}},updated:function(){this.renderJFlow()},methods:{setPointerCursor:function(t){t.detail.jflow.canvas.style.cursor="pointer",t.detail.bubbles=!1},onContextClick:function(t){t.detail.bubbles=!1;var e=t.detail.event,n=e.clientX,i=e.clientY;Object.assign(this.selectionMeta,{type:"operate",clientX:n,clientY:i,active:!0,target:this.layoutNode})},onDblclick:function(){Object.assign(this.modalMeta,{active:!0,target:this.node})},onAfterResolveMovingTarget:function(t){var e=t.detail.jflow,n=this.layoutNode.getNodes(e);e.setMovingTargets(n)},onMouseEnter:function(t){var e=t.currentTarget;console.log(t);var n=hi(e),i=Object(m["a"])(n,2),o=i[0],a=i[1];Object.assign(this.selectionMeta,{type:"hovercontent",clientX:o,clientY:a,active:!0,target:this.node})},onMouseLeave:function(t){this.selectionActive&&this.closePopper()},onClickWrapper:function(t){t.detail.bubbles=!1,this.setFocus(this.node)}}},di=ui,fi=n("2877"),vi=Object(fi["a"])(di,Fn,Nn,!1,null,null,null),gi=vi.exports,pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-logic-node-group",t._g({attrs:{source:t.node,configs:t.configs},on:{instancemousemove:t.setPointerCursor}},t.$listeners),[n("j-group",{attrs:{configs:t.iconGroup}},[n("j-icon",{attrs:{configs:t.imageConfig}})],1)],1)},mi=[],bi=n("fd98"),yi=n.n(bi),wi=new Image;wi.src=yi.a;var ki={props:{node:Object},data:function(){return{configs:{layout:new ne({direction:"vertical",gap:10})},iconGroup:{padding:10,backgroundColor:"#fff",borderColor:"#E0E0E0",borderWidth:1},imageConfig:{image:wi,width:20,height:20}}},methods:{setPointerCursor:function(t){t.detail.jflow.canvas.style.cursor="pointer",t.detail.bubbles=!1}}},Ai=ki,Oi=Object(fi["a"])(Ai,pi,mi,!1,null,null,null),ji=Oi.exports,_i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-logic-node-group",{attrs:{source:t.node}},[n("j-point",{attrs:{configs:{backgroundColor:"#666E80",borderWidth:1,radius:2,ignoreHit:!0}}})],1)},Ti=[],Si={props:{node:Object},created:function(){console.log(this.node)}},Ci=Si,Pi=Object(fi["a"])(Ci,_i,Ti,!1,null,null,null),Ei=Pi.exports,xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-logic-node-group",{attrs:{source:t.node,configs:t.configs}},[n("j-group",{attrs:{configs:t.iconGroup}},[n("j-icon",{attrs:{configs:t.imageConfig}})],1)],1)},Mi=[],Bi=n("94ec"),Ii=n.n(Bi),Di=new Image;Di.src=Ii.a;var Li={props:{node:Object},data:function(){return{configs:{layout:new ne({direction:"vertical",gap:10})},iconGroup:{padding:10,backgroundColor:"#fff",borderColor:"#E0E0E0",borderWidth:1},imageConfig:{image:Di,width:20,height:20}}}},Ri=Li,Fi=Object(fi["a"])(Ri,xi,Mi,!1,null,null,null),Ni=Fi.exports,Yi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-logic-link",{attrs:{configs:t.configs,from:t.linkConfigs.from.source,to:t.linkConfigs.to.source},on:{instancemousemove:t.setPointerCursor,click:t.onClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,dragenter:t.onDragEnter,dragover:t.onDragOver,dragleave:t.onDragOverEnd,drop:t.onDropToLink}})},Xi=[],Hi={inject:["renderJFlow","poppups","isOnFocus","animate","status"],props:{linkConfigs:Object},data:function(){return{isDragOver:!1,showAdd:!1,showDragover:!1}},computed:{configs:function(){return console.log(this.showAdd),Object(lt["a"])(Object(lt["a"])({},this.linkConfigs),{},{showAdd:this.showAdd,showDragover:this.isDragOver,radius:5,approximate:2e3,opacity:this.linkConfigs.from.rootLayoutNode?.5:1,animePoint:{enable:this.isFocused||this.animate.link,color:"#517CFF",gap:240},backgroundColor:"#919499"})},selectionMeta:function(){return this.poppups.selectionMeta},selectionActive:function(){return this.selectionMeta.active&&this.selectionMeta.target===this.linkConfigs},isFocused:function(){return this.isOnFocus(this.linkConfigs.from.source)}},watch:{"status.dragging.active":function(t){this.isDragOver=t}},updated:function(){this.renderJFlow()},methods:{setPointerCursor:function(t){t.detail.jflow.canvas.style.cursor="pointer",t.detail.bubbles=!1},onDropToLink:function(t){this.$emit("drop",t),this.isDragOver=!1},onDragEnter:function(t){this.isDragOver=!0},onDragOver:function(t){var e=t.detail.originEvent;e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},onDragOverEnd:function(){this.isDragOver=!1},onMouseEnter:function(){this.showAdd=!0},onMouseLeave:function(){this.selectionActive||(this.showAdd=!1)},onClick:function(t){console.log(t),t.detail.bubbles=!1;var e=t.detail.event,n=e.clientX,i=e.clientY;this.showAdd=!0,Object.assign(this.selectionMeta,{type:"addMenu",clientX:n,clientY:i,active:!0,target:this.linkConfigs})}}},Wi=Hi,Gi=Object(fi["a"])(Wi,Yi,Xi,!1,null,null,null),Vi=Gi.exports,qi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-switch-case-link",{attrs:{configs:t.configs,from:t.linkConfigs.from.source,to:t.linkConfigs.to.source},on:{instancemousemove:t.setPointerCursor,click:t.onClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}})},Qi=[],Ui=0;function Ji(){return"gen".concat(Ui++)}function zi(t){switch(t){case"Assignment":return{id:Ji(),concept:t,content:""};case"ForEach":case"While":return{id:Ji(),concept:t,content:"",body:[]};case"Switch":return{id:Ji(),concept:t,cases:[zi("SwitchCase"),zi("SwitchCase"),zi("SwitchCase"),zi("SwitchCase")]};case"SwitchCase":return{id:Ji(),concept:t,content:"",consequent:[]};case"If":return{id:Ji(),concept:t,content:"",consequent:[],alternate:[]};default:return null}}var Ki={inject:["renderJFlow","reOrderAndReflow"],props:{linkConfigs:Object},data:function(){return{showAdd:!1}},computed:{configs:function(){return Object(lt["a"])(Object(lt["a"])({},this.linkConfigs),{},{showAdd:this.showAdd,backgroundColor:this.showAdd?"#4C88FF":"#919499"})}},updated:function(){this.renderJFlow()},methods:{setPointerCursor:function(t){t.detail.jflow.canvas.style.cursor="pointer",t.detail.bubbles=!1},onClick:function(){var t=zi("SwitchCase");this.linkConfigs.from.linkSource(t,this.linkConfigs),this.reOrderAndReflow()},onMouseEnter:function(){console.log("enter"),this.showAdd=!0},onMouseLeave:function(){console.log("leave"),this.showAdd=!1}}},Zi=Ki,$i=Object(fi["a"])(Zi,qi,Qi,!1,null,null,null),to=$i.exports,eo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.meta.active,expression:"meta.active"}],class:t.$style.root,style:t.translateStyle},[t._t("default")],2)])},no=[],io={props:{meta:Object},computed:{translateStyle:function(){return console.log(this.meta),"transform: translate(".concat(this.meta.clientX,"px, ").concat(this.meta.clientY,"px)")}}},oo=io,ao=(n("2edc"),n("0dd9"));function ro(t){this["$style"]=ao["default"].locals||ao["default"]}var so=Object(fi["a"])(oo,eo,no,!1,ro,null,null),co=so.exports,ho=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.root},[n("div",{class:t.$style.title},[t._v(" 建议添加逻辑 ")]),n("ul",{class:t.$style.list},t._l(t.list,(function(e){return n("li",{key:e.concept,on:{click:function(n){return t.addConceptNode(e.concept)}}},[n("img",{class:t.$style.icon,attrs:{src:e.icon}}),n("span",[t._v(t._s(e.concept))])])})),0)])},lo=[];function uo(){return["Assignment","ForEach","Switch","While","If"].map((function(t){return{concept:t,color:si[t],subcolor:ci[t],icon:ri[t]}}))}var fo={inject:["reOrderAndReflow","closePopper","focusOn"],props:{meta:Object},data:function(){return{list:uo()}},methods:{addConceptNode:function(t){var e=zi(t),n=this.meta.target;n.from.linkSource(e,n),this.reOrderAndReflow(e),this.closePopper()}}},vo=fo,go=n("d33a");function po(t){this["$style"]=go["default"].locals||go["default"]}var mo=Object(fi["a"])(vo,ho,lo,!1,po,null,null),bo=mo.exports,yo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.root},[n("div",{class:t.$style.title},[t._v(" "+t._s(t.meta.concept)+" ")]),n("ul",{class:t.$style.list},[n("li",{on:{click:t.removeNode}},[n("span",[t._v("删除")])])])])},wo=[];function ko(){return["Assignment","ForEach","Switch","While","If"].map((function(t){return{concept:t,color:si[t],subcolor:ci[t],icon:ri[t]}}))}var Ao={inject:["reOrderAndReflow","closePopper"],props:{meta:Object},data:function(){return{list:ko()}},methods:{removeNode:function(){var t=this.meta.target;t.delete(),this.reOrderAndReflow(),this.closePopper()}}},Oo=Ao,jo=n("f85e");function _o(t){this["$style"]=jo["default"].locals||jo["default"]}var To=Object(fi["a"])(Oo,yo,wo,!1,_o,null,null),So=To.exports,Co=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.meta.active,expression:"meta.active"}],class:t.$style.root,style:t.translateStyle},[t._v(" "+t._s(t.meta.target.content)+" ")])])},Po=[],Eo={props:{meta:Object},computed:{translateStyle:function(){return console.log(this.meta),"transform: translate(".concat(this.meta.clientX,"px, ").concat(this.meta.clientY-46,"px)")}}},xo=Eo,Mo=n("5de6");function Bo(t){this["$style"]=Mo["default"].locals||Mo["default"]}var Io=Object(fi["a"])(xo,Co,Po,!1,Bo,null,null),Do=Io.exports;function Lo(t){switch(t){case"addMenu":return bo;case"operate":return So;case"hovercontent":return Do;default:return null}}var Ro={functional:!0,props:{meta:Object},render:function(t,e){var n=e.props.meta,i=e.data.key,o=Lo(n.type);return"hovercontent"===n.type?t(o,{key:i,props:e.props,on:e.listeners}):t(co,{props:{meta:n}},[t(o,{key:i,props:e.props,on:e.listeners})])}},Fo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.meta.active,expression:"meta.active"}],class:t.$style.wrapper},[t.target?n("div",{class:t.$style.root},[n("div",{class:t.$style.header},[n("div",[t._v(t._s(t.target.concept))]),n("button",{on:{click:t.onClose}},[t._v("close")])]),n("div",{class:t.$style.content},[n("textarea",{class:t.$style.box,domProps:{value:t.target.content},on:{blur:t.onChangeContent}})])]):t._e()])])},No=[],Yo={inject:["renderJFlow"],props:{meta:Object},computed:{target:function(){return this.meta.target||{}}},methods:{onClose:function(){Object.assign(this.meta,{active:!1})},onChangeContent:function(t){var e=t.target.value;this.target.content=e,this.renderJFlow()}}},Xo=Yo,Ho=n("5f1f");function Wo(t){this["$style"]=Ho["default"].locals||Ho["default"]}var Go=Object(fi["a"])(Xo,Fo,No,!1,Wo,null,null),Vo=Go.exports;function qo(){return["Assignment","ForEach","Switch","While","If"].map((function(t){return{concept:t,color:si[t],subcolor:ci[t],icon:ri[t]}}))}bn();var Qo={components:{startNode:ji,endNode:Ni,logicNode:gi,EndPointNode:Ei,LogicLink:Vi,SwitchLink:to,poppupComp:Ro,modalComp:Vo},provide:function(){return{renderJFlow:this.renderJFlow,reOrderAndReflow:this.reOrderAndReflow,focusOn:this.focusOn,closePopper:this.closePopper,poppups:this.poppups,modal:this.modal,animate:this.animate,status:this.status,setFocus:this.setFocus,isOnFocus:this.isOnFocus}},data:function(){var t=new Rn(pn),e=Object.freeze({allowDrop:!0,layout:t,initialZoom:1,minZoom:.2,NodeRenderTop:!0,worldMargin:400,setInitialPosition:function(t,e,n,i,o,a,r,s){return{x:t+r/2,y:a}}});return{configs:e,sourceData:pn,jflowloading:!1,currentTarget:null,poppups:{selectionMeta:{type:void 0,active:!1,clientX:0,clientY:0,target:null,payload:null}},modal:{modalMeta:{active:!1,target:null}},conceptList:qo(),layoutConstance:mn,focus:null,animate:{link:!1},status:{dragging:{active:!1}}}},watch:{jflowloading:function(t){t||this.captureMap()},"status.dragging.active":function(t){console.log("NodeDragging",t)}},methods:{captureMap:function(){var t=this.$refs.jflow.getInstance();t.captureMap(this.$refs.minimap,10)},startAllAnimate:function(t){console.log("startAllAnimate"),t.detail.bubbles=!1,this.animate.link=!0},onClickCanvas:function(){this.closePopper(),this.setFocus(null),this.animate.link=!1},renderJFlow:function(){console.log("renderJFlow"),this.$refs.jflow.renderJFlow()},reOrderAndReflow:function(t){var e=this;this.configs.layout.reOrder(this.sourceData),this.$refs.jflow.reflow(void 0,(function(){e.captureMap(),t&&("Switch"===t.concept?e.focusOn(t.cases[0]):e.focusOn(t))}))},onPressStart:function(t){this.currentTarget=t;var e=this.$refs.jflow.getInstance(),n=e.getLayoutNodeBySource(t);n.rootLayoutNode&&(this.status.dragging.active=!0)},onPressEnd:function(){this.currentTarget=null,this.status.dragging.active=!1},onDragEnd:function(){this.status.dragging.active=!1},onDropToLink:function(t,e){var n=this.$refs.jflow.getInstance(),i=t.detail.instance;if(this.currentTarget){i=this.currentTarget;var o=n.getLayoutNodeBySource(i);"SwitchCase"===o.source.concept?(i=o.parent.source,o.parent.delete()):o.delete()}e.from.linkSource(i,e),this.reOrderAndReflow(i),this.status.dragging.active=!1},setFocus:function(t){this.focus=t,this.animate.link=!1},isOnFocus:function(t){return this.focus===t},focusOn:function(t){var e=this.$refs.jflow.getInstance(),n=e.getRenderNodeBySource(t);console.log("isInViewBox",n.isInViewBox),n&&!n.isInViewBox&&(e.focusOn(n),this.captureMap())},onDrop:function(t){var e=this.$refs.jflow.getInstance(),n=t.detail.instance,i=t.detail.point;this.sourceData.playground.push(n),this.configs.layout.reOrder(this.sourceData),this.$refs.jflow.reflow((function(){kn(e,n,i)}),this.captureMap),this.status.dragging.active=!1},genVueComponentKey:function(t){return t.id},onDragStart:function(t,e){var n=t.dataTransfer,i=this.$refs["templete-".concat(e)][0],o=i.getBoundingClientRect(),a=o.width,r=o.height;console.log(a,r),n.setDragImage(i,-a-10,-r-10),this.dragging=!0,t.dataTransfer.effectAllowed="copyMove";var s=this.$refs.jflow.getInstance();s.sendMessage({instance:zi(e)}),this.status.dragging.active=!0},closePopper:function(){Object.assign(this.poppups.selectionMeta,{type:void 0,active:!1,clientX:0,clientY:0,target:null,payload:null})},onChange:function(t,e){var n=+t.target.value;yn(e,n),this.reOrderAndReflow()},onOutOfFlow:function(t,e){var n=t.detail.point,i=this.$refs.jflow.getInstance(),o=i.getLayoutNodeBySource(e),a=e;"SwitchCase"===o.source.concept?(a=o.parent.source,o.parent.delete()):o.delete(),this.sourceData.playground.push(a),this.configs.layout.reOrder(this.sourceData),this.$refs.jflow.reflow((function(){kn(i,a,n)}),this.captureMap)}}},Uo=Qo,Jo=n("5bb9");function zo(t){this["$style"]=Jo["default"].locals||Jo["default"]}var Ko=Object(fi["a"])(Uo,vn,gn,!1,zo,null,null),Zo=Ko.exports;o["a"].config.productionTip=!1,o["a"].use(Ge,{customLink:{LogicLink:ln,SwitchCaseLink:fn},customGroups:{LogicNodeGroup:an}}),new o["a"]({render:function(t){return t(Zo)}}).$mount("#app")},"56ec":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASVSURBVHgB7ZlPTBxVHMe/b4bdlgArJdES/3UVrW3SBFqlpuqBRqMxLYV6NDGUi0pjUzb2oL1QDxZvi7HtticgPdSTUJCDiUnx0AuYAEljSyLJ+qemerC4XdJll5nn+y1d3H0zs/tmdvDS+VzIvv3N29+b9/19f28GICAgIOChZ3issREeYdgEzk/VtWmGFhfTRwGe1HUz9v6hlXlLjKl3gfMOittqaHt7jy4vwyUafObiZOQkM/RrIqkO8TFKfw1Dn0tMRgaK40RMBzjOFOIyNWtt8ICvC7g4EYlzjiGxrVZJiGQT30aGC3KpMYzpku9NrRse8EVCibHGKHQ+LrJsVQhPIpQ92Pd2JnlhInK3sFjO2fzxrn/2wiVVLyAxWd/BuTYm3/XdT/eg9bkTuPnLKBaWvpJ/dJmDx8CFfBh6CuOiDra5rQMdVXBJ6FrcuRGR0Nbi8fYXTueT17UtaG7aj/raJ/Hn3RkY5upGrmIZ3WCMbmBzYXBNMxenrmTnXaTgbQdIx/drjGHGWYlu62qfwMG2C2hq2GW5Jn3/Nr778T2siL+OyWgY+fBwqhcucF3EZH8Z3ZyTk2/eth9vvXTZNnmiXiyu88A4Wh5/x3lyE64L2dUOkEWawk3s9N6+67TyPAtL5yx1sUEo+wwVOBRR3gE7iwyFIkIy55WTz63dw9IfY0JGvyMsrrWD5UJxN5254g44WSTpnSRD0igHaf4n4US//fU90pnbUGTDaisFlt0Bskjo5jU5edJx54GrFZMnQqEG3Px1tGzyIetuRFkuPJeYaDiGCjjaKOld+PTXkPROFrlv58d5i1SB4u78PYMVaQFU7NHmQ3hx5ynse/4UHql71tZqD7+7BVNXVn9wmt8iIS8WWYnZxbP4WWh/x6OvY3vTy3jqsTcQrmmwxDlZLeOY5+HsUTtJlSxgXe8kGTqE/QdZ5Ct7vlCSjB1ZUbx2CdvHpjB7a1AU+zfyV7Z1UVoDmnkMUvJkkW+2X/acPKGa/HpsBK/uGURrywn5qyiy4X55ULMEFUGTuPF3P2lt+Shv0SUw62GxRvqcLP6w3my43d3YdEhCs4uDJWNMY0k5rmQHMqY2BMsizglNns3r+P+Civ76jU+RzaU2xjidYPXsZ3KsxYWcCrn+QeOqq6IWKkHuc/3GJ7gj7FTCsbE5duLE1ciQ+PZk8RgtgvoA2aDfUA+g5NOShYrjy2itqfU7PSeUPUpcmoj0G8CAfHijAvOzLqhTk0xlhGxix4+khspdq3gWskpqu+gNr4neUI2k6HA3c+vz/AFPIglm9vZ1pqcrzaF0nKZFMN2Ic5R252rqYuVB15Ulw8CneSjXq3qkdvU8IOrijLhiQB6nuti9o0d5noJFFrtMHo4v+7pS/XCB60fK/AmVa8Ow6dj0HFyp65JF0oN+MWSR4s7H+o7cG4FLPD0Te7FaLxapQlWvVVSt1qtFqlD1e6FKVluNRarg45s5e0mlra9RlC1SBd/eTjtZrfRzCwitdnvVu+2M8Bknq/VikSpsyv8HyGqZqcU5A70yT2pMi33QuTyOgICAgIAAn/kX98D8AlgkDYYAAAAASUVORK5CYII="},"5bb9":function(t,e,n){"use strict";var i=n("a7d4"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},"5de6":function(t,e,n){"use strict";var i=n("f8ce"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},"5f1f":function(t,e,n){"use strict";var i=n("89ce"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},"6afe":function(t){t.exports=JSON.parse('{"id":0,"concept":"Logic","body":[{"id":1,"concept":"Start"},{"id":2,"concept":"Assignment","content":"ProductList = LoadProductList"},{"id":3,"concept":"ForEach","content":"循环列表: ProductList.content","body":[{"id":4,"concept":"Switch","cases":[{"id":5,"concept":"SwitchCase","content":"item.productList.price > 50","consequent":[{"id":6,"concept":"Assignment","content":"TotalPay = TotalPay+item.productList.price*2"},{"id":348,"concept":"If","content":"item.productList.price > 60","consequent":[{"id":63455,"concept":"Assignment","content":"TotalPay = TotalPay+item.productList.price*2"}],"alternate":[{"id":8312,"concept":"While","content":"Pay <= 100","body":[{"id":92344,"concept":"Assignment","content":"Number = Number+1"},{"id":15460,"concept":"Assignment","content":"Pay = Pay*Number"}]}]}]},{"id":7,"concept":"SwitchCase","content":"item.productList.price<=20","consequent":[{"id":8,"concept":"While","content":"Pay <= 100","body":[{"id":9,"concept":"Assignment","content":"Number = Number+1"},{"id":10,"concept":"Assignment","content":"Pay = Pay*Number"}]},{"id":11,"concept":"Assignment","content":"TotalPay = TotalPay+Pay"}]},{"id":12,"concept":"SwitchCase","content":"20<item.productList.price<=50","consequent":[{"id":84311,"concept":"While","content":"Pay <= 100","body":[{"id":9413,"concept":"Assignment","content":"Number = Number+1"},{"id":14016,"concept":"Assignment","content":"Pay = Pay*Number"}]},{"id":13,"concept":"Assignment","content":"TotalPay = TotalPay+item.productList.price*5"}]},{"id":856,"concept":"SwitchCase","content":"10<item.productList.price<=20","consequent":[]},{"id":855,"concept":"SwitchCase","content":"10<item.productList.price<=20","consequent":[]},{"id":88,"concept":"SwitchCase","content":"defaultcase","consequent":[{"id":99,"concept":"Assignment","content":"TotalPay = TotalPay+item.productList.price*2"}]}]},{"id":8776,"concept":"Assignment","content":"TotalPay = TotalPay+item.productList.price*2"}]},{"id":22,"concept":"Assignment","content":"ProductList = LoadProductList"},{"id":223,"concept":"Assignment","content":"ProductList = LoadProductList"},{"id":8411,"concept":"While","content":"Pay <= 100","body":[{"id":913,"concept":"Assignment","content":"Number = Number+1"},{"id":1401,"concept":"Assignment","content":"Pay = Pay*Number"}]},{"id":81,"concept":"While","content":"Pay <= 100","body":[{"id":91,"concept":"Assignment","content":"Number = Number+1"},{"id":101,"concept":"Assignment","content":"Pay = Pay*Number"}]},{"id":14,"concept":"End"}],"playground":[]}')},"76c8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOaSURBVHgB7Zm/TxNhGMe/d6WUCoQyGAcHmxgdNJFzcMFBGHQGdzTdwAVJdOaYJSku4tYgfwDMMsAiJjpwmOigMdZBE3SwQPlR2t75PtcDez96996PdjD3SQjX9/rePc973/f7Pu8ViImJiflvKRckif7QRgS0AQpaFbHCDrNGUzGpYjSdU4qIGBERU16Splnw6/gXPJGtivi2W5AeI2IiewJaQcqUE5jVNLgGKQpY6HugzCAiIkngqCDRCK+ywyHOLpFJKrSE9gvSCAt+C5bghWQvem49RUqaYsd91m6U8PresjSGkIR6AvtL0qwGyNZ2sfcC0nfmIbD/hHawg6ONJ1APd2zXEETI/RPKHAISKAFD7wWmd9sIdl0cRoqNPD0BU59qGSdbL1H9/toehIDVrjpmgkjKdwIOFnkGySV5Zdy1/8mnZZx8XHY6FWhe+EpAt8iGZDLN7SQZGvXE+Rtc16n//oDKu2dOkippKuYGcsoCOOFOYP+VlHeySDFzGelh+UzvvOjzYlOGWvpqO+fHaj0TcLPI5NX7SA1NIgxhJeWaAFmk1tC7STI0QVPSI3Rl7yIKql9W9CRoolsoCipy/Tllo1XflgnwWmRUBLVaWwJBLDIqKImKsojaz03buVZWa0rA0Lu1ENPpvj6B7msT6ARu86Ku4uZgTimdNphKiSowAkvwNNrpkfmOBU/Qveie4jmbTLOiaHZCUwJaIwETpHdef48SumfPbdnWLmi41PzZWswVrR2O38q6NjsN3fP4jWxvF7Db/NmUAFtlaQUsmtrYhQ7XpnSr6xS14hq756STIxVVFaZV2uZCf9hETrSayEybNJnbCblQi8HaZhN4bNDNhZph278F5r/T1vagpYMXbqUFm5vPBx4qjjs915WY9rAsiVmELN68qP9ixd37YMWdZy3UbklVP6+gsr3odIo8f5xJRnHrz1WNUhJdCeSdVudk9h669W2jv9VZqx7oo1774bDqAhu1RvAlr+v42g8wScmGpEz4rY/c6h6m9zmmdxmc+N6R7RXYRlxEHrYVu0+Xk9eOjCyyorzQn4CFEqs8x90qTycC7YmDzgu/FslDqLcSvFbrZZFscZJ59O5E6BdbhtXmre2nVksRBrVIHiJ5M+cmqRZwWSQPkbzcJe2ygEZp0+H1XbJIo6YPHbxxvWhpZbWEX4vkoS2/DzhYbSCL5KEtCRBsXmQSxgapzmQT1GViYmJiYtrKX9S6vSHmMGiOAAAAAElFTkSuQmCC"},8364:function(t,e,n){},"87e5":function(t,e,n){t.exports={root:"menu-wrapper_root_3OsrO"}},"89ce":function(t,e,n){t.exports={wrapper:"modal_wrapper_tvxCi",root:"modal_root_3rpNL",header:"modal_header_25Bf4",content:"modal_content_32hqm",box:"modal_box_2SpVE"}},"94ec":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH4SURBVHgB7Zm/SitBFMa/M0mEm0vgWtziVjc2NhYGRLFcn8AUFmJlrY2g1q6tImjhA9hYWcQ3SCn+gVjY2LidhUXEoIKbnXFmbRSccc1EZ4X5wVbnHPb79uwss2cAj8fjcQllTbyZqQWMCnUGMS3LqvgaWukVl9YHG0dRloIPDbTrwR8M3K1B0BK+E6JtPHWlkdatMc0UVOJFqdOUSaNwg+xGMmUywYzl8sk7FK+oYaC4ZkrQdqA9O1lFEl8hDwiaGjw4bb4X0naAd+MQOYELXtfFtAYYkctX5w2M0bQ2pi8TNeSHqi5gXsQ/gB9voIg+wP7+Q3khRGFoGFSufJgfHzfxuLcFfnMNW6w7oMRXNvdRHBnLJF5RmghQ2dhPa63vD0t+zS9nFv4a+l1BeTGELdYGSuMBeqXwfxi2OF3Eqgu2+M+oa7wB13gDrvEGxEMHLrE2kESX6BW1qbPF2sDDbthTF1SN2pHaYm1AbYk7q3OIT5qZ8pXw7sVZWtOP7XRf/geUkPvNFbjAf4VcYzIQITdQSxfRD7a4OERuEJ83wIg1kBfiZF0X0hpQs0jOsQPXSA1yOh3pwsZFzJIkxMuhgxMEcI4XDVqMBtK5vJzPO+mEvCfFSWB1wPGa9mytyruFkFF6XvBFc1MRcdAhE9TQjdM9Ho8nXzwDBbGcWeR0jjkAAAAASUVORK5CYII="},a7d4:function(t,e,n){t.exports={app:"App_app_3cl75",wrapper:"App_wrapper_pE_0j",body:"App_body_1uhyl",sidebar:"App_sidebar_3dMLz",part:"App_part_1uPSl",literalRef:"App_literalRef_3cFYm",minimap:"App_minimap_3pLYf",content:"App_content_pIJBB"}},b2fd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgB7ZkxaBNRGMf/L4kGHSRCJwVtndqpSjBTSyMOgraQujpYB12TTTMlWYxjnB2axbkBq6BQeqJTxWKmikMsgjjYIRRaDLZ5fl/itef17t1dcpdYuB8kl8t77/L93/u+l/u+A0JCQkLsyJTlKL8QIAI+kynKxN4pZOljDhIJ/k4CmxFAi0qUanmxCR/xTYCV4Ra/1qT3yvJDUYJP+CJgriwX2gIFutiom/6dFaHVeJEXVfRJXwJmyzJNVyjQx7RV++l497jbsh7PQoTEveW80NAjPQngwNwTWITC8PkUcGOye/7uM7C0Bmxtw86Iaq/x4UkA+/l+HAUpyM8tYMPZaH7ps6/DxutCFMZ4FuJKgJsATV4C7kwBI2fU12IhSx9IzIZ1e8etBKpuA91RQMddgBr1nLRqnzhPfVLdoxdYSOUV8G3Lup2FnJC45rQajgJuPZFfrXYXnun7170bbkYVHyxi5xeuaEXRtBsfhQLeHknigvE79u3ZJPCAjD93Fn1zceQwZn40/92xaOISJ6NofVkpaXbjY1BAM5A1nrOf86ybA9QPWERyDHj+HvjYMDQIzKjGRVSNNPiy8ZSDNAjjdXS3NJFWjVELsPiBoPE6QZ4E/I+EAoZNKGDYhAKGTShg2IQCho0nATstBM7PbW/9nQRoxpNnK/aJuR/wBPHttBHKvz+pxijzAUoI3tItdVo/XW90U0A9cfcLNvxNHXhdP1qCibTxVDVWmVJ2kvk4Vs15AcO31vNXgekJ9AUnLzzrdinly0diTDXeVVL/W2DVrup2gVLC3E3vucLGd6oUrHWPlkjUyT0yfSf1OnOPZa4dQdZOyNQ4cDvlLISDlGd8vQE7i5ogt4m1UKkpkvnD7h7g1dgHihRYd+36cEVuevyoEJWfHyA7hhfdGK7Tc2lRJcQcH2w0l0527bdhLUY10sBLi2a4uEsiFu3cyqm4C96mqZQ48OKumWNbXjdDK1Kkv8as8gGHhwB1g/+PmP7GB63IzMGKBGD4QBjEQ76QkJBjzh9lJR0IqhO8agAAAABJRU5ErkJggg=="},bb21:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWiSURBVHgB7VlNbBtVEJ633thxmkoOVIFUqkgkRNVeEugpqVATeoMDqjhyaCV6dJT0zKGJEGccETgV0UuPiBO9lRihxr0UkktREVAjUEMjIEZJ45/s7mNmk936/Xl37RUX/ElO7OfneTPz5s18bxagjz7+32CQEurFb2ddnpmymHWBMz7FOS8wYAX6jgOvMbCquFiVg7tpgVfOr75ehhTQkwF88ftCw2ksuPguUDbBylX8W7YysJwvTVehS3RlACled5vX0cuLkAYY3OzWkMQG7BfvLXjgLSX2eLQmVe7C8vCn0zeT/SwB9ufvfWTyOhvMQOZsAayJ42CN5QFGcv4YgTdcgJ0meFt18B7tgvugdjimk8N4aejjmWuQpgF+yDiNLznArCJgJAsDMy+A9drzocJx4H73FzhfPwZvp6X5lm207NzcSOnVWpQcG2LgqdMoo6WTwhKo7MDFMcig8t0ggwbTy1nfBufOY2lH+FQOHYZv5qLkRO6ALmzI67n3Tvv/0wDHXWh99lDZjTjh1NGAvfm7Vxi3Pm8fo/jOvvtyasoH8I249TOek31hnHF+beiTmZLpd0YD6ouVcc+FNaxC4+HklD0vw7ATtZY9OGE6D5ZJmHvAlwTlMebTVN65s6WMkewsrSEmg0LOrV83ydEaQN5njF1uH6MDm6bnDzADmYywL54UxjhnizuYCXVytFmIvI8GCEJN2ab+/v1n88aG/DMy8MZJxVjvF8z/P9Tw9Q+GSjM0wlcCnSMoNTMK7voTIZSyzj4lkiWIYwCz2AUMnxCkUBxwPIAuvTDHkxKBJ8nTDiqkg9GI6VFo3f69bcRa0BmghNBusTIrxz7l66Sg/N688SO0bjw0Kh+CcWUoc+6EchaI8crzLHXAEyYRPegWtCNEHzqBzpat2+EjaiLIQ7ouT1NCyOMMOf2zz8RtOiH/4bnwPcW489VvBnpwlGXeGffPSuODDbPy7WtjOIYGHFIZoSaoO8DgJeEzLhYXmTMFyBXPgqXJVn4Noe9QqYCG2BFni8lrW2xSnqNLo+PCp6Spk5RDL8vIvnVKiGk7RmJQHMFBiWeNASLPT8IwQ6GaXbPOdHGW1LXjGJACNEab+H+v0BjAa70uTIdZkSqRtFhQ11YEqwYwJk4yZBQTyGDKRDJaX1QFZ+hohAw1m/GqPEcxwPP4pvB56ynEASlHdKG1+kCbRolpNvE7uk4STFxI+I28axx+lecodQBLQBn/vR18dh/tYSU+ASa0c6EoBJw/gIlGBKD7s6gc35DnKDvAGRMmeR0u4FEgYhdVRzrtRLBboTxsiClryAPHV6fL7QfZD437f0JS2OdHIXv1NOSuvuITu47QcCEihO2OQ3Jc1XXztGzUA7aCloWXiIPKNmTOR1/eqfBQvg/aKwEGsIjZSMf9LoTEj0wV2TkKrwD8MLQVaK+UO4trhawzuNM+ln3zFBoR4ckEoLNjVP7uNhzcFjOZZcOErnOnLWQjpbmaB3ylfYxilSdMqZ1gUp7WkL1PrUdT29FYiR27uSSfhSZeuNMywqQ8Xerl2Ke+qUmO0QDaBc6tZXmBJqbBNHeiXXbr1k9KDcHOSMemb2Rja7e4XrKALQg/+o8aW/hcYWV4daZjBzxWb3S/WFmT+6I+p8cw6PVg04GlmNfUms1jq9NTUb+P1Rtt2o1LWSe3hmqHAmnBFmYKVnlyaEiCe7NfW6i5K3UeAhAbyNuDl+LIStRe14VTKAh3xML8n6H2+ovYXn9Oaq//je31P+pITXY7Vvc4YdO1AYS9+coVKnKcSze3nsExaeADjg59UB26esREnbuj5tdlSAHk9WN2fonFeB4go6eHfIEhFjbCku8IrxFlGbYHS90oHiC1x6zUEKOeEoPMJAdvHPzmQHC/xoKIFyXG2YbHvW+I8R6Sxj766KNX/Asmrp27nZyWjgAAAABJRU5ErkJggg=="},c322:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgB7ZkxaBNRGMf/L4kGHSRCJwVtndqpSjBTSyMOgraQujpYB12TTTMlWYxjnB2axbkBq6BQeqJTxWKmikMsgjjYIRRaDLZ5fl/itef17t1dcpdYuB8kl8t77/L93/u+l/u+A0JCQkLsyJTlKL8QIAI+kynKxN4pZOljDhIJ/k4CmxFAi0qUanmxCR/xTYCV4Ra/1qT3yvJDUYJP+CJgriwX2gIFutiom/6dFaHVeJEXVfRJXwJmyzJNVyjQx7RV++l497jbsh7PQoTEveW80NAjPQngwNwTWITC8PkUcGOye/7uM7C0Bmxtw86Iaq/x4UkA+/l+HAUpyM8tYMPZaH7ps6/DxutCFMZ4FuJKgJsATV4C7kwBI2fU12IhSx9IzIZ1e8etBKpuA91RQMddgBr1nLRqnzhPfVLdoxdYSOUV8G3Lup2FnJC45rQajgJuPZFfrXYXnun7170bbkYVHyxi5xeuaEXRtBsfhQLeHknigvE79u3ZJPCAjD93Fn1zceQwZn40/92xaOISJ6NofVkpaXbjY1BAM5A1nrOf86ybA9QPWERyDHj+HvjYMDQIzKjGRVSNNPiy8ZSDNAjjdXS3NJFWjVELsPiBoPE6QZ4E/I+EAoZNKGDYhAKGTShg2IQCho0nATstBM7PbW/9nQRoxpNnK/aJuR/wBPHttBHKvz+pxijzAUoI3tItdVo/XW90U0A9cfcLNvxNHXhdP1qCibTxVDVWmVJ2kvk4Vs15AcO31vNXgekJ9AUnLzzrdinly0diTDXeVVL/W2DVrup2gVLC3E3vucLGd6oUrHWPlkjUyT0yfSf1OnOPZa4dQdZOyNQ4cDvlLISDlGd8vQE7i5ogt4m1UKkpkvnD7h7g1dgHihRYd+36cEVuevyoEJWfHyA7hhfdGK7Tc2lRJcQcH2w0l0527bdhLUY10sBLi2a4uEsiFu3cyqm4C96mqZQ48OKumWNbXjdDK1Kkv8as8gGHhwB1g/+PmP7GB63IzMGKBGD4QBjEQ76QkJBjzh9lJR0IqhO8agAAAABJRU5ErkJggg=="},cacb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATMSURBVHgB7VnPbxtFFH4zjt3YDYqLyCEgtS7hABQUS+WARFGTAzeQ6LG0hUQCnFv8HyS5ccO5xQgpgSrliBAnSKUYNUgcWqkRP9JD07qRIIdUjUvJOrZ3Z3hv3aS7s+PYa29sVfUXrZyZfbvz3ps3b958C9BFF882GASEy58WRxhYSR7iZwFkUkoZB8bi9k0pC/h/ngHLW1KuguC5S19HczXfNfFohEu+/ERJlvsoGxvVyfZAC5hPy3ivsTspwEoDE3EaSuJfdVSHb6qGJPFekjP4EEJiajG1k8e+XJnxmfG5aB6aRFMGkOJHisUpWTTSwtazqYlM4DUWkWIMjVlo1hAOPrGYMiYjxs5d9GYaggMZsrz42X9j4BO+ZuBKyvjSVpx5PR7uZTD4RggGTnLof5FD7PlqH6GyK8F4APBwU8DWuoDNPy27T0ECOJu/8rkxbIH1AzSIhub+cch8j8qPqPdixxi8ciYMx9/i+wo3go0bFqwtmWBsC+/N6qKPP1GyxUUcLu7kJLBhVx8q+9p7YRg6E4JmcPx0yL7WfzVh7WfTPSMO5euhrgGPw8alPHn93dQR+7dVDL3TA4Ovh+BatqyfjTo4cBHTolIXK8V3UMrvoeqQCPQP+s4ptWdgfqKYACmm1IHe/jjSkvJrSxUwClJ7LxwF36hpQFhY0xiLif12bzBhc/+OsC8/sHf1GtDOGXmfMfaJs48WbJBh4wsMkvPpba0RWgNs7ztAijebbYJCjxHRbpzaEELvn3W2yftBgd5lPJB15bYwzDZumPttrKEm8WdalfPEhFoJhqMM3p/uhXajUgT46Ytd1/4gLD6qVrHeEBJ8xNmkHN0JUEYaPOUem3GZVOU8BjAmXEIDQ/5zc1AYeNk9NmPeUsZrgOQnnO1mNpeg0P+SJ8KH1Q6ddglng6rKTiEW96jnSaVeA5hbyE+FGTQ0O3MDBjxl8BogoeBsag4ebQOlUgUFtUOThdxCdJLqFIyCUjNJyKsyHgMEiFVnu/CP/xo9KDz8W5l9BvdUGU0IsZyzef+OBZ3CllK1Cgk3VRmPAZJLl9DmX6Jj64AO/y4gIabKeAy4NPdczrmQK0UJ9663P4w2rqvMBcvr2DxtGhVczDrb6ysVaDfWrppKj8zp5LQGmLtmxtk2tiXcXmnfWri94qVbODJ3OlmtAeMLxzCBuWfh1tWKbchhg8a4taR6HxbO16Ada+7EZsmcVtfCtWzpUI2gdxO9osZ+Le8TahpAsyBDckYd4LdvD8eI6rs13BATM+cPIH3rVmqXU48yHPiksy9IYouw53kvsSVnL2T7DiSRG9IA2bllHS/65gcR5EVbO7HRgqWYV/cabK1ezB5N1nu+IW60VCqdi0Qiy0RvOPt//7GMKZbBq3hQP3G6cUNIWdpb1lf05C6RueVo9Fwj7/IVA7pw2oNNr5/i8MJQyD7FHVXo9R0sCv/FumrrrgWbfxy0u9cPm6YNICxO4EcIyZFylAkIEpjxMExnLn7Vl/HzmO8DzYW5vgXO2CjSfd9AYJCz5VjspF/lCS2lke+QgrSQxWPM/jKZ8PMseZxKFrO3LzOeYQVoEsF9ZkVCjDglnJ1hZGMTQOTA3vkalaWDEn4kuSml+IUqXrto7KKLLlrG/4VSAdWttKMUAAAAAElFTkSuQmCC"},cd6b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU+SURBVHgB7VnLbxtFGP/tI3FeTVJVcQX04aiihxaViANSuRCLptAjAsGRZ88p6h+QmntV51yEyhFExRFEimwucECCBEGEOFC3AQppozqtm8bperfft6mT2ZlZe9e7PlTNT7LsGc/O95hvvtcCO9jBkw0DKeHGHCYtYMIw8DJ9JuBh1ANGHxGpegYqNFdxPSyYQHlsCmWkgEQCXC1hdMjFtOHhTJPZGIQr9FV+YKHwVN7/3RE6EuAR4zOk0TNIAcTEpU4FiS3AyhVMk7bPxdV4BEYqrotC9iQuxXwuOm5+hwthWjfsYfTueQ32yEuwh47AzBzw5xiecwdu/ToatUU8WP0BGyvf+HMhHBXHXsFHSFMA32Qa+Ip+Tsr/WZn96Nv3IXqzb28xHAUb/3+B+9fOo1FfgoaredtEfnce1Xb7RBJg+VvMGyaeDzxIzPYfPIu+p08jCer/XsQaCaI5kfLYCeTbPd9WAJ3ZsNZ3HfsSZt9+pAF3fQl3f31TPY0I5mS2+pM0/67MvD14tGPmmVGd7fNevCfvHQDR/m+utacLPYEbJeR6GiiRt8k155Jonpm/Q1pm0xs+dll7X0JOompbGA+7D6EnYDm+q8w1x0wwKfMuMda49zv9fqPlSUjCjTocc0KgFYC1T+nAO+IcX9hObX7t6ozPfBPthBggWgGQKd0u6eOOVgDWfmDMrjKBtxl8tqjYdyshMkSLaYrYcPR3QSuASQmZOO6XNRITm+Z3OZYQHFsknqa1e8sTNymrpNmSSHz38T90z2Ltrxk4td8QFcwoMy3DIsHki81rqz+9GBTOQ17OYm15M5eirXgsvXtOIQwNYt5Z/RGJQUzKXqmZmtQpYm/Ro3SdvsriOp0JTYiDnpHj6DbCTJTzKhGGJpVRBDBNHBTH1tBRdBt2iJJsibZlBNMZf408QcVJzhPGZibcdQ4c+phsdBVJwKYS5p5l2roUXhFAXtQqw7QGu3s6GtqKAC1zoccBqglxAS5I6mk8RBPsEpOb0EjoSWrig5IP2eqOtMjbFoBTAMtWCXB+s/rzFJKCLzDHAB1cOb321JpZMaGGiwVx7NTUwMO4f/08ug2ZNsWoa/IaRQBDChS6QMXaFwNMt+BQ/SxhXp7Q3YHAoo2VrzHgFAL3wLdbcnFyBcVzZt8+xIE19Fzof1z8izChNsO0Bc2tK7gtXuSBQwUlG/XvwC9TgYvGfns4pVKTT/jen9sJKPFTyZ7AuLxO60Y9D7PieP3vT5Q1zOTQ4WJgji/d3cX3kQa4YxGgB30rUiuAbaMoM7ZO3QMZPZRsyXkMu9akF7z+z0XFA3HnTrdWKwDXn2RbgVNgjbDZyOg/cJayxle3xpzzZ7JvoVMwjTVJAdx6DGs7htfEFs4ZQuBgW/frWo0Qg4dnN6u2Z05j+IW5ju9As3YW7xXbfpj2GS37QsvU0qDa+II4x1Fz15FPFSZbRewo8DsSix+QCQYLJM/Fe636pW0bW+SRiqSFQDmXprdhiF0LEUR3ljxPZ30hESQE94cmAw+m1VqkC8s2L+c91Kle2HsyWFzpEEkAbmlQb6ZEKlE25NNgQTJ7o19cZra+/Lnvnl1dc5dcZs3C6+NpNXeb0JnT1kZ+DXvKT864kmLBgu31JT+3cdq016OYTccCMPx+qYkZQ+japYQqBdBCdioYg9ohdkHDHqFhIU/EPkNKYK2TyYzHZZ6R6CUftyD9Lh6/mYx/Ilx3zNYo6kex9TCk9pqVG2LcU+LOAb1SzRFzOWwnhFVjs1Cap9es33PGm9Zr1h3s4EnHQ/vALAsXKXDEAAAAAElFTkSuQmCC"},d33a:function(t,e,n){"use strict";var i=n("1348"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},dfe4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH8SURBVHgB7dlPKERBHAfw72x7WDng5M/Fn4ty8efioNhSLiQKJ8pZygUHpZRywIHIwQVnDmxclEI5uAgHchEnnOxxlYz5WdTaN9vbmTH7ZD61tc3sq/m+95s/uws4juM4/xnL1Dk+zLs4x4h4G0VunINjcW6Frcs+IA0wNsQHRe8aAoAxdM8us22vvpD0qtDHnQ+EzyrwJA/AUYfgiMo6wvBpcgZWTU/4+1wIliUSMMpqgNMTYGkWeHqAMdYC3FwD+3vJJ7C6BFycwQgrAWjQsc3UttgWcHQAbVYCRCJAY1N6+/GBfgjfq5CXyyzKoLAIqK4RpXSV2k4hXsQTamuHEq0AO1swgiZ3bT1QXIasWV9GvRSXqg2eBCKA1/zwS6uEahtgRHkllGkF6OxBzgWihHRoPYH7WxhRXgVlygHoKBAztIzqnHSVS+jYwDHABKUAVDrxZwSCUglF8pLnm59n+wJxXCgqhFVKAWjnbOtInwN5IlTvQDKcLcpzgDaxltbUtkfxRWV/F1Zp7QPNrem7cUkprNLaBwiVEt15mg99/X8wANU7DZzQmd827QAkFwP/4juAqV3XtEwB4uL1vaqb+hVBUVzWIV2FOMMigoJhQ9YlDfAaxgKH/EJbxBgO88OYkvVn/H+AjA7zKHtDBXKAh3A3v8wO4TiO4/yWdxHwaVbarNdOAAAAAElFTkSuQmCC"},f85e:function(t,e,n){"use strict";var i=n("1132"),o=n.n(i);n.d(e,"default",(function(){return o.a}))},f8ce:function(t,e,n){t.exports={root:"content-hover_root_O4Qe3"}},fd98:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOeSURBVHgB7ZnPaxNBFMe/E5v0F2K8FRGbgmBPmoOCKNJs/4HivaA9NkXanAQvTQ968GJ6aNVTc/Degx68JSqe9NBWUATBLVTxILgisWna7vhmk2Ldnc3+miQF84GUyexs837NzJs3QJcu/zcMiugrPcww7KcZYmP0NQ3wJP37ZP0pNxiYzgGd2usmzHJVu1WGAiIpkCytJGuozgLm3F9hfaPTO2UTWKhq0zpCEkoBIfgutufJonNQAiuGVSSwAv2lR7MUKvkQFvdCZ+ALFW2mGOSlQAoMlpYfqLO6HBKoUNGyuQDjvamHTHWVg2fQBkiotTh2NEPLGV5jY/DBLt8ut0t4AXk5vYveVT9jPRWwwobhAtoMKZERv+01rmkIDZaWbnKwFXQQUiS3rWULbs9dFaCNKRUDL1Ezhc5iJLAz4jYfXEMoxnkenRdeQAtI77zbQ6kHGtb/jCMEeeGkzAtSDzSsH4rhvuM4Qx/V1JCQ7j/yEGIYQwjupC7h/eVJfKDP49FxxYqwWWmvvUNklY3JG5hKZvqf7z/3drC09Q539TdQgYl9zZ7FOjwQg5mBIk709JJXLlpemRw6h6gwHEvb+5whxGNpKEbMCxFSz9MTEcPKmQ04FWB8GC3iWvJUpPlBhyJHRiCbxCm0GBFOwhuTQ6MIiCOFj/kZ1ApEWN0/ewUB8aVA2zD2aoiKTAHPHFwFBi2x94Ivrw7ZeuwdlP1RBaG1YbS0tUHCv7WUCAbX7T0OBRhn6/QnhRbw0vhiCf7K+IowkHE37X1ODzBeJg9MQCGb1V+4/ek1nn6Plh+Ko6a9TxJCbI0JXUMgUgex+x5gWKnEBpYpnQgeLk5EQczeJ02nB0rLPxBiHsycPk9L41Wr/eTbR2uSCusrQv+tZUfsnT3ysXyRdHM9RLghrP2sESYKBa/DWFnWLd0HEqi5nkG9EIIrF54wORZk/VIFxMmHWV44IjBWdCs7uu7EcdTyaNOm5oHuZn2BqwLCC7QWub7YLigDbVr0bZoLiXpMJ0OJhF+saNPF5mN8QBWykqiUoY0wjvXKeNbzcOUrG6VC63VIdsFWQZYvx1l/xt/YAFCpscBdqgOqaISN7xJ+oPMAXT7MmWBTsK6HVMPFopELIrwg1BVTo3KXp+YNKEBYPY6+vKFNBV62I13yHVJEFMJSCAQXwi4mMFAII/gBSq9Z6zUlq3KQIgFTh69ZqS2EXKMweSEyXlrby+jSpUtk/gB2wEhpV3BI9QAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.f766d109.js.map